{"version":3,"file":"react-controls.cjs.development.js","sources":["../src/utils/timeZoneUtils/useDateFnsLocales.ts","../src/utils/timeZoneUtils/useTimeZoneHelper.ts","../src/constants/EBreakPoints.ts","../src/constants/EMessageTypes.ts","../src/utils/useComponentsUtils.ts","../src/utils/useImageUtils.ts","../src/components/Card/useCardStyles.tsx","../src/components/Card/Card.tsx","../src/components/Carousel/useCarouselButton.tsx","../src/components/Carousel/useCarouselStyles.ts","../src/components/Carousel/useCarouselStylesMain.tsx","../src/components/Carousel/Carousel.tsx","../src/components/Center/useCenterStyles.tsx","../src/components/Center/Center.tsx","../src/components/Grid/useGridStyles.tsx","../src/components/Grid/Grid.tsx","../src/components/Layout/useLayoutStyles.tsx","../src/components/Layout/Layout.tsx","../src/components/Layout/LayoutItem.tsx","../src/components/RenderLabel/useRenderLabelStylesStyles.ts","../src/components/RenderLabel/RenderLabel.tsx","../src/components/RenderSpninner/RenderSpinner.tsx","../src/components/Space/useSpaceStyles.tsx","../src/components/Space/SPace.tsx","../src/components/Stack/useStackStyles.tsx","../src/components/Stack/Stack.tsx","../src/components/Stack/StackItem.tsx","../src/components/customControlBar/CustomControlBar.tsx","../src/components/dataGrid/SkeletonLoading.tsx","../src/components/dataGrid/useDataGridStyles.tsx","../src/components/dataGrid/DataGrid.tsx","../src/components/dropDownField/DropDownField.tsx","../src/components/genericOverFlowMenu/GenericOverFlowMenu.tsx","../src/components/renderDialog/RenderDialog.tsx","../src/components/renderHeader/useRenderHeaderStyles.ts","../src/components/renderHeader/RenderHeader.tsx","../src/components/shareDialog/ShareDialog.tsx","../src/components/showMessage/useShowMessageStyles.ts","../src/components/showMessage/ShowMessage.tsx","../src/components/breadcrumb/useBreadcrumStyles.ts","../src/components/breadcrumb/OverflowMenu.tsx","../src/components/breadcrumb/Breadcrumb.tsx","../src/components/AspectRatio/AspectRatio.tsx","../src/components/AspectRatio/useAspectRatioStyles.tsx","../src/components/calendarControl/EventDetailsPopover.tsx","../src/components/calendarControl/useCalendarStyles.ts","../src/components/calendarControl/useUtils.ts","../src/components/calendarControl/RenderEventToDayOfMonth.tsx","../src/components/calendarControl/Day.tsx","../src/components/calendarControl/useWeekViewStyles.ts","../src/components/calendarControl/EventPopoverCard.tsx","../src/components/calendarControl/EventRender.tsx","../src/components/calendarControl/useCalendar.ts","../src/components/calendarControl/useDayViewStyles.ts","../src/components/calendarControl/DayView.tsx","../src/components/calendarControl/ECalendarViews.ts","../src/components/calendarControl/SelectCalendarView.tsx","../src/components/selectDay/SelectDay.tsx","../src/components/selectMonth/CalendarMonth.tsx","../src/components/selectMonth/SelectMonth.tsx","../src/components/selectWeek/SelectWeek.tsx","../src/components/calendarControl/Toolbar.tsx","../src/components/calendarControl/WeekView.tsx","../src/components/calendarControl/CalendarControl.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport {\n  bg,\n  ca,\n  cs,\n  da,\n  de,\n  el,\n  enCA,\n  enGB,\n  enUS,\n  es,\n  et,\n  fi,\n  fr,\n  gl,\n  hr,\n  hu,\n  it,\n  ja,\n  lt,\n  lv,\n  nb,\n  nl,\n  nlBE,\n  pl,\n  pt,\n  ro,\n  ru,\n  sk,\n  sl,\n  sr,\n  sv,\n  tr,\n  vi,\n  zhCN,\n  zhTW,\n} from 'date-fns/locale';\n\nexport const useDateFnsLocales = () => {\n  const localeMapping: { [key: string]: Locale } = {\n    \n    \"en-CA\": enCA,\n    \"en-GB\": enGB,\n    \n    \n    \"en-US\": enUS,\n    \"bg-BG\": bg,\n    \"de-DE\": de,\n    \"es-ES\": es,\n    \"fi-FI\": fi,\n    \"fr-FR\": fr,\n    \"hr-HR\": hr,\n    \"hu-HU\": hu,\n    \"it-IT\": it,\n    \"lt-LT\": lt,\n    \"lv-LV\": lv,\n    \"nl-NL\": nl,\n    \"pl-PL\": pl,\n    \"pt-PT\": pt,\n    \"ro-RO\": ro,\n    \"ru-RU\": ru,\n    \"sl-SI\": sl,\n    \"sk-SK\": sk,\n    \"sr-SR\": sr,\n    \"tr-TR\": tr,\n    \n    \"nl-BE\": nlBE,\n    \"zh-TW\": zhTW,\n    \"zh-CN\": zhCN,\n    \"ca-ES\": ca,\n    \"cs-CZ\": cs,\n    \"da-DK\": da,\n    \"de-CH\": de,\n    \"el-GR\": el,\n    \"es-ES_tradnl\": es,\n    \"es-AR\": es,\n    \"et-EE\": et,\n     \n    \"gl-ES\": gl,\n    \"ja-JP\": ja,\n    \"nb-NO\": nb,\n    \"sv-FI\": sv,\n    \"sv-SE\": sv,\n    \"vi-VN\": vi,\n    \n  };\n\n  const getLocaleFromCultureName = (cultureName: string): Locale|null|undefined => {\n    if (!!cultureName) {\n      const locale: Locale = localeMapping[cultureName];\n      if (!!locale) {\n        return locale;\n      } else {\n        console.error(`[LocaleHelper.getLocaleFromCultureName()] => Cannot find module for locale: ${cultureName}`);\n        return null;\n      }\n    } else {\n      return null;\n    }\n  };\n\n  return { getLocaleFromCultureName };\n};\n","import {\n  formatDistance,\n  formatRelative,\n  Locale,\n} from 'date-fns';\n/* eslint-disable @typescript-eslint/no-var-requires */\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport * as date_fns_tz from 'date-fns-tz';\n\nimport { find } from 'lodash';\n\nimport { ITimeZoneMapping } from './ITimeZoneMapping';\nimport { useDateFnsLocales } from './useDateFnsLocales';\n\n// Load static dependency containing JSON mapping of SharePoint time zone and IANA time zone\nimport SpToIanaTimeZoneMapping from \"./SpToIanaTimeZone.json\";\n\nexport const useTimeZoneHelper = () => {\n  const { getLocaleFromCultureName } = useDateFnsLocales();\n\n  /**\n   * Guess browser's time zone using the Internationalization API (Intl.DateTimeFormat().resolvedOptions().timeZone) in supported browsers\n   * @warning It may not be work for legacy browsers.\n   */\n  const guessBrowserTimeZone = (): string | null => {\n    try {\n      return Intl.DateTimeFormat().resolvedOptions().timeZone.toString();\n    } catch (error) {\n      console.error(\n        `[getBrowserTimeZone()] => Could not determine browser's time zone as the Internalization API is not supported by the browser.`\n      );\n      return null;\n    }\n  };\n\n  /**\n   * Get IANA time zone for the corresponding SharePoint time zone\n   */\n  const getIANATimeZone = (spTimeZoneId: number): string => {\n    const tzMapping:any = find(SpToIanaTimeZoneMapping, (tz:ITimeZoneMapping) => tz.ID === spTimeZoneId);\n    const ianaTimeZone = !!tzMapping ? tzMapping.IANATimeZone : null;\n    return ianaTimeZone || \"\"; // Provide a default value in case ianaTimeZone is null\n  };\n\n  const getIANATimeZoneFromOutlookTimeZone = (outlookTimezone: string): string => {\n    const tzMapping:any = find(SpToIanaTimeZoneMapping, (tz:ITimeZoneMapping) => tz.OutlookTimeZone === outlookTimezone);\n    const ianaTimeZone = !!tzMapping ? tzMapping.IANATimeZone : null;\n    return ianaTimeZone || \"\"; // Provide a default value in case ianaTimeZone is null\n  };\n\n  const getTimeZone = (timeZoneId: number | string): string | undefined => {\n    if (typeof timeZoneId === \"number\") {\n      return getIANATimeZone(timeZoneId as number);\n    } else {\n      return getIANATimeZoneFromOutlookTimeZone(timeZoneId as string);\n    }\n  };\n\n  /**\n   * Get a date/time representing local time in a given time zone from the UTC date\n   */\n  const utcToZonedTime = (date: Date | string | number, timeZoneId: number | string): Date => {\n    const timeZone = getTimeZone(timeZoneId);\n    if (!timeZone) {\n      throw Error(\n        `[utcToZonedTime()] => Could not map specified SharePoint time zone with corresponding IANA time zone.`\n      );\n    }\n    return date_fns_tz.utcToZonedTime(date, timeZone);\n  };\n\n  /**\n   * Given a date and any time zone, returns a Date with the equivalent UTC time.\n   */\n  const zonedTimeToUtc = (date: Date | string | number, timeZoneId: number | string): Date => {\n    const timeZone = getTimeZone(timeZoneId);\n    if (!timeZone) {\n      throw Error(\n        `[zonedTimeToUtc()] => Could not map specified SharePoint time zone with corresponding IANA time zone.`\n      );\n    }\n    return date_fns_tz.zonedTimeToUtc(date, timeZone);\n  };\n\n  /**\n   * Formats a date to a string showing time for a specific time zone, which can be different from the system time zone.\n   */\n  const formatUtcToZonedTime = (\n    isoDateString: string,\n    spTimeZoneId: number | string,\n    format: string,\n    cultureName?: string\n  ): string => {\n    const utcDate = new Date(isoDateString);\n    const timeZone = getTimeZone(spTimeZoneId);\n    if (!timeZone) {\n      throw Error(\n        `[formatUtcToZonedTime()] => Could not map specified SharePoint time zone with corresponding IANA time zone.`\n      );\n    }\n    const locale: Locale | null | undefined = !!cultureName ? getLocaleFromCultureName(cultureName) : undefined;\n\n    // To format a date to a string showing time for a specific time zone, which can be different from the system time zone, the format function can be combined with utcToZonedTime.\n    const zonedTime = date_fns_tz.utcToZonedTime(utcDate, timeZone);\n\n    // The format function will never change the underlying date, it must be changed to a zoned time before passing it to format.\n    // Since a zoned time `Date` instance cannot convey the time zone information to the format function it is necessary to pass the same timeZone value as an option on the third argument of format.\n    return date_fns_tz.format(zonedTime, format, { timeZone: timeZone, locale: locale as Locale });\n  };\n\n  const getDateDistanceToNow = (utcDate: string, timeZoneId: number, cultureName?: string, addSufix?: boolean) => {\n    const timeZone = getTimeZone(timeZoneId);\n    if (!timeZone) {\n      throw Error(\n        `[formatUtcToZonedTime()] => Could not map specified SharePoint time zone with corresponding IANA time zone.`\n      );\n    }\n    const zonedTime = date_fns_tz.utcToZonedTime(utcDate, timeZone);\n    const locale: Locale | null | undefined = !!cultureName ? getLocaleFromCultureName(cultureName) : undefined;\n    return formatDistance(zonedTime, new Date(), { addSuffix: addSufix ?? true, locale: locale as Locale });\n  };\n\n  const getFormatRelative = (utcDate: string, timeZoneId: number | string, cultureName?: string) => {\n    const timeZone = getTimeZone(timeZoneId);\n    if (!timeZone) {\n      throw Error(\n        `[getFormatRelative()] => Could not map specified SharePoint time zone with corresponding IANA time zone.`\n      );\n    }\n    const zonedTime = date_fns_tz.utcToZonedTime(utcDate, timeZone);\n    const locale: Locale | null | undefined = !!cultureName ? getLocaleFromCultureName(cultureName) : undefined;\n    return formatRelative(zonedTime, new Date(), { weekStartsOn: 6, locale: locale as Locale });\n  };\n\n  return {\n    guessBrowserTimeZone,\n    utcToZonedTime,\n    zonedTimeToUtc,\n    formatUtcToZonedTime,\n    getDateDistanceToNow,\n    getFormatRelative,\n  };\n};\n","export enum EBreakPoints { \n    XXXLarge = 1900,\n    ExtraExtraLarge = 1400,\n    ExtraLarge = 1200,\n    Large = 992,\n    Medium = 768,\n    Small = 576,\n    ExtraSmall = 320\n\n }\n\n","export enum EMessageType {\n    INFO = 'info',\n    ERROR = 'error',\n    SUCCESS = 'success',\n}\n","/* eslint-disable @typescript-eslint/no-unused-vars */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport * as React from 'react';\n\nimport {\n THorizontalSpacing,\n TPading,\n TVerticalSpacing,\n} from '../types';\n\nimport { EBreakPoints } from '../constants';\nimport {\n  IBaseProps,\n} from '../components/baseComponentProps/IBaseProps';\nimport {\n  tokens,\n} from '@fluentui/react-components';\n\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\n\ninterface IUseUtils {\n  getCacheKey: (key: string, uniqueId: string) => string;\n  validateUrl: (url: string) => boolean;\n  trimBeginDoubleSlash: (value: string) => string;\n \n  isValidGUID: (str: string) => boolean;\n  getPageNameFromUrl: (url: string) => string;\n  getSPSiteAbsoluteUrl: (absolutefileUrl: string) => string;\n  getFileServerRelativeUrlFromAbsoluteUrl: (absoluteFileUrl: string) => string;\n  encodeRestUrl: (query: string) => string;\n  getSpacing: <T>(value: string | T, containerWidth: number, type: \"vertical\" | \"horizontal\" | \"padding\") => string;\n  getCurrentDevice: (containerWidth: number) => string;\n  getBaseStyles: (baseProps: IBaseProps, containerWidth: number, containerHeight: number) => React.CSSProperties;\n  getLayoutBreakPoint: <T>(value: string | T, containerWidth: number) => string;\n}\n\nexport const useComponentUtils = (): IUseUtils => {\n  const getCacheKey = React.useCallback((key: string, uniqueId: string) => {\n    return `${key}${uniqueId}`;\n  }, []);\n\n  const validateUrl = React.useCallback((url: string): boolean => {\n    if (!url) {\n      return false;\n    }\n    try {\n      const urlValid = new URL(url);\n      return !!urlValid;\n    } catch (e) {\n      return false;\n    }\n  }, []);\n\n  const trimBeginDoubleSlash = (value: string) => {\n    if (value.charAt(0) === \"/\" && value.charAt(1) === \"/\") {\n      return value.substring(1, value.length);\n    }\n    return value;\n  };\n\n \n\n  const isValidGUID = React.useCallback((str: string): boolean => {\n    const regex = new RegExp(/^[{]?[0-9a-fA-F]{8}-([0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}[}]?$/);\n    if (!str) {\n      return false;\n    }\n\n    if (regex.test(str) === true) {\n      return true;\n    } else {\n      return false;\n    }\n  }, []);\n\n  const getPageNameFromUrl = React.useCallback((url: string): string => {\n    if (!url) {\n      return \"\";\n    }\n    const urlParts = url.split(\"/\");\n    return urlParts[urlParts.length - 1];\n  }, []);\n\n  const getSPSiteAbsoluteUrl = React.useCallback((absolutefileUrl: string): string => {\n    const hostname = window.location.hostname;\n    const rootSiteUrl = `https://${hostname}`;\n    if (\n      absolutefileUrl.indexOf(`${rootSiteUrl}/sites/`) > -1 ||\n      absolutefileUrl.indexOf(`${rootSiteUrl}/teams/`) > -1\n    ) {\n      const fileServerRelativeUrl = absolutefileUrl.split(hostname)[1];\n      // Split server relative URL by '/' to obtain web name\n      const webName = fileServerRelativeUrl.split(\"/\")[2];\n\n      let webAbsoluteUrl = `https://${hostname}/sites/${webName}`;\n      if (absolutefileUrl.indexOf(`${rootSiteUrl}/teams/`) > -1) {\n        webAbsoluteUrl = `https://${hostname}/teams/${webName}`;\n      }\n      return webAbsoluteUrl;\n    }\n    return rootSiteUrl;\n  }, []);\n\n  const getFileServerRelativeUrlFromAbsoluteUrl = React.useCallback((absoluteFileUrl: string): string => {\n    let fileServerRelativeUrl = absoluteFileUrl.split(window.location.hostname)[1];\n    fileServerRelativeUrl = trimBeginDoubleSlash(fileServerRelativeUrl);\n    return fileServerRelativeUrl;\n  }, []);\n\n  const encodeRestUrl = React.useCallback((query: string) => {\n    return encodeURIComponent(query.replace(/[%]/g, \"%25\"))\n      .replace(/[']/g, \"%27%27\")\n      .replace(/[&]/g, \"%26\")\n      .replace(/[#]/g, \"%23\")\n      .replace(/[?]/g, \"%3F\")\n      .replace(/[/]/g, \"%2F\")\n      .replace(/[+]/g, \"%2B\");\n  }, []);\n\n  const checkValueBreakPoint = React.useCallback(<T>(value: string | T): boolean => {\n    if (value === null || value === undefined) { return false}\n    return (\n      Object.prototype.hasOwnProperty.call(value, \"extraSmall\") ||\n      Object.prototype.hasOwnProperty.call(value, \"small\") ||\n      Object.prototype.hasOwnProperty.call(value, \"medium\") ||\n      Object.prototype.hasOwnProperty.call(value, \"large\") ||\n      Object.prototype.hasOwnProperty.call(value, \"extraLarge\")\n    );\n  }, []);\n\n  const getProperty = React.useCallback(<T, K extends keyof T>(obj: T, key: K): T[K] => {\n    return obj[key.toString().toLowerCase() as K];\n  }, []);\n\n  const getCurrentDevice = React.useCallback((containerWidth: number): string => {\n    if (containerWidth >= EBreakPoints.XXXLarge) return 'XXXLarge';\n    if (containerWidth >= EBreakPoints.ExtraExtraLarge) return 'ExtraExtraLarge';\n  if (containerWidth >= EBreakPoints.ExtraLarge) return 'ExtraLarge';\n  if (containerWidth >= Number(EBreakPoints.Large)) return 'Large';\n  if (containerWidth >= Number(EBreakPoints.Medium)) return 'Medium';\n  if (containerWidth >= Number(EBreakPoints.Small)) return 'Small';\n  return 'ExtraSmall';\n  }, []);\n\n  const getSpacingBreakPoint = React.useCallback(\n    <T>(value: string | T, containerWidth: number): string => {\n      const device = getCurrentDevice(containerWidth);\n      const breakPoints: Record<string, string> = {\n        ExtraSmall: \"xs\",\n        Small: \"s\",\n        Medium: \"m\",\n        Large: \"l\",\n        ExtraLarge: \"xl\",\n        ExtraExtraLarge: \"xxl\",\n      };\n\n      let newValue = value;\n      if (checkValueBreakPoint<T>(value as string | T)) {\n        newValue =\n          (getProperty<T, keyof T >(value as T, (device as keyof T) ?? \"Medium\")  as unknown as  string) || breakPoints[device];\n      }\n      return newValue as string;\n    },\n    [getCurrentDevice, checkValueBreakPoint, getProperty]\n  );\n\n  // \"none\" | \"xxs\" | \"xs\" | \"sNudge\" | \"s\" | \"mNudge\" | \"m\" | \"l\" | \"xl\" | \"xxl\" | \"xxxl\"\n  const getSpacing = React.useCallback(\n    <T>(value: string | T, containerWidth: number, type: \"vertical\" | \"horizontal\" | \"padding\"): string => {\n      if (!value) return \"none\";\n  \n      // Check if value is in pixel format like '20px' or percentage format like '20%'\n      if (typeof value === \"string\" && (/^\\d+px$/.test(value) || /^\\d+%$/.test(value))) {\n        return value; // Return the same value for all sides\n      }\n  \n      const newType = type;\n      const spacingTokens: Record<string, string> = {\n        padding: \"spacingHorizontal\",\n        vertical: \"spacingVertical\",\n        horizontal: \"spacingHorizontal\",\n      };\n  \n      const newValue = getSpacingBreakPoint<T>(value, containerWidth);\n  \n      switch (newValue) {\n        case \"none\":\n          return tokens[`${spacingTokens[newType]}None` as keyof typeof tokens];\n        case \"xxs\":\n          return tokens[`${spacingTokens[newType]}XXS` as keyof typeof tokens];\n        case \"xs\":\n          return tokens[`${spacingTokens[newType]}XS` as keyof typeof tokens];\n        case \"sNudge\":\n          return tokens[`${spacingTokens[newType]}SNudge` as keyof typeof tokens];\n        case \"s\":\n          return tokens[`${spacingTokens[newType]}S` as keyof typeof tokens];\n        case \"mNudge\":\n          return tokens[`${spacingTokens[newType]}MNudge` as keyof typeof tokens];\n        case \"m\":\n          return tokens[`${spacingTokens[newType]}M` as keyof typeof tokens];\n        case \"l\":\n          return tokens[`${spacingTokens[newType]}L` as keyof typeof tokens];\n        case \"xl\":\n          return tokens[`${spacingTokens[newType]}XL` as keyof typeof tokens];\n        case \"xxl\":\n          return tokens[`${spacingTokens[newType]}XXL` as keyof typeof tokens];\n        case \"xxxl\":\n          return tokens[`${spacingTokens[newType]}XXXL` as keyof typeof tokens];\n        default:\n          return tokens[`${spacingTokens[newType]}M` as keyof typeof tokens];\n      }\n    },\n    [getSpacingBreakPoint]\n  );\n\n  const getBaseStyles = React.useCallback((baseProps:IBaseProps, containerWidth: number, _containerHeight: number): React.CSSProperties => {\n    const {\n      verticalSpacing,\n      horizontalSpacing,\n      paddingLeft,\n      paddingRight,\n      paddingBottom,\n      background,\n      width,\n      maxWidth,\n      height,\n      maxHeight,\n      marginLeft,\n      marginRight,\n      marginTop,\n      marginBottom,\n      paddingTop,\n      padding,\n      margin,\n      styles,\n    } = baseProps;\n    \n\n    let wpaddingTop = getSpacing<TPading>(paddingTop as string, containerWidth, \"padding\");\n    let wpaddingLeft = getSpacing<TPading>(paddingLeft as string, containerWidth, \"padding\");\n    let wpaddingRight = getSpacing<TPading>(paddingRight as string, containerWidth, \"padding\");\n    let wpaddingBottom = getSpacing<TPading>(paddingBottom as string, containerWidth, \"padding\");\n    const wpadding = getSpacing<TPading>(padding as string, containerWidth, \"padding\");\n\n    let wmarginLeft = getSpacing<TPading>(marginLeft as string, containerWidth, \"padding\");\n    let wmarginRight = getSpacing<TPading>(marginRight as string, containerWidth, \"padding\");\n    let wmarginTop = getSpacing<TPading>(marginTop as string, containerWidth, \"padding\");\n    let wmarginBottom = getSpacing<TPading>(marginBottom as string, containerWidth, \"padding\");\n\n    const wmargin = getSpacing<TPading>(margin as string, containerWidth, \"padding\");\n\n    if (wpadding) {\n      wpaddingTop =   wpaddingTop === 'none' ? wpadding : wpaddingTop;\n      wpaddingLeft = wpaddingLeft  === 'none' ? wpadding : wpaddingLeft;\n      wpaddingRight = wpaddingRight === 'none' ? wpadding : wpaddingRight;\n      wpaddingBottom = wpaddingBottom  === 'none' ? wpadding : wpaddingBottom;\n    }\n\n    if (wmargin) {\n      wmarginLeft = wmarginLeft  === 'none' ? wmargin : wmarginLeft;\n      wmarginRight = wmarginRight  === 'none' ? wmargin : wmarginRight;\n      wmarginTop = wmarginTop === 'none' ? wmargin : wmarginTop;  \n      wmarginBottom = wmarginBottom  === 'none' ? wmargin : wmarginBottom;\n    }\n\n    const wgapRow =  getSpacing<TVerticalSpacing>(verticalSpacing as string, containerWidth, \"vertical\");\n    const wgapCol = getSpacing<THorizontalSpacing>(horizontalSpacing as string, containerWidth, \"horizontal\");\n\n    const wgap = `${wgapRow} ${wgapCol}`;\n    return {\n      ...styles,\n      gap: wgap,\n      paddingTop: wpaddingTop,\n      paddingLeft: wpaddingLeft,\n      paddingRight: wpaddingRight,\n      paddingBottom: wpaddingBottom,\n      marginLeft: wmarginLeft,\n      marginRight: wmarginRight,\n      marginTop: wmarginTop,\n      marginBottom: wmarginBottom,\n      background: background,\n      width: width ?? undefined,\n      height: height ?? undefined,\n      maxWidth: maxWidth ?? undefined,\n      maxHeight: maxHeight ?? undefined,\n      overflow: \"auto\",\n       \n    };\n  }, [getSpacing]);\n\n\n  const getLayoutBreakPoint = React.useCallback(\n    <T>(value: string | T, containerWidth: number): string => {\n      const device = getCurrentDevice(containerWidth);\n      let newValue = value;\n      if (checkValueBreakPoint<T>(value as string | T)) {\n        newValue =\n          (getProperty<T, keyof T>(value as T, (device as keyof T) ?? \"Medium\")  as unknown as string) ||  \"\";\n      }\n      return newValue as string;\n    },\n    [getCurrentDevice, checkValueBreakPoint, getProperty]\n  );\n\n  return {\n    getCacheKey,\n    validateUrl,\n    trimBeginDoubleSlash,\n    isValidGUID,\n    getPageNameFromUrl,\n    getSPSiteAbsoluteUrl,\n    getFileServerRelativeUrlFromAbsoluteUrl,\n    encodeRestUrl,\n    getSpacing,\n    getCurrentDevice,\n    getBaseStyles,\n    getLayoutBreakPoint,\n  };\n}; // ... }\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { useCallback } from 'react';\n\nconst DEBUG = process.env.NODE_ENV !== 'production';\n\n/* eslint-disable @typescript-eslint/no-unused-vars */\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\n/* eslint-disable @typescript-eslint/no-use-before-define */\nimport { isEmpty } from 'lodash';\n\nconst DATA_IMAGE = \"data:image/\";\n\nexport const useImageUtils = () => {\n \n\n  const base64FromSVGUrl = useCallback(async (url: string): Promise<string> => {\n    const svg = await fetch(url).then((response) => response.text());\n    const svg64 = btoa(svg);\n    const b64Start = \"data:image/svg+xml;base64,\";\n    const image64 = b64Start + svg64;\n    return image64;\n  }, []);\n\n  const getImageBase64 = useCallback(async (pictureUrl: string, customWidth?: number, customHeight?: number): Promise<\n    string\n  > => {\n    return new Promise((resolve, reject) => {\n      const image = new Image();\n      image.crossOrigin = \"anonymous\";\n      image.addEventListener(\"load\", () => {\n        const tempCanvas = document.createElement(\"canvas\");\n        tempCanvas.width = customWidth ?? image.width;\n        tempCanvas.height = customHeight ?? image.height;\n        tempCanvas?.getContext(\"2d\")?.drawImage(image, 0, 0, customWidth ?? image.width, customHeight ?? image.height);\n        let base64Str;\n        try {\n          base64Str = tempCanvas.toDataURL(\"image/png\", 1);\n          resolve(base64Str);\n        } catch (err) {\n          if (DEBUG) {\n            console.error(`[ImageService.getBase64Image]: Err='${(err as Error).message}'`);\n          }\n          reject(err);\n        }\n      });\n      image.addEventListener(\"error\", (err) => {\n        if (DEBUG) {\n          console.error(`[ImageService.getBase64Image]: Image load error='${err.message}'`);\n        }\n        reject(err);\n      });\n      image.src = pictureUrl;\n    });\n  }, []);\n\n  const isBase64Image = useCallback((data: string) => {\n    return !isEmpty(data) && data.indexOf(DATA_IMAGE) >= 0;\n  }, []);\n\n  const getBase64ImageFromDOMImg = useCallback((imgElementId: string): string | undefined => {\n    try {\n      const imgElement = document.getElementById(imgElementId) as any;\n      const canvas = document.createElement(\"canvas\");\n      canvas.width = imgElement.width;\n      canvas.height = imgElement.height;\n      const ctx = canvas.getContext(\"2d\");\n      ctx?.drawImage(imgElement, 0, 0);\n      const dataURL = canvas.toDataURL(\"image/png\");\n\n      return dataURL;\n    } catch (err) {\n      if (DEBUG) {\n        console.error(`[getBase64ImageFromDOMImg]: Err='${(err as Error).message}'`);\n      }\n      return undefined;\n    }\n  }, []);\n\n  return {\n    getBase64ImageFromDOMImg,\n    isBase64Image,\n    getImageBase64,\n    base64FromSVGUrl,\n  };\n};\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport * as React from 'react';\n\nimport { ICardProps } from './ICardProps';\nimport { useComponentUtils } from '../../utils';\n\nexport const useCardStyles = (props: ICardProps) => {\n  const { styles } = props;\n  const { getBaseStyles } = useComponentUtils();\n\n  const cardStyles = React.useCallback(\n    (containerWidth: number, containerHeight: number): React.CSSProperties => {\n      const baseStyles = getBaseStyles(props, containerWidth, containerHeight);\n      return {\n        ...baseStyles,\n        ...styles,\n       \n      };\n    },\n    [getBaseStyles, props, styles]\n  );\n\n  const bodyCardDefaultStyles: React.CSSProperties = React.useMemo(() => {\n    return {\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"start\",\n      alignItems: \"stretch\",\n      overflow: \"unset\",\n    };\n  }, []);\n\n  return { cardStyles, bodyCardDefaultStyles };\n};\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport * as React from 'react';\n\nimport {\n  Card as CarFUI,\n  CardFooter,\n  CardHeader,\n  CardPreview,\n  mergeClasses,\n} from '@fluentui/react-components';\n\nimport { ICardProps } from './ICardProps';\nimport { ResizeObserver } from '@juggle/resize-observer';\nimport { useCardStyles } from './useCardStyles';\n\nexport const Card = (props: React.PropsWithChildren<ICardProps>) => {\n  const {\n    className,\n    cardBody,\n    cardBodyClassName,\n    cardHeader,\n    cardHeaderClassName,\n    cardHeaderImage,\n    cardHeaderAction,\n    cardHeaderDescription,\n    cardFooterAction,\n    cardFooterClassName,\n    cardFooterContent,\n    cardPreviewImage,\n    cardPreviewLogo,\n    cardPreviewPosition = \"top\",\n  } = props;\n  const { cardStyles, bodyCardDefaultStyles } = useCardStyles(props);\n  const ref = React.useRef<HTMLDivElement>(null);\n\n  const [width, setWidth] = React.useState(0);\n  const [height, setHeight] = React.useState(0);\n\n  React.useEffect(() => {\n    let resizeObserver: ResizeObserver;\n    if (ref.current) {\n      // observer to detect changes in the size of the container\n      resizeObserver = new ResizeObserver((entries) => {\n        for (const entry of entries) {\n          const { width, height } = entry.contentRect;\n          setWidth(width);\n          setHeight(height);\n        }\n      });\n      resizeObserver.observe(ref.current);\n    }\n    return () => {\n      if (resizeObserver) {\n        resizeObserver.disconnect();\n      }\n    };\n  }, []);\n  return (\n    <>\n      <div ref={ref}>\n        <CarFUI className={className} style={cardStyles(width, height)} {...props}>\n          {cardPreviewImage && cardPreviewPosition === \"top\" && (\n            <CardPreview logo={cardPreviewLogo}>{cardPreviewImage} </CardPreview>\n          )}\n          {cardHeader && (\n            <CardHeader\n              className={cardHeaderClassName}\n              image={cardHeaderImage}\n              header={cardHeader}\n              description={cardHeaderDescription}\n              action={cardHeaderAction}\n            />\n          )}\n          {cardPreviewImage && cardPreviewPosition === \"afterHeader\" && (\n            <CardPreview logo={cardPreviewLogo}>{cardPreviewImage} </CardPreview>\n          )}\n          {cardBody && (\n            <div className={mergeClasses(cardBodyClassName)} style={bodyCardDefaultStyles}>\n              {cardBody}\n            </div>\n          )}\n          {cardPreviewImage && cardPreviewPosition === \"bottom\" && (\n            <CardPreview logo={cardPreviewLogo}>{cardPreviewImage} </CardPreview>\n          )}\n          {cardFooterContent && (\n            <CardFooter action={cardFooterAction} className={cardFooterClassName}>\n              {cardFooterContent}\n            </CardFooter>\n          )}\n        </CarFUI>\n      </div>\n    </>\n  );\n};\n","import {\n  useCallback,\n  useEffect,\n  useState,\n} from 'react';\n\nimport { EmblaCarouselType } from 'embla-carousel';\n\ntype UsePrevNextButtonsType = {\n    prevBtnDisabled: boolean\n    nextBtnDisabled: boolean\n    onPrevButtonClick: () => void\n    onNextButtonClick: () => void\n  }\n  \n  export const usePrevNextButtons = (\n    emblaApi: EmblaCarouselType | undefined\n  ): UsePrevNextButtonsType => {\n    const [prevBtnDisabled, setPrevBtnDisabled] = useState(true)\n    const [nextBtnDisabled, setNextBtnDisabled] = useState(true)\n  \n    const onPrevButtonClick = useCallback(() => {\n      if (!emblaApi) return\n      emblaApi.scrollPrev()\n    }, [emblaApi])\n  \n    const onNextButtonClick = useCallback(() => {\n      if (!emblaApi) return\n      emblaApi.scrollNext()\n    }, [emblaApi])\n  \n    const onSelect = useCallback((emblaApi: EmblaCarouselType) => {\n      setPrevBtnDisabled(!emblaApi.canScrollPrev())\n      setNextBtnDisabled(!emblaApi.canScrollNext())\n    }, [])\n  \n    useEffect(() => {\n      if (!emblaApi) return\n  \n      onSelect(emblaApi)\n      emblaApi.on('reInit', onSelect)\n      emblaApi.on('select', onSelect)\n    }, [emblaApi, onSelect])\n  \n    return {\n      prevBtnDisabled,\n      nextBtnDisabled,\n      onPrevButtonClick,\n      onNextButtonClick\n    }\n  }\n  \n   \n  \n  \n   \n  \n  ","/* eslint-disable @typescript-eslint/explicit-function-return-type */\n\nimport * as React from 'react';\n\n import { css } from '@emotion/css';\n\nimport { tokens } from '@fluentui/react-components';\n\n \nimport { ICarouselProps } from './ICarouselProps';\nimport { useComponentUtils } from '../../utils';\n\nexport const useCarouselStyles = (_props: ICarouselProps, containerWidth: number, ) => {\n  const { getCurrentDevice } = useComponentUtils();\n\n  const slideSizeBasedOnWidth = React.useCallback(() => {\n    const deviceSize = getCurrentDevice(containerWidth);\n    let slideSize = \"95%\";\n    switch (deviceSize) {\n      case \"Medium\":\n        slideSize = \"45%\";\n        break;\n      case \"Large\":\n        slideSize = \"calc(95% / 4)\";\n        break;\n      case \"ExtraLarge\":\n        slideSize = \"calc(95% / 5)\";\n        break;\n      default:\n        slideSize = \"95%\";\n        break;\n    }\n    return slideSize;\n  }, [containerWidth, getCurrentDevice]);\n\n  const getSlideSpacing = React.useCallback(() => {\n    const deviceSize = getCurrentDevice(containerWidth);\n\n    let slideSpacing =  tokens.spacingVerticalM;\n\n    switch (deviceSize) {\n      case \"Medium\":\n        slideSpacing =  tokens.spacingVerticalM;\n        break;\n      case \"Large\":\n        slideSpacing =  tokens.spacingVerticalL;\n        break;\n        case \"ExtraLarge\":\n        slideSpacing =  tokens.spacingVerticalXL;\n        break;\n      default:\n        slideSpacing =  tokens.spacingVerticalM;\n        break;\n    }\n    return slideSpacing;\n  }, [containerWidth, getCurrentDevice]);\n\n  const enableControls = css({\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"stretch\",\n    gap: 10,\n    padding: 5,\n  });\n\n  const embla__viewport = css({\n    overflow: \"hidden\",\n    paddingTop: \"10px\",\n    paddingBottom: \"20px\",\n  });\n\n  const embla__container = css({\n    backfaceVisibility: \"hidden\",\n    display: \"flex\",\n    touchAction: \"pan-y\",\n    \n  });\n\n  const embla = css({\n    \".embla\": {},\n  });\n\n  const embla__slide = css({\n    minWidth: 0,\n    flex: `0 0 ${slideSizeBasedOnWidth()}`,\n    paddingLeft: `${getSlideSpacing()}`,\n  });\n\nconst embla__buttons = css({\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(2, 1fr)\",\n    gap: 0,\n    alignItems: \"center\",\n});\n\n\n  return { enableControls, embla__viewport, embla__container, embla, embla__slide, embla__buttons };\n};\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport * as React from 'react';\n\n \nimport { ICarouselProps } from './ICarouselProps';\nimport { useComponentUtils } from '../../utils';\n\nexport const useCarouselStylesMain = (props: ICarouselProps) => {\n  const { styles } = props;\n\n  const { getBaseStyles } = useComponentUtils();\n  const carouselStyles = React.useCallback(\n    (containerWidth: number, containerHeight: number): React.CSSProperties => {\n      const baseStyles = getBaseStyles(props, containerWidth, containerHeight);\n      return {\n        ...baseStyles,\n        ...styles,\n      };\n    },\n    [getBaseStyles, props, styles]\n  );\n\n  return { carouselStyles };\n};\n ","/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport * as React from 'react';\nimport { ResizeObserver } from '@juggle/resize-observer';\nimport useEmblaCarousel from 'embla-carousel-react';\n\nimport {\n  Button,\n  makeStyles,\n  mergeClasses,\n  Subtitle2,\n} from '@fluentui/react-components';\nimport {\n  ChevronLeftRegular,\n  ChevronRightRegular,\n} from '@fluentui/react-icons';\n\nimport { ICarouselProps } from './ICarouselProps';\nimport { usePrevNextButtons } from './useCarouselButton';\nimport { useCarouselStyles } from './useCarouselStyles';\nimport { useCarouselStylesMain } from './useCarouselStylesMain';\n\nconst useStyle = makeStyles({\n  titleStyles:{\n    display: \"-webkit-box\",\n     overflow : \"hidden\",\n    textOverflow: \"ellipsis\",\n    \"-webkit-line-clamp\": \"1\",\n    \"-webkit-box-orient\": \"vertical\",\n    textAlign: \"start\",\n    height: \"25px\",\n  }\n})\n\nexport const Carousel  = (\n  props: React.PropsWithChildren<ICarouselProps>\n) => {\n  const { className, items, title } = props;\n  const ref = React.useRef<HTMLDivElement>(null);\n  const [width, setWidth] = React.useState(0);\n  const [height, setHeight] = React.useState(0);\n  const { carouselStyles } = useCarouselStylesMain(props);\n  const [emblaRef, emblaApi] = useEmblaCarousel();\nconst styles = useStyle();\n  const {\n    enableControls,\n    embla__slide,\n    embla__container,\n    embla__viewport,\n    embla__buttons,\n    \n  } = useCarouselStyles(props, width );\n  const { prevBtnDisabled, nextBtnDisabled, onPrevButtonClick, onNextButtonClick } = usePrevNextButtons(emblaApi);\n\n  React.useEffect(() => {\n    let resizeObserver: ResizeObserver;\n    if (ref.current) {\n      // observer to detect changes in the size of the container\n\n      resizeObserver = new ResizeObserver((entries) => {\n        for (const entry of entries) {\n          const { width, height } = entry.contentRect;\n          setWidth(width);\n          setHeight(height);\n        }\n      });\n      setWidth(ref.current.clientWidth);\n      setHeight(ref.current.clientHeight);\n      resizeObserver.observe(ref.current);\n    }\n    return () => {\n      if (resizeObserver) {\n        resizeObserver.disconnect();\n      }\n    };\n  }, []);\n\n  return (\n    <>\n      <div\n        id=\"-carousel\"\n        className={mergeClasses(className, \"embla\")}\n        style={{ ...carouselStyles(width, height) }}\n        ref={ref}\n      >\n        <div className={enableControls}>\n          <Subtitle2\n            className={styles.titleStyles}\n            \n          >\n            {title}\n          </Subtitle2>\n\n          <div className={embla__buttons}>\n            <Button\n              onClick={onPrevButtonClick}\n              disabled={prevBtnDisabled}\n              appearance=\"subtle\"\n              icon={<ChevronLeftRegular />}\n            />\n            <Button\n              onClick={onNextButtonClick}\n              disabled={nextBtnDisabled}\n              appearance=\"subtle\"\n              icon={<ChevronRightRegular />}\n            />\n          </div>\n        </div>\n\n        <div className={embla__viewport} ref={emblaRef}>\n          <div className={embla__container}>\n            {items.map((item, index) => (\n              <div className={embla__slide} key={index}>\n                {item}\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport * as React from 'react';\n\n import { css } from '@emotion/css';\n \nimport { ICenterProps } from './ICenterProps';\nimport { useComponentUtils } from '../../utils';\n\nexport const useCenterStyles = (props: ICenterProps) => {\n  const { styles } = props;\n\n  const { getBaseStyles } = useComponentUtils();\n  const centerStyles = React.useCallback(\n    (containerWidth: number, containerHeight: number): React.CSSProperties => {\n       \n      const baseStyles = getBaseStyles(props, containerWidth, containerHeight);\n      return {\n        ...baseStyles,\n        ...styles,\n         overflow: \"hidden\",\n        display: \"flex\",\n       \n        justifyContent: \"center\",\n        alignItems: \"center\",\n        width: \"100%\",\n        height: \"100%\",\n       \n      };\n    },\n    [getBaseStyles, props, styles]\n  );\n\n  const childrenStyles = css({\n    justifyContent: \"center\",\n    textAlign: \"center\",\n  });\n\n  return { centerStyles, childrenStyles };\n};\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport * as React from 'react';\n\nimport { ICenterProps } from './ICenterProps';\nimport { ResizeObserver } from '@juggle/resize-observer';\nimport { useCenterStyles } from './useCenterStyles';\n\nexport const Center: React.FC<React.PropsWithChildren<ICenterProps>> = (props) => {\n  const { className, children } = props;\n\n  const ref = React.useRef<HTMLDivElement>(null);\n  const [width, setWidth] = React.useState(0);\n  const [height, setHeight] = React.useState(0);\n  const { centerStyles } = useCenterStyles(props);\n\n  // Debounce utility function\n  const debounce = (func: (...args: any[]) => void, delay: number) => {\n    let timeout: NodeJS.Timeout;\n    return (...args: any[]) => {\n      clearTimeout(timeout);\n      timeout = setTimeout(() => func(...args), delay);\n    };\n  };\n\n  React.useEffect(() => {\n    const handleResize = (entries: any) => {\n      for (const entry of entries) {\n        const { width, height } = entry.contentRect;\n        setWidth(width);\n        setHeight(height);\n      }\n    };\n\n    const debouncedResize = debounce(handleResize, 200);\n\n    const resizeObserver = new ResizeObserver((entries) => {\n      debouncedResize(entries);\n    });\n\n    if (ref.current) {\n      resizeObserver.observe(ref.current);\n    }\n\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, []);\n\n  return (\n    <div\n      id=\"center\"\n      className={className}\n      style={{\n        ...centerStyles(width, height),\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100%', // Ensures the container takes up the full height\n        width: '100%',  // Ensures the container takes up the full width\n      }}\n      ref={ref}\n    >\n      {children}\n    </div>\n  );\n};\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport * as React from 'react';\n\nimport { THorizontalSpacing, TVerticalSpacing } from '../../types';\n\nimport { IGridProps } from './IGridProps';\nimport { useComponentUtils } from '../../utils';\n\nexport const useGridStyles = (props: IGridProps) => {\n  const { cols, verticalSpacing, horizontalSpacing, styles, gridItemAutoFlow, minItemWidth } = props;\n  const { getSpacing, getCurrentDevice, getBaseStyles } = useComponentUtils();\n\n  const gridStyles = React.useCallback(\n    (containerWidth: number, containerHeight: number): React.CSSProperties => {\n      const baseStyles = getBaseStyles(props, containerWidth, containerHeight);\n      const wgapRow = getSpacing<TVerticalSpacing>(verticalSpacing as string, containerWidth, \"vertical\");\n      const wgapCol = getSpacing<THorizontalSpacing>(horizontalSpacing as string, containerWidth, \"horizontal\");\n      const wgap = `${wgapRow} ${wgapCol}`;\n      const device = getCurrentDevice(containerWidth);\n      let gridTemplateColumns = `repeat(auto-${gridItemAutoFlow ?? \"fill\"}, minmax(${minItemWidth ?? 250}px, 1fr))`;\n      if (cols && cols > 0) {\n        let numberCols = cols ?? 0;\n        switch (device) {\n          case \"ExtraSmall\":\n            numberCols = Math.min(cols, 1);\n            break;\n          case \"Small\":\n            numberCols = Math.min(cols, 2);\n            break;\n          case \"Medium\":\n            numberCols = Math.min(cols, 3);\n            break;\n          case \"Large\":\n            numberCols = Math.min(cols, 4);\n            break;\n          case \"ExtraLarge\":\n            numberCols = Math.min(cols, 4);\n            break;\n          case \"ExtraExtraLarge\":\n            numberCols = Math.min(cols, 5);\n            break;\n          case \"XXXLarge\":\n            numberCols = Math.min(cols, 6);\n            break;\n          default:\n            numberCols = 0;\n        }\n        gridTemplateColumns = `repeat(${numberCols},  minmax(auto, 1fr))`;\n      }\n\n      return {\n        ...baseStyles,\n        display: \"grid\",\n        gridTemplateColumns: gridTemplateColumns,\n        gap: wgap,\n        \n        \n        overflow: \"hidden\",\n       \n        ...styles,\n      };\n    },\n    [getBaseStyles, props, getSpacing, verticalSpacing, horizontalSpacing, getCurrentDevice, cols, styles, gridItemAutoFlow, minItemWidth]\n  );\n\n  return { gridStyles };\n};\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport * as React from 'react';\n\nimport { IGridProps } from './IGridProps';\nimport { ResizeObserver } from '@juggle/resize-observer';\nimport { useGridStyles } from './useGridStyles';\n\nexport const Grid  = (\n  props: React.PropsWithChildren<IGridProps>\n) => {\n  const { children, className } = props;\n  const { gridStyles } = useGridStyles(props);\n  const ref = React.useRef<HTMLDivElement>(null);\n  \n  const [width, setWidth] = React.useState(0);\n  const [height, setHeight] = React.useState(0);\n\n  React.useEffect(() => {\n    let resizeObserver: ResizeObserver;\n    if (ref.current) {\n      // observer to detect changes in the size of the container \n        resizeObserver = new ResizeObserver((entries) => {\n        for (const entry of entries) {\n          const { width, height } = entry.contentRect;\n          setWidth(width);\n          setHeight(height);\n        }\n      });\n      resizeObserver.observe(ref.current);\n    }\n    return () => {\n      if (resizeObserver) {\n        resizeObserver.disconnect();\n      }\n    }\n  }, []);\n  return (\n    <>\n      <div className={className} style={gridStyles(width, height)} ref={ref}>\n        {children}\n      </div>\n    </>\n  );\n};\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport * as React from \"react\";\n\nimport { ILayoutConfig, ILayoutProps } from \"./ILayoutProps\";\n\nimport { css } from \"@emotion/css\";\nimport { useComponentUtils } from \"../../utils\";\n\nexport const useLayoutStyles = (props: ILayoutProps & { layoutConfig?: ILayoutConfig }) => {\n  const { maxWith,  } = props;\n  const { getBaseStyles } = useComponentUtils();\n\n  const rootStyles = React.useCallback(\n    (LayoutWidth: number, LayoutHeight: number): React.CSSProperties => ({\n      ...getBaseStyles(props, LayoutWidth, LayoutHeight),\n      maxWidth: maxWith,\n    }),\n    [getBaseStyles, maxWith, props]\n  );\n\n  const layoutGridStyles = css({\n    display: \"grid\",\n    overflow: \"hidden\",\n  });\n\n  return {\n    rootStyles,\n    layoutGridStyles,\n  };\n};","/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport * as React from \"react\";\n\nimport { ILayoutConfig, ILayoutProps } from \"./ILayoutProps\";\n\nimport { ResizeObserver } from \"@juggle/resize-observer\";\nimport { mergeClasses } from \"@fluentui/react-components\";\nimport { useLayoutStyles } from \"./useLayoutStyles\";\n\n// Default layout configuration\nconst defaultLayoutConfig: ILayoutConfig = {\n  areas: [\"header header header\", \"sidebar content sidebar\", \"footer footer footer\"],\n  columns: \"1fr 3fr 1fr\",\n  rows: \"auto 1fr auto\",\n};\n\nexport const Layout = (props: React.PropsWithChildren<ILayoutProps & { layoutConfig?: ILayoutConfig }>) => {\n  const { className, children, layoutConfig = defaultLayoutConfig } = props;\n  const ref = React.useRef<HTMLDivElement>(null);\n  const [width, setWidth] = React.useState(0);\n  const [height, setHeight] = React.useState(0);\n\n  const { rootStyles, layoutGridStyles } = useLayoutStyles({ ...props, layoutConfig });\n\n  const useDebounce = (fn: Function, delay: number) => {\n    let timer: NodeJS.Timeout;\n    return React.useCallback((...args: any[]) => {\n      clearTimeout(timer);\n      timer = setTimeout(() => fn(...args), delay);\n    }, [fn, delay]);\n  };\n\n  const handleResize = useDebounce((width: number, height: number) => {\n    setWidth(width);\n    setHeight(height);\n  }, 200);\n\n  React.useEffect(() => {\n    if (!ref.current) return;\n\n    const observer = new ResizeObserver((entries) => {\n      for (const entry of entries) {\n        const { width, height } = entry.contentRect;\n        handleResize(width, height);\n      }\n    });\n    observer.observe(ref.current);\n\n    return () => observer.disconnect();\n  }, [handleResize]);\n\n  return (\n    <div\n      id=\"-Layout\"\n      className={mergeClasses(className, layoutGridStyles)}\n      style={{\n        ...rootStyles(width, height),\n        gridTemplateAreas: layoutConfig.areas.join(\" \"),\n        gridTemplateColumns: layoutConfig.columns,\n        gridTemplateRows: layoutConfig.rows,\n      }}\n      ref={ref}\n    >\n      {React.Children.map(children, (child, index) => {\n        if (React.isValidElement(child)) {\n          const childElement = child as React.ReactElement;\n          return (\n            <div\n              key={index}\n              style={{\n                gridArea: childElement.props?.area ?? `area-${index}`, // Fallback to dynamic area\n              }}\n            >\n              {child}\n            </div>\n          );\n        }\n        return child;\n      })}\n    </div>\n  );\n};\n","import * as React from 'react';\n\nexport interface ILayoutItemProps {\n    area?: string;\n   \n}\n\nexport const LayoutItem  = (props: React.PropsWithChildren<ILayoutItemProps>):JSX.Element => {\n    const { area, children } = props;\n  return (\n    <>\n        <div style={{gridArea: area, }}>{children}</div>\n    </>\n  );\n};","/* eslint-disable @typescript-eslint/explicit-function-return-type */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport {\n  makeStyles,\n  shorthands,\n} from '@fluentui/react-components';\n\nexport const useRenderLabelStyles = makeStyles({\n\n  labelContainer: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"flex-start\",\n    alignItems: \"center\",\n    ...shorthands.gap(\"6px\"),\n  },\n  iconStyles: {\n    width: \"26px\",\n  },\n  item: {\n    paddingLeft: \"15px\",\n  },\n  \n\n});\n","import * as React from 'react';\n\nimport {\n  Caption1,\n  tokens,\n} from '@fluentui/react-components';\nimport { Icon } from '@iconify/react';\n\nimport { useRenderLabelStyles } from './useRenderLabelStylesStyles';\n\nexport interface IRenderLabelProps {\n  label: string; icon?: string | JSX.Element; isRequired?: boolean\n}\n\nexport const RenderLabel: React.FunctionComponent<IRenderLabelProps> = (props: React.PropsWithChildren<IRenderLabelProps>) => {\n  const { label, icon, isRequired } = props;\n  const styles = useRenderLabelStyles();\n  return (\n    <>\n      <div className={styles.labelContainer}>\n        {icon && React.isValidElement(icon) ? (\n          icon\n        ) : (\n          <Icon\n            icon={icon as string}\n            className={styles.iconStyles}\n            width={\"20px\"}\n            height={\"20px\"}\n            color={tokens.colorBrandForeground1}\n          />\n        )}\n        <Caption1 style={{ color: tokens.colorBrandForeground1 }}>{label}</Caption1>\n        <Caption1 style={{ color: tokens.colorPaletteRedForeground1 }}>{isRequired ? \" *\" : \"\"}</Caption1>\n      </div>\n    </>\n  );\n};\n\nexport default RenderLabel;\n","import * as React from 'react';\n\nimport {\n  makeStyles,\n  mergeClasses,\n  Spinner,\n} from '@fluentui/react-components';\n\nconst useStyles = makeStyles({\n  root: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n\n    height: \"100%\",\n    width: \"100%\",\n  },\n  spinner: {\n    width: \"100px\",\n    height: \"100px\",\n  },\n});\n\nexport interface IRenderSpinnerProps {\n  size: \"medium\" | \"small\" | \"extra-tiny\" | \"tiny\" | \"extra-small\" | \"large\" | \"extra-large\" | \"huge\";\n  label?: string;\n  labelPosition?: \"above\" | \"below\" | \"before\" | \"after\";\n  style?: React.CSSProperties;\n  className?: string;\n}\n\nexport const RenderSpinner: React.FunctionComponent<IRenderSpinnerProps> = (\n  props: React.PropsWithChildren<IRenderSpinnerProps>\n) => {\n  const { size, label, labelPosition, style, className } = props;\n\n  const styles = useStyles();\n  return (\n    <div className={styles.root}>\n      <Spinner\n        style={style}\n        className={mergeClasses(styles.spinner, className)}\n        size={size}\n        label={label}\n        labelPosition={labelPosition}\n      />\n    </div>\n  );\n};\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\n/* eslint-disable @typescript-eslint/no-unused-vars */\nimport * as React from 'react';\n\n \n \nimport { ISpaceProps } from './ISpaceProps';\nimport { useComponentUtils } from '../../utils';\nimport { THorizontalSpacing, TVerticalSpacing } from '../../types';\n\nexport const useSpaceStyles = (props: ISpaceProps) => {\n  const { verticalSpacing, horizontalSpacing } = props;\n  const { getSpacing } = useComponentUtils();\n  const spaceStyles = React.useCallback(\n    (containerWidth: number): React.CSSProperties => {\n      if (!containerWidth ) return {};\n      \n\n       \n      if (horizontalSpacing) {\n        const width = getSpacing<THorizontalSpacing>(horizontalSpacing as string, containerWidth, \"horizontal\");\n        return {\n         width: width,\n        };\n      }\n      if (verticalSpacing) {\n        const height = getSpacing<TVerticalSpacing>(verticalSpacing as string, containerWidth, \"vertical\");\n        return {\n          height: height,\n        };\n      }\n      return {};\n    },\n    [getSpacing, horizontalSpacing, verticalSpacing]\n  );\n\n  return { spaceStyles };\n};\n","import * as React from 'react';\nimport {ResizeObserver} from '@juggle/resize-observer';\nimport { ISpaceProps } from './ISpaceProps';\nimport { useSpaceStyles } from './useSpaceStyles';\n \nexport const Space = (\n  props: React.PropsWithChildren<ISpaceProps>\n) :JSX.Element => {\n  \n\n  const ref = React.useRef<HTMLDivElement>(null);\n  const [width, setWidth] = React.useState(0);\n \n  const {spaceStyles } = useSpaceStyles(props);\n \n  React.useEffect(() => {\n    let resizeObserver:ResizeObserver  ; \n    if (ref.current) {\n      // observer to detect changes in the size of the container \n        resizeObserver = new  ResizeObserver((entries) => {\n        for (const entry of entries) {\n          const { width,   } = entry.contentRect;\n          setWidth(width);\n          \n        }\n      });\n      resizeObserver.observe(ref.current);\n    }\n    return () => {\n      if (resizeObserver) {\n        resizeObserver.disconnect();\n      }\n    }\n  }, []);\n  \n \n  return (\n    <>\n     <div  id=\"-space\"   style={spaceStyles(width, )} ref={ref} >\n       \n      </div>\n    </>\n  );\n};\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport * as React from 'react';\n\n\nimport { IStackProps } from './IStackProps';\nimport { useComponentUtils } from '../../utils';\n\nexport const useStackStyles = (props: IStackProps) => {\n  const { horizontal, horizontalAlign, verticalAlign, verticalFill, wrap, columnGap, RowGap } = props;\n  const { getBaseStyles } = useComponentUtils();\n\n  const stackStyles = React.useCallback(\n    (containerWidth: number, containerHeight: number): React.CSSProperties => {\n      const alignValue =  verticalAlign || \"start\";\n      const justifyValue = horizontal ? horizontalAlign : \"start\";\n\n      const wflexFlow: React.CSSProperties | undefined = horizontal\n        ? { flexFlow: wrap ? \"row wrap\" : \"row nowrap\", height: \"100%\" }\n        : { height: \"100%\", maxHeight: \"100%\" };\n\n      const baseStyles = getBaseStyles(props, containerWidth, containerHeight);\n\n      return {\n        columnGap: columnGap,\n        rowGap: RowGap,\n        display: \"flex\",\n        flexDirection: horizontal ? \"row\" : \"column\",\n        alignItems: alignValue,\n        justifyContent: justifyValue,\n        ...wflexFlow,\n        height: verticalFill ? \"100%\" : baseStyles.height,\n        ...baseStyles,\n        ...props.styles,\n      };\n    },\n    [getBaseStyles, horizontal, horizontalAlign, props, verticalAlign, verticalFill, wrap]\n  );\n\n  return { stackStyles };\n};\n\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport * as React from 'react';\n\nimport { IStackProps } from './IStackProps';\nimport { useStackStyles } from './useStackStyles';\nimport { ResizeObserver } from '@juggle/resize-observer';\nexport const Stack  = (\n  props: React.PropsWithChildren<IStackProps>\n) => {\n  const { children, className,  } = props;\n  const { stackStyles } = useStackStyles(props);\n  const ref = React.useRef<HTMLDivElement>(null);\n  const [width, setWidth] = React.useState(0);\n  const [height, setHeight] = React.useState(0);\n\n\n  React.useEffect(() => {\n    let resizeObserver: ResizeObserver;\n    if (ref.current) {\n      // observer to detect changes in the size of the container\n        resizeObserver = new ResizeObserver((entries) => {\n        for (const entry of entries) {\n          const { width, height } = entry.contentRect;\n          setWidth(width);\n          setHeight(height);\n        }\n      });\n      resizeObserver.observe(ref.current);\n    }\n    return () => {\n      if (resizeObserver) {\n        resizeObserver.disconnect();\n      }\n    }\n  }, []);\n  return (\n    <>\n      <div className={className} style={stackStyles(width, height)} ref={ref}>\n        {children}\n      </div>\n    </>\n  );\n};\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport * as React from 'react';\nimport { ResizeObserver } from '@juggle/resize-observer';\n\nimport { IBaseProps } from '../baseComponentProps/IBaseProps';\nimport { useComponentUtils } from '../../utils';\n\nexport interface IStackItemProps extends IBaseProps {\n  grow?: boolean | number;\n  disableShrink?: boolean;\n  shrink?: boolean | number | \"inherit\" | \"initial\" | \"unset\";\n  alignSelf?: \"auto\" | \"flex-start\" | \"flex-end\" | \"center\" | \"baseline\" | \"stretch\";\n  order?: number;\n  verticalFill?: boolean;\n}\n\nexport const StackItem  = (\n  props: React.PropsWithChildren<IStackItemProps>\n) => {\n  const { children, grow, disableShrink, shrink, order, alignSelf, verticalFill } = props;\n  const { getBaseStyles } = useComponentUtils();\n  const ref = React.useRef<HTMLDivElement>(null);\n  const [width, setWidth] = React.useState(0);\n  const [height, setHeight] = React.useState(0);\n\n  const baseStyles = getBaseStyles(props, width, height);\n\n  React.useEffect(() => {\n    let resizeObserver: ResizeObserver;\n    if (ref.current) {\n      // observer to detect changes in the size of the container\n      resizeObserver = new ResizeObserver((entries) => {\n        for (const entry of entries) {\n          const { width, height } = entry.contentRect;\n          setWidth(width);\n          setHeight(height);\n        }\n      });\n      resizeObserver.observe(ref.current);\n    }\n    return () => {\n      if (resizeObserver) {\n        resizeObserver.disconnect();\n      }\n    }\n  }, []);\n\n  const styles: React.CSSProperties = {\n    ...baseStyles,\n    alignSelf: alignSelf,\n    order: order,\n    height: verticalFill ? \"100%\" : \"auto\",\n    flexGrow: grow ? (typeof grow === \"boolean\" ? 1 : grow) : undefined,\n    flexShrink: disableShrink || (!grow && !shrink) ? 0 : 1,\n    minWidth: 0,\n    minHeight: 0,\n    width: \"auto\",\n    \n  };\n\n  return (\n    <>\n      <div ref={ref} style={styles}>\n        {children}\n      </div>\n    </>\n  );\n};\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\n/* eslint-disable @typescript-eslint/no-use-before-define */\nimport * as React from 'react';\n\nimport {\n  FluentProvider,\n  IdPrefixProvider,\n  Menu,\n  MenuButton,\n  MenuItem,\n  MenuList,\n  MenuPopover,\n  MenuTrigger,\n  Overflow,\n  OverflowItem,\n  Theme,\n  mergeClasses,\n  useIsOverflowItemVisible,\n  useOverflowMenu,\n} from '@fluentui/react-components';\nimport {\n  MoreHorizontalFilled,\n  MoreHorizontalRegular,\n  bundleIcon,\n} from '@fluentui/react-icons';\n\nimport { css } from '@emotion/css';\n\n// Styles\nconst useStyles = () => {\n  return {\n    container: css({\n      display: \"flex\",\n      flexWrap: \"nowrap\",\n      minWidth: 0,\n      overflow: \"hidden\",\n      gap: 10,\n      marginBottom: 20,\n      width: \"100%\",\n    }),\n    text1LineStyle: css({\n      display: \"-webkit-box\",\n      WebkitLineClamp: 1,\n      WebkitBoxOrient: \"vertical\",\n      overflow: \"hidden\",\n      textAlign: \"start\",\n      textOverflow: \"ellipsis\",\n      wordBreak: \"break-word\",\n    }),\n    button: css({\n      cursor: \"pointer\",\n      minWidth: 107,\n    }),\n  };\n};\n\n// Interfaces\nexport interface IControlItem {\n  id: string;\n  name: string;\n  icon?: JSX.Element | string;\n}\n\nexport interface ICustomControlBarProps {\n  items: IControlItem[];\n  selectedItemId: string | undefined;\n  onSelectedItem: (itemId: string) => void;\n  renderControl: (item: IControlItem, isSelected: boolean, onClick: () => void) => JSX.Element;\n  theme: Theme; // Add theme property\n}\n\n// CustomControlBar Component\nexport const CustomControlBar: React.FunctionComponent<ICustomControlBarProps> = ({\n  items,\n  selectedItemId,\n  onSelectedItem,\n  renderControl,\n  theme,\n}) => {\n  const styles = useStyles();\n  const onItemSelect = React.useCallback(\n    (itemId: string) => {\n      if (onSelectedItem) {\n        onSelectedItem(itemId);\n      }\n    },\n    [onSelectedItem]\n  );\n\n  return (\n    <Overflow>\n      <FluentProvider theme={theme}>\n        {\" \"}\n        {/* Apply theme */}\n        <div className={mergeClasses(styles.container)}>\n          {items.map((item) => {\n            const isSelected = item.id === selectedItemId;\n            return (\n              <OverflowItem key={item.id} id={item.id} priority={isSelected ? 2 : 1}>\n                {renderControl(item, isSelected, () => onItemSelect(item.id))}\n              </OverflowItem>\n            );\n          })}\n          <OverflowMenu items={items} onSelectedItem={onItemSelect} theme={theme} /> {/* Pass theme to OverflowMenu */}\n        </div>\n      </FluentProvider>\n    </Overflow>\n  );\n};\n\n// Overflow Menu and Overflow Menu Item Components\nconst OverflowMenuItem: React.FunctionComponent<{ item: IControlItem; onSelectedItem: (itemId: string) => void }> = ({\n  item,\n  onSelectedItem,\n}) => {\n  const isVisible = useIsOverflowItemVisible(item.id);\n  if (isVisible) {\n    return null;\n  }\n\n  return (\n    <MenuItem key={item.id} icon={item.icon} onClick={() => onSelectedItem(item.id)}>\n      <div>{item.name}</div>\n    </MenuItem>\n  );\n};\n\nconst OverflowMenu: React.FC<{ items: IControlItem[]; onSelectedItem: (itemId: string) => void; theme: Theme }> = ({\n  items,\n  onSelectedItem,\n  theme,\n}) => {\n  const { ref, overflowCount, isOverflowing } = useOverflowMenu<HTMLButtonElement>();\n  const MoreHorizontal = React.useMemo(() => bundleIcon(MoreHorizontalFilled, MoreHorizontalRegular), []);\n\n  if (!isOverflowing) {\n    return null;\n  }\n\n  return (\n    <IdPrefixProvider value=\"menu-over-\">\n      <FluentProvider theme={theme}>\n      \n        <Menu>\n          <MenuTrigger disableButtonEnhancement>\n            <MenuButton\n              appearance=\"transparent\"\n              ref={ref}\n              icon={<MoreHorizontal />}\n              aria-label={`${overflowCount} more options`}\n              role=\"button\"\n            />\n          </MenuTrigger>\n          <MenuPopover>\n            <MenuList>\n              {items.map((item) => (\n                <OverflowMenuItem key={item.id} item={item} onSelectedItem={onSelectedItem} />\n              ))}\n            </MenuList>\n          </MenuPopover>\n        </Menu>\n      </FluentProvider>\n    </IdPrefixProvider>\n  );\n};\n","// SkeletonLoading.tsx\nimport * as React from 'react';\n\nimport {\n  Skeleton,\n  SkeletonItem,\n} from '@fluentui/react-components';\n\nimport { Grid } from '../Grid';\n\nexport const SkeletonLoading: React.FC = () => {\n  return (\n    <Skeleton>\n     <Grid cols={1} padding={\"m\"} verticalSpacing={\"m\"} horizontalSpacing={\"m\"}> \n        <SkeletonItem size={40} />\n        <SkeletonItem size={40} />\n        <SkeletonItem size={40} />\n        <SkeletonItem size={40} />\n        <SkeletonItem size={40} />\n        <SkeletonItem size={40} />\n        <SkeletonItem size={40} />\n        <SkeletonItem size={40} />\n        <SkeletonItem size={40} />  \n    </Grid>\n    </Skeleton>\n  );\n};\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport * as React from 'react';\n\nimport { css } from '@emotion/css';\n\n \nimport { IDataGridProps } from './IDataGridProps';\nimport { useComponentUtils } from '../../utils';\n\nexport const useDataGridStyles = <T,>(props: IDataGridProps<T>) => {\n  const { styles } = props;\n  const { getBaseStyles } = useComponentUtils();\n\n  const dataGridStyles = React.useCallback(\n    (containerWidth: number, containerHeight: number) => {\n      const baseStyles = getBaseStyles(props, containerWidth, containerHeight);\n      return {\n        datagridStyles: css({\n          ...baseStyles,\n          ...styles,\n         \n        }),\n        rowSelection: css({\n          \":hover\": {\n            cursor: \"pointer\",\n          }\n        }),\n      };\n    },\n    [getBaseStyles, props, styles]\n  );\n\n\n\n  return { dataGridStyles };\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport * as React from 'react';\n\nimport {\n  Body1Strong,\n  DataGridBody,\n  DataGridCell,\n  DataGrid as DataGridFUI,\n  DataGridHeader,\n  DataGridHeaderCell,\n  DataGridRow,\n  TableCellLayout,\n  TableColumnDefinition,\n  TableRowId,\n  createTableColumn,\n} from '@fluentui/react-components';\n\nimport { IDataGridProps } from './IDataGridProps';\nimport { ISortState } from './ISortState';\nimport { ResizeObserver } from '@juggle/resize-observer';\nimport { SkeletonLoading } from './SkeletonLoading';\nimport { debounce } from 'lodash';\nimport { useDataGridStyles } from './useDataGridStyles';\n\n// Generic DataGrid component\nexport const DataGrid = <T,>(props: IDataGridProps<T>): JSX.Element => {\n  const {\n    items,\n    columns,\n    defaultSelectedItems = [],\n    enableSorting = false,\n    selectionMode = \"none\",\n    onSelectionChange,\n    onSortChange,\n    defaultSortState,\n    columnSizingOptions,\n    enableResizing = false,\n    noItemsMessage,\n    isLoadingData,\n    isLoadingDataMessage\n  } = props;\n\n  const getItemIndex = (item: T): number => items.findIndex((i) => i === item);\n  const { dataGridStyles } = useDataGridStyles<T>(props);\n\n  const [selectedItems, setSelectedItems] = React.useState<Set<number>>(\n    new Set(defaultSelectedItems.map((item) => getItemIndex(item)))\n  );\n\n  const ref = React.useRef<HTMLDivElement>(null);\n\n  const [width, setWidth] = React.useState(0);\n  const [height, setHeight] = React.useState(0);\n\n\n  React.useEffect(() => {\n    let resizeObserver: ResizeObserver;\n\n    // Debounced function to handle size updates\n    const handleResize = debounce((entries: any[]) => {\n      for (const entry of entries) {\n        const { width, height } = entry.contentRect;\n        setWidth(width);\n        setHeight(height);\n      }\n    }, 200); // 200ms debounce time, adjust as needed\n\n    if (ref.current) {\n      resizeObserver = new ResizeObserver(handleResize);\n      resizeObserver.observe(ref.current);\n    }\n\n    return () => {\n      if (resizeObserver) {\n        resizeObserver.disconnect();\n      }\n      handleResize.cancel(); // Cancel any pending debounce calls\n    };\n  }, []);\n\n  \n  React.useEffect(() => {\n    if (defaultSelectedItems.length > 0) {\n      setSelectedItems(new Set(defaultSelectedItems.map((item) => getItemIndex(item))));\n    }\n  }, [defaultSelectedItems, items]);\n\n  // Dynamically create TableColumnDefinition array from ColumnConfig array\n  const tableColumns: TableColumnDefinition<T>[] = columns.map((colConfig) =>\n    createTableColumn<T>({\n      columnId: colConfig.column as string,\n      renderHeaderCell: () => <Body1Strong>{colConfig.header}</Body1Strong>,\n      renderCell: (item) => (\n        <TableCellLayout media={colConfig.media ? colConfig.media(item) : undefined}>\n          {colConfig.onRender ? colConfig.onRender(item) : String(item[colConfig?.column] ?? \"\")}\n        </TableCellLayout>\n      ),\n      compare: colConfig.order,\n    })\n  );\n\n  // Handle selection change\n  const handleSelectionChange = (\n    _e: React.MouseEvent<Element, MouseEvent> | React.KeyboardEvent<Element>,\n    data: { selectedItems: Set<TableRowId> }\n  ) => {\n    const newSelectedItems = new Set<number>();\n    data.selectedItems.forEach((id) => {\n      const index = Number(id);\n      if (!isNaN(index)) {\n        newSelectedItems.add(index);\n      }\n    });\n    setSelectedItems(newSelectedItems);\n    if (onSelectionChange) {\n      const selectedObjects = Array.from(newSelectedItems).map((index) => items[index]);\n      onSelectionChange(selectedObjects);\n    }\n  };\n\n  // Handle sort change\n  const handleSortChange = (_e: React.MouseEvent<Element>, sortState: ISortState) => {\n    if (onSortChange) {\n      onSortChange(sortState);\n    }\n  };\n\n  const onRowClick = React.useCallback(\n    (e: React.MouseEvent<HTMLTableRowElement>, item: T) => {\n      e.stopPropagation();\n      if (selectionMode === \"row\") {\n        if (onSelectionChange) {\n          onSelectionChange([item]);\n        }\n      }\n    },\n    [selectionMode, onSelectionChange]\n  );\n\n  const styles = React.useMemo(() => dataGridStyles(width, height), [width, height]);\n\n  const rowSelectionStyles = React.useMemo(() => {\n    if (selectionMode === \"row\") {\n      return styles.rowSelection;\n    }\n    return \"\";\n  }, [selectionMode, styles.rowSelection]);\n\n  const RenderDataGridBody = React.useCallback(() => {\n    return (\n      <DataGridBody<T>>\n        {({ item, rowId }) => (\n          <DataGridRow<T>\n            key={rowId}\n            className={rowSelectionStyles}\n            onClick={(e: React.MouseEvent<HTMLTableRowElement>) => onRowClick(e, item)}\n          >\n            {({ renderCell }: { renderCell: (item: T) => React.ReactNode }) => (\n              <DataGridCell>{renderCell(item)}</DataGridCell>\n            )}\n          </DataGridRow>\n        )}\n      </DataGridBody>\n    );\n  }, [onRowClick, rowSelectionStyles]);\n\n  const hasData = React.useMemo(() => items.length && !isLoadingData, [items, isLoadingData]);\n\n  const RenderGridContent = React.useCallback(() => {\n    if (isLoadingData) {\n      return <>{ isLoadingDataMessage ??  <SkeletonLoading />}</>;\n    }\n    if (hasData) {\n      return <RenderDataGridBody />;\n    } else if (!isLoadingData && !items.length) {\n      return <>{noItemsMessage}</>;\n    }  \n    return <></>;\n  }, [hasData, isLoadingData, items, noItemsMessage]);\n\n  return (\n    <div ref={ref} className={styles.datagridStyles} >\n      <DataGridFUI\n        as=\"div\"\n        items={items}\n        onSelectionChange={\n          handleSelectionChange as (\n            e: React.MouseEvent<Element, MouseEvent> | React.KeyboardEvent<Element>,\n            data: { selectedItems: Set<any> }\n          ) => void\n        }\n        sortable={enableSorting}\n        columns={tableColumns}\n        selectionMode={selectionMode === \"none\" || selectionMode === \"row\" ? undefined : (selectionMode as any)}\n        selectedItems={selectedItems}\n        defaultSortState={defaultSortState}\n        onSortChange={handleSortChange}\n        columnSizingOptions={columnSizingOptions}\n        resizableColumns={enableResizing}\n        resizableColumnsOptions={{ autoFitColumns: false }}\n      >\n        <DataGridHeader>\n          <DataGridRow>\n            {({ renderHeaderCell }) => <DataGridHeaderCell>{renderHeaderCell()}</DataGridHeaderCell>}\n          </DataGridRow>\n        </DataGridHeader>\n        <RenderGridContent />\n       \n      </DataGridFUI>\n    </div>\n  );\n};\n","import * as React from 'react';\nimport { useState } from 'react';\n\nimport {\n  Dropdown,\n  Field,\n  Option,\n} from '@fluentui/react-components';\nimport {\n  CheckmarkCircle12Filled,\n  ErrorCircle12Filled,\n  Warning12Filled,\n} from '@fluentui/react-icons';\n\nimport { IDropdownFieldProps } from './IDropDownFieldProps';\nimport { IOption } from './IOption';\n\nexport const DropdownField: React.FC<IDropdownFieldProps> = ({\n  options,\n  onChange,\n  renderItem,\n  validate,\n  label,\n  placeholder,\n  message,\n  messageType,\n  required,\n  size,\n  hint,\n}) => {\n  const [selectedValue, setSelectedValue] = useState<string>(\"\");\n  const [error, setError] = useState<string>(\"\");\n\n  const handleSelectionChange = (_event: React.FormEvent<HTMLButtonElement>, option?: IOption): void => {\n    const value = option?.value || \"\"; // Getting the selected value\n    setSelectedValue(value);\n\n    // Validate the selected value\n    const validationError = validate ? validate(value) : \"\";\n    setError(validationError);\n\n    // Call the onChange callback with the selected value if valid\n    if (!validationError && onChange) {\n      onChange(value);\n    }\n  };\n\n  // Memoize the validation state\n  const validationState = React.useMemo(() => {\n    return error ? \"error\" : messageType === \"warning\" ? \"warning\" : messageType === \"info\" ? \"success\" : \"none\";\n  }, [error, messageType]); // Dependencies for memoization\n\n  // Use the custom message if provided, otherwise use the validation error\n  const validationMessage = React.useMemo(() => error || message, [error, message]); // Dependencies for memoization\n\n  const getValidationIcon = React.useCallback(() => {\n    switch (validationState) {\n      case \"error\":\n        return <ErrorCircle12Filled />;\n      case \"warning\":\n        return <Warning12Filled />;\n      case \"success\":\n        return <CheckmarkCircle12Filled />;\n      default:\n        return null;\n    }\n  }, [validationState]);\n\n  return (\n    <Field\n      label={label}\n      required={required}\n      validationMessage={validationMessage}\n      validationMessageIcon={getValidationIcon()}\n      size={size}\n      hint={hint}\n      validationState={validationState} // Set the validation state\n    >\n      <Dropdown\n        placeholder={placeholder} // Using the placeholder prop here\n        onChange={handleSelectionChange}\n        value={selectedValue}\n      >\n        {options.map((option) => (\n          <Option\n            key={option.value}\n            value={option.value}\n            disabled={option.disabled}\n            checkIcon={option.checkIcon as React.ReactElement}\n            as={option.as} // Pass additional properties to Option\n            text={option.text || \"\"}\n          >\n            {renderItem && renderItem(option)} {/* Render the item using the renderItem function */}\n          </Option>\n        ))}\n      </Dropdown>\n    </Field>\n  );\n};\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\n/* eslint-disable @typescript-eslint/no-unused-vars */\nimport * as React from 'react';\n\nimport {\n  Menu,\n  MenuButton,\n  MenuItem,\n  MenuList,\n  MenuPopover,\n  MenuTrigger,\n  useIsOverflowItemVisible,\n  useOverflowMenu,\n} from '@fluentui/react-components';\n\n// Generic type for item\ninterface GenericOverFlowMenuProps<T> {\n  items: T[];\n  renderItem: (item: T) => React.ReactNode;\n  keyExtractor: (item: T) => string;\n}\n\nconst OverflowMenuItem = ({ id, children }: { id: string; children: React.ReactNode }) => {\n  const isVisible = useIsOverflowItemVisible(id);\n\n  if (isVisible) {\n    return null;\n  }\n\n  return <MenuItem>{children}</MenuItem>;\n};\n\nexport const GenericOverFlowMenu = <T extends { id: string }>({\n  items,\n  renderItem,\n  keyExtractor,\n}: GenericOverFlowMenuProps<T>) => {\n  const { ref, overflowCount, isOverflowing } = useOverflowMenu<HTMLButtonElement>();\n\n  if (!isOverflowing) {\n    return null;\n  }\n\n  return (\n    <Menu>\n      <MenuTrigger disableButtonEnhancement>\n        <MenuButton ref={ref}>+{overflowCount} items</MenuButton>\n      </MenuTrigger>\n      <MenuPopover>\n        <MenuList>\n          {items.map((item) => (\n            <OverflowMenuItem key={keyExtractor(item)} id={keyExtractor(item)}>\n              {renderItem(item)}\n            </OverflowMenuItem>\n          ))}\n        </MenuList>\n      </MenuPopover>\n    </Menu>\n  );\n};\n","import * as React from 'react';\n\nimport {\n  Dialog,\n  DialogActions,\n  DialogBody,\n  DialogContent,\n  DialogSurface,\n  DialogTitle,\n  makeStyles,\n  mergeClasses,\n} from '@fluentui/react-components';\n\nexport interface IRenderDialogProps {\n  isOpen: boolean;\n  dialogTitle?: string | React.ReactNode;\n  dialogActions?: JSX.Element;\n  onDismiss?: (open?: boolean) => void;\n  minWidth?: number | string;\n  maxWidth?: number | string;\n  className?: string;\n  minHeight?: number | string;\n  maxHeight?: number | string;\n  children: React.ReactNode;\n}\n\nconst DEFAULT_MIN_WIDTH = 200;\n\nconst DEFAULT_MIN_HEIGHT = 200;\n\nconst useStyles = makeStyles({\n  dialog: {\n    width: \"100%\",\n    height: \"100%\",\n    overflow: \"hidden\",\n    maxHeight: \"600px\",\n    padding: 0,\n  },\n  dialogBody: {\n    height: \"calc(100% - 200px)\",\n  },\n});\n\nexport const RenderDialog: React.FunctionComponent<IRenderDialogProps> = (\n  props: React.PropsWithChildren<IRenderDialogProps>\n) => {\n  const { isOpen, dialogTitle, dialogActions, children, maxWidth, className, minHeight, minWidth, maxHeight } = props;\n  const styles = useStyles();\n  if (!isOpen) return <></>;\n  return (\n    <Dialog open={isOpen} modalType=\"modal\">\n      <DialogSurface\n        className={mergeClasses(styles.dialog, className)}\n        style={{\n          maxWidth: maxWidth,\n          minWidth: minWidth ?? DEFAULT_MIN_WIDTH,\n          minHeight: minHeight ?? DEFAULT_MIN_HEIGHT,\n          height: \"fit-content\",\n          maxHeight: maxHeight ?? \"\",\n        }}\n      >\n        <DialogTitle>{dialogTitle}</DialogTitle>\n        <DialogBody className={styles.dialogBody}>\n          <DialogContent>{children}</DialogContent>\n        </DialogBody>\n        <DialogActions fluid position=\"end\">\n          {dialogActions}\n        </DialogActions>\n      </DialogSurface>\n    </Dialog>\n  );\n};\n","import {\n  makeStyles,\n  shorthands,\n  tokens,\n} from '@fluentui/react-components';\n\nexport const useRenderHeaderStyles = makeStyles({\n  closeButton: {\n    marginLeft: \"auto\",\n    position: \"absolute\",\n    top: \"10px\",\n    right: \"10px\",\n    zIndex: 99999,\n  },\n\n  divider: {\n    width: \"100%\",\n    height: \"1px\",\n    backgroundColor: tokens.colorNeutralStroke1,\n    marginTop: \"6px\",\n  },\n\n  renderHeaderContent: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"flex-start\",\n    alignItems: \"stretch\",\n\n    width: \"100%\",\n  },\n  renderHeaderHeader: {\n   \n\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"flex-start\",\n    ...shorthands.padding(\"10px\"),\n    gap: \"20px\",\n  },\n  renderHeaderFooter: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"flex-start\",\n    ...shorthands.padding(\"20px\"),\n    gap: \"20px\",\n  },\n  renderHeaderBody: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"flex-start\",\n    ...shorthands.padding(\"20px\"),\n    gap: \"20px\",\n  },\n  renderHeaderTitleContainer: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"flex-start\",\n    alignItems: \"center\",\n  },\n  renderHeaderTitle: {\n    display: \"-webkit-box\",\n    \"-webkit-line-clamp\": \"1\",\n    \"-webkit-box-orient\": \"vertical\",\n\n    textAlign: \"start\",\n    textOverflow: \"ellipsis\",\n    paddingTop: \"10px\",\n    wordBreak: \"break-word\",\n  },\n  renderHeaderDescription: {\n    display: \"-webkit-box\",\n    \"-webkit-line-clamp\": \"4\",\n    \"-webkit-box-orient\": \"vertical\",\n\n    textAlign: \"start\",\n    textOverflow: \"ellipsis\",\n    wordBreak: \"break-word\",\n  },\n  dialogTitleAndDescriptionContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"start\",\n    alignItems: \"start\",\n    paddingLeft: \"10px\",\n    paddingRight: \"20px\",\n  },\n});\n","import * as React from 'react';\n\nimport {\n  Button,\n  Caption1,\n  Subtitle1,\n} from '@fluentui/react-components';\nimport { Dismiss24Regular } from '@fluentui/react-icons';\nimport { Icon } from '@iconify/react';\n\nimport { useRenderHeaderStyles } from './useRenderHeaderStyles';\n\nexport interface IRenderHeaderProps {\n  onDismiss: (open?: boolean) => void;\n  icon?: string | JSX.Element;\n  title: string | React.ReactNode;\n  description?: string | React.ReactNode;\n}\n\nexport const RenderHeader: React.FunctionComponent<IRenderHeaderProps> = (\n  props: React.PropsWithChildren<IRenderHeaderProps>\n) => {\n  const { onDismiss, title, description, icon } = props;\n  const styles = useRenderHeaderStyles();\n\n  return (\n    <>\n      <div className={styles.renderHeaderContent}>\n        <div\n          className={styles.renderHeaderHeader}>\n          <Button\n            appearance=\"subtle\"\n            className={styles.closeButton}\n            onClick={(ev: React.MouseEvent<HTMLButtonElement>) => {\n              ev.stopPropagation();\n              ev.preventDefault();\n              onDismiss(false)}}\n            icon={<Dismiss24Regular />}\n          />\n\n          <div className={styles.renderHeaderTitleContainer}>\n            {React.isValidElement(icon) ? icon : <Icon icon={icon as string} />}\n            <div className={styles.dialogTitleAndDescriptionContainer}>\n              {React.isValidElement(title) ? (\n                title\n              ) : (\n                <Subtitle1 className={styles.renderHeaderTitle}>{title}</Subtitle1>\n              )}\n              {React.isValidElement(description) ? (\n                description\n              ) : (\n                <Caption1 className={styles.renderHeaderDescription}>{description}</Caption1>\n              )}\n            </div>\n          </div>\n        </div>\n        <div className={styles.divider} />\n      </div>\n    </>\n  );\n};\n","import * as React from 'react';\nimport {\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\n\nimport { RenderDialog } from '../renderDialog';\n\ninterface IEventData {\n  name: string;\n  command: string;\n  width: number;\n  height: number;\n}\n\ninterface IDialogOptions {\n  siteUrl?: string;\n  listId?: string;\n  itemId?: string | number;\n  name?: string;\n}\n\ninterface ShareDialogProps {\n  isOpen: boolean;\n  options: IDialogOptions;\n  onClose: () => void;\n}\n\nexport const ShareDialog: React.FC<ShareDialogProps> = ({ isOpen, options, onClose }) => {\n  const [dialogUrl, setDialogUrl] = useState<string | undefined>(undefined);\n  console.log(dialogUrl);\n  const iframeRef = useRef<HTMLIFrameElement>(null);\n  const [iFrameHeight, setIFrameHeight] = useState<number>(400);\n\n  const { siteUrl, listId, itemId, name } = options;\n\n  const closeDialog = useCallback(() => {\n    onClose();\n  }, [onClose]);\n\n  const handleIframeMessage = useCallback(\n    (event: MessageEvent) => {\n      if (event.origin !== window.location.origin) return;\n\n      console.log(\"Message from iframe:\", event.data);\n      const { name, height } = JSON.parse(event.data) as IEventData;\n      switch (name) {\n        case \"share_dismiss\":\n          closeDialog();\n          break;\n        case \"share_resize\":\n          setIFrameHeight(height);\n          break;\n        case \"share_scriptsLoaded\":\n          break;\n        case \"share_uiReady\":\n          break;\n        case \"share_ready\":\n          break;\n        default:\n          break;\n      }\n    },\n    [closeDialog]\n  );\n\n  useEffect(() => {\n    window.addEventListener(\"message\", handleIframeMessage);\n    return () => {\n      window.removeEventListener(\"message\", handleIframeMessage);\n    };\n  }, [handleIframeMessage]);\n\n  useEffect(() => {\n    if (isOpen) {\n      const clientId = \"sharePoint\";\n      const policyTip = 0;\n      const folderColor = \"\";\n      const clickTime = new Date().getTime();\n      const fullScreenMode = false;\n      const origin = encodeURIComponent(window.location.origin);\n      const encodeName = encodeURIComponent(name as string);\n\n      const url =\n        `${siteUrl}/_layouts/15/sharedialog.aspx` +\n        `?listId=${listId}` +\n        `&listItemId=${itemId}` +\n        `&clientId=${clientId}` +\n        `&policyTip=${policyTip}` +\n        `&folderColor=${folderColor}` +\n        `&clickTime=${clickTime}` +\n        `&ma=0` +\n        `&fullScreenMode=${fullScreenMode}` +\n        `&itemName= ${encodeName}` +\n        `&channelId=` +\n        `&origin=${origin}`;\n        console.log(url);\n      setDialogUrl(url);\n    } else {\n      setDialogUrl(undefined);\n    }\n  }, [isOpen, siteUrl, listId, itemId]);\n\n  return (\n    <RenderDialog isOpen={isOpen} onDismiss={closeDialog} maxHeight={\"fit-content\"}>\n     \n      <iframe\n        ref={iframeRef}\n        src={dialogUrl || \"\"}\n        style={{ width: \"100%\", height: iFrameHeight, border: \"none\" }}\n        onLoad={() => console.log(\"Iframe loaded\")}\n      />\n    </RenderDialog>\n  );\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport {\n  makeStyles,\n  shorthands,\n  tokens,\n} from '@fluentui/react-components';\n\nexport const useShowMessageStyles = makeStyles({\n  root: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    ...shorthands.padding(\"10px\"),\n    gap: '10px',\n  } as any,\n  iconClass: {\n    width: \"32px\",\n    height: \"32px\",\n  } as any,\n  errorContainer: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"start\",\n    alignItems: \"center\",\n   gap: '10px',\n    ...shorthands.padding(\"10px\"),\n    backgroundColor: tokens.colorStatusDangerBackground1,\n  } as any,\n  errorIcon: {\n    height: \"100%\",\n  } as any,\n});\n","import * as React from 'react';\n\nimport {\n  Body1,\n  Body1Strong,\n  tokens,\n} from '@fluentui/react-components';\nimport {\n  CheckmarkCircle32Regular,\n  Info32Regular,\n} from '@fluentui/react-icons';\nimport { Icon } from '@iconify/react';\n\nimport { EMessageType } from '../../constants/EMessageTypes';\nimport { IShowMessageProps } from './IShowMessage';\nimport { useShowMessageStyles } from './useShowMessageStyles';\n\nexport const ShowMessage: React.FunctionComponent<IShowMessageProps> = (\n  props: React.PropsWithChildren<IShowMessageProps>\n) => {\n  const { messageType, children, message } = props;\n  const styles = useShowMessageStyles();\n  const [renderMessageIcon, setRenderMessageIcon] = React.useState<JSX.Element | null>(null);\n\n  const RenderError = React.useCallback(() => {\n    return (\n      <>\n        <div className={styles.errorContainer}>\n          <div className={styles.errorIcon}>\n            <Icon\n              icon=\"fluent:error-circle-12-regular\"\n              width=\"32\"\n              height=\"32\"\n              color={tokens.colorStatusDangerForeground1}\n            />\n          </div>\n          <Body1>{message}</Body1>\n        </div>\n      </>\n    );\n  }, [message, styles.errorContainer, styles.errorIcon]);\n\n  React.useEffect(() => {\n    switch (messageType) {\n      case EMessageType.SUCCESS:\n        setRenderMessageIcon(\n          <CheckmarkCircle32Regular primaryFill={tokens.colorStatusSuccessForeground1} />\n        );\n        break;\n      case EMessageType.INFO:\n        setRenderMessageIcon(<Info32Regular primaryFill={tokens.colorStatusWarningForeground1} />);\n        break;\n      default:\n        break;\n    }\n  }, [messageType]);\n\n  if (messageType === EMessageType.ERROR) {\n    return <RenderError />;\n  }\n\n  return (\n    <>\n      <div className={styles.root}>\n        {renderMessageIcon}\n        <Body1Strong>{message}</Body1Strong>\n        {children}\n      </div>\n    </>\n  );\n};\n","import { IBreadcrumbItem } from './IBreadcrumItem';\nimport { css } from '@emotion/css';\nimport { tokens } from '@fluentui/react-components';\n\nexport const useBreadcrumStyles = () => {\n  const styles = {\n    container: css({\n      display: 'flex',\n      alignItems: 'center',\n      alignContent: 'center',\n      overflow: 'hidden',\n      whiteSpace: 'nowrap',\n      padding: '8px',\n      backgroundColor: 'transparent'\n    }),\n    breadcrumbItem: css({\n      minWidth: 'fit-content',\n      padding: 0,\n      margin: '0px',\n    }),\n    separator: css({\n      marginRight: '8px',\n    }),\n  };\n  const getStyles = (\n    props: IBreadcrumbItem,\n    size: 'small' | 'medium' | 'large' | 'current'\n  ) => {\n    const { icon } = props;\n    switch (size) {\n      case 'small':\n        return css({\n          fontSize: '12px',\n          padding: '4px',\n          paddingLeft: icon ? '0px' : '4px',\n        });\n      case 'medium':\n        return css({\n          fontSize: '14px',\n          padding: '6px',\n          paddingLeft: icon ? '0px' : '6px',\n        });\n      case 'large':\n        return css({\n          fontSize: '16px',\n          padding: '8px',\n          paddingLeft: icon ? '0px' : '8px',\n        });\n      case 'current':\n        return css({\n          fontWeight: tokens.fontWeightBold,\n          cursor: 'default',\n          display: '-webkit-box',\n          '-webkit-line-clamp': '1',\n          '-webkit-box-orient': 'vertical',\n          overflow: 'hidden',\n          textAlign: 'start',\n          textOverflow: 'ellipsis',\n          wordBreak: 'break-word',\n          fontFamily: tokens.fontFamilyBase,\n        });\n\n      default:\n        return css({\n          fontSize: '14px',\n          padding: '6px',\n          paddingLeft: icon ? '0px' : '6px',\n        });\n    }\n  };\n  return { styles, getStyles };\n};\n","import {\n    Button,\n    Card,\n    FluentProvider,\n    Text,\n    Theme,\n} from \"@fluentui/react-components\";\nimport React, { useEffect, useRef, useState } from \"react\";\n\nimport { IBreadcrumbItem } from \"./IBreadcrumItem\";\nimport { MoreHorizontalRegular } from \"@fluentui/react-icons\";\nimport { createPortal } from \"react-dom\";\nimport { useBreadcrumStyles } from \"./useBreadcrumStyles\";\n\ninterface OverflowMenuProps {\n    items:  IBreadcrumbItem[];\n    theme?: Theme; // Fluent UI theme\n    size?: 'small' | 'medium' | 'large'; // Add size property\n  }\n  \n  export const OverflowMenu: React.FC<OverflowMenuProps> = ({ items, theme , size=\"medium\"}) => {\n    const [showDropdown, setShowDropdown] = useState(false);\n    const buttonRef = useRef<HTMLButtonElement>(null);\n    const dropdownRef = useRef<HTMLDivElement>(null);\n    const [dropdownStyles, setDropdownStyles] = useState<React.CSSProperties>({\n      top: 0,\n      left: 0,\n      position: \"absolute\",\n    });\n\n    const { getStyles} = useBreadcrumStyles();\n  \n    const handleButtonClick = () => {\n      if (buttonRef.current) {\n        const buttonRect = buttonRef.current.getBoundingClientRect();\n        const viewportWidth = window.innerWidth;\n        const viewportHeight = window.innerHeight;\n  \n        const dropdownWidth = dropdownRef.current?.offsetWidth || 200; // Fallback to 200px width\n        const dropdownHeight = dropdownRef.current?.offsetHeight || 100; // Fallback to 100px height\n  \n        let top = buttonRect.bottom + window.scrollY;\n        let left = buttonRect.left + window.scrollX;\n  \n        // Adjust for right edge\n        if (left + dropdownWidth > viewportWidth) {\n          left = viewportWidth - dropdownWidth - 10; // Add some padding from the edge\n        }\n  \n        // Adjust for bottom edge\n        if (top + dropdownHeight > viewportHeight) {\n          top = buttonRect.top + window.scrollY - dropdownHeight; // Show above the button\n        }\n  \n        setDropdownStyles({\n          top,\n          left,\n          position: \"absolute\",\n        });\n  \n        setShowDropdown((prev) => !prev);\n      }\n    };\n  \n    useEffect(() => {\n      const handleOutsideClick = (event: MouseEvent) => {\n        if (\n          !buttonRef.current?.contains(event.target as Node) &&\n          !dropdownRef.current?.contains(event.target as Node) &&\n          showDropdown\n        ) {\n          setShowDropdown(false);\n        }\n      };\n  \n      document.addEventListener(\"mousedown\", handleOutsideClick);\n      return () => {\n        document.removeEventListener(\"mousedown\", handleOutsideClick);\n      };\n    }, [showDropdown]);\n  \n    return (\n      <>\n        <Button\n          ref={buttonRef}\n          icon={<MoreHorizontalRegular />}\n          appearance=\"transparent\"\n          onClick={handleButtonClick}\n        />\n        {showDropdown &&\n          createPortal(\n            <FluentProvider theme={theme}>\n              <Card\n                ref={dropdownRef}\n                style={{\n                  ...dropdownStyles,\n                  zIndex: 1000, // Ensure it's above other elements\n                  padding: \"8px\",\n                  minWidth: \"150px\",\n                }}\n              >\n                {items.map((item, index) => (\n                  <Button\n                  icon={item.icon ? item.icon : null}\n                    key={`overflow-${index}`}\n                    appearance=\"transparent\"\n                    onClick={() => {\n                      item.onClick?.();\n                      setShowDropdown(false);\n                    }}\n                  >\n                   <Text className={getStyles(item, size)}>{item.label}</Text>\n                  </Button>\n                ))}\n              </Card>\n            </FluentProvider>,\n            document.body // Append to the body using React Portal\n          )}\n      </>\n    );\n  };\n  \n  export default OverflowMenu;","import {\n    Button,\n    Text,\n    mergeClasses,\n} from '@fluentui/react-components';\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport { ChevronRightRegular } from '@fluentui/react-icons';\nimport { IBreadcrumbItem } from './IBreadcrumItem';\nimport { IBreadcrumbProps } from './IBreadcrumProps';\nimport OverflowMenu from './OverflowMenu'; // Import the OverflowMenu component\nimport { ResizeObserver } from '@juggle/resize-observer';\nimport { Stack } from '../Stack';\nimport { useBreadcrumStyles } from './useBreadcrumStyles';\n\n// Utility: Debounce function to limit ResizeObserver calls\n  const debounce = (func: (...args: any[]) => void, delay: number) => {\n    let timeout: NodeJS.Timeout;\n    return (...args: any[]) => {\n      clearTimeout(timeout);\n      timeout = setTimeout(() => func(...args), delay);\n    };\n  };\n  \n  export const Breadcrumb: React.FC<IBreadcrumbProps> = ({\n    items,\n    maxWidth = '100%',\n    styles: customStyles,\n    theme,\n    size = 'medium',\n    currentIndex = items.length - 1,\n    className,\n  }) => {\n    const { styles, getStyles } = useBreadcrumStyles();\n    const containerRef = useRef<HTMLDivElement>(null);\n    const [visibleItems, setVisibleItems] = useState<IBreadcrumbItem[]>([]);\n    const [overflowItems, setOverflowItems] = useState<IBreadcrumbItem[]>([]);\n  \n    useEffect(() => {\n      const updateVisibleItems = () => {\n        if (!containerRef.current) return;\n  \n        const containerWidth = containerRef.current.offsetWidth;\n        let currentWidth = 0;\n        const visible: IBreadcrumbItem[] = [];\n        const overflow: IBreadcrumbItem[] = [];\n  \n        items.forEach(item => {\n          const estimatedWidth = 80; // Estimate width for each item (adjust if necessary)\n          if (currentWidth + estimatedWidth <= containerWidth - 50) {\n            visible.push(item);\n            currentWidth += estimatedWidth;\n          } else {\n            overflow.push(item);\n          }\n        });\n  \n        setVisibleItems(visible);\n        setOverflowItems(overflow);\n      };\n  \n      const handleResize = debounce(updateVisibleItems, 100);\n  \n      // Set up ResizeObserver\n      const resizeObserver = new ResizeObserver(() => {\n        handleResize();\n      });\n  \n      if (containerRef.current) {\n        resizeObserver.observe(containerRef.current);\n      }\n  \n      // Initial update\n      updateVisibleItems();\n  \n      // Cleanup observer on unmount\n      return () => {\n        resizeObserver.disconnect();\n      };\n    }, [items]);\n  \n    return (\n      \n        <div\n          ref={containerRef}\n          className={mergeClasses(styles.container, className)}\n          style={{ maxWidth, ...customStyles }}\n        >\n          <Stack horizontal verticalAlign=\"center\" horizontalAlign=\"start\">\n            {visibleItems.map((item, index) => {\n              return (\n                <>\n                  {index === currentIndex ? (\n             <Stack\n             horizontal\n             verticalAlign=\"center\"\n             horizontalAlign=\"start\"\n             columnGap={5}\n             styles={{ overflow: 'hidden' }}\n           >\n             {item.icon\n               ? React.cloneElement(item.icon, {\n                   style: { fontSize: size === 'large' ? '20px' : size === 'medium' ? '16px' : '12px' },\n                 })\n               : null}\n             <Text\n               key={item.label}\n               className={mergeClasses(\n                 styles.breadcrumbItem,\n                 getStyles(item, size),\n                 getStyles(item, 'current')\n               )}\n               aria-current=\"page\"\n             >\n               {item.label}\n             </Text>\n           </Stack>\n                  ) : (\n                    <Button\n                      icon={item.icon ? item.icon : null}\n                      key={item.label}\n                      appearance=\"transparent\"\n                      className={`${styles.breadcrumbItem}`}\n                      onClick={item.onClick}\n                    >\n                      <Text className={getStyles(item, size)}>\n                        {item.label}\n                      </Text>\n                    </Button>\n                  )}\n                  {index < visibleItems.length - 1 && (\n                    <ChevronRightRegular\n                      style={{\n                        fontSize:\n                          size === 'large'\n                            ? '20px'\n                            : size === 'medium'\n                            ? '16px'\n                            : '12px',\n                      }}\n                    />\n                  )}\n                </>\n              );\n            })}\n  \n            {overflowItems.length > 0 && (\n              <OverflowMenu items={overflowItems} theme={theme} />\n            )}\n          </Stack>\n        </div>\n    \n    );\n  };\n  \n  export default Breadcrumb;\n","import React from 'react';\n\ninterface AspectRatioProps {\n  ratio: number;\n  children?: React.ReactNode;\n  maxWidth?: string | number;\n  maxHeight?: string | number;\n  style?: React.CSSProperties;\n  [key: string]: any;\n}\n\nexport const AspectRatio: React.FC<AspectRatioProps> = ({ ratio, children, maxWidth, maxHeight, style = {}, ...props }) => {\n  const aspectStyle: React.CSSProperties = {\n    position: 'relative',\n    width: '100%',\n    paddingTop: `${100 / ratio}%`,\n    maxWidth: maxWidth || 'none',\n    maxHeight: maxHeight || 'none',\n    ...style,\n  };\n\n  const innerStyle: React.CSSProperties = {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n  };\n\n  return (\n    <div style={aspectStyle} {...props}>\n      <div style={innerStyle}>{children}</div>\n    </div>\n  );\n};\n\n\nexport default AspectRatio;\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport * as React from 'react';\n\nimport { IAspectRatioProps } from './IAspectRationProps';\nimport { useComponentUtils } from '../../utils';\n\nexport const useAspectRatioStyles = (props: IAspectRatioProps) => {\n  const { styles } = props;\n\n  const { getBaseStyles } = useComponentUtils();\n  const aspectRatioStyles = React.useCallback(\n    (containerWidth: number, containerHeight: number): React.CSSProperties => {\n     \n      const baseStyles = getBaseStyles(props, containerWidth, containerHeight);\n      return {\n        ...baseStyles,\n        ...styles,\n         \n      };\n    },\n    [getBaseStyles, props, styles]\n  );\n\n  return { aspectRatioStyles };\n};\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport * as React from \"react\";\n\nimport {\n  Badge,\n  Body1,\n  Button,\n  Divider,\n  Subtitle1,\n} from \"@fluentui/react-components\";\nimport { format, parseISO } from \"date-fns\";\n\nimport { Card } from \"../Card\";\nimport { IEvent } from \"./IEvents\";\nimport { RenderLabel } from \"../RenderLabel\";\nimport { Stack } from \"../Stack\";\nimport { css } from \"@emotion/css\";\n\nexport interface IEventDetailsPopoverProps {\n  event: IEvent;\n\n}\n\nconst useStyles = (_props?: IEvent) => {\n  const styles = {\n    banner: css({\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignContent: \"center\",\n      alignItems: \"center\",\n      padding: `5px 10px 0px 10px`,\n    }),\n    fieldContainer: css({\n      paddingLeft: 32,\n    }),\n  };\n  return { styles };\n};\n\nconst RenderProperty: React.FC<{\n  fieldLabel: string;\n  fieldValue: string;\n  icon: JSX.Element | string;\n}> = ({ fieldLabel, fieldValue, icon }) => {\n  const { styles } = useStyles();\n  return (\n    <Stack>\n      <RenderLabel label={fieldLabel} icon={icon} />\n      <div className={styles.fieldContainer}>\n        <Body1>{fieldValue} </Body1>\n      </div>\n    </Stack>\n  );\n};\n\nexport const EventDetailsPopover: React.FunctionComponent<\n  IEventDetailsPopoverProps\n> = (props: React.PropsWithChildren<IEventDetailsPopoverProps>) => {\n  const { event,  } = props;\n  const { title, start, end, location, category } = event;\n\n  const { styles } = useStyles(event);\n  const formatedStartDate = format(parseISO(start), \"PPp\");\n  const formatedEndDate = format(parseISO(end), \"PPp\");\n\n  return (\n    <>\n      <Card\n        appearance=\"subtle\"\n        padding=\"m\"\n        paddingTop={\"s\"}\n        width=\"250px\"\n        cardBody={\n          <Stack RowGap={10}>\n            <div className={styles.banner}>\n              <Subtitle1>{title}</Subtitle1>\n            </div>\n            <Divider />\n            <Stack horizontal horizontalAlign=\"end\" width={\"100%\"}>\n              <Badge appearance=\"filled\">{category}</Badge>\n            </Stack>\n            <RenderProperty\n              fieldLabel=\"Start\"\n              fieldValue={formatedStartDate}\n              icon={\"mingcute:time-line\"}\n            />\n            <RenderProperty\n              fieldLabel=\"End\"\n              fieldValue={formatedEndDate}\n              icon={\"mingcute:time-line\"}\n            />\n            <RenderProperty\n              fieldLabel=\"Location\"\n              fieldValue={location as string}\n              icon={\"mingcute:location-line\"}\n            />\n          </Stack>\n        }\n        cardFooterContent={\n          <Stack horizontal horizontalAlign=\"end\" width=\"100%\" >\n            <Button appearance=\"subtle\" onClick={() => { console.log('click button')}}>\n              Details\n            </Button>\n          </Stack>\n        }\n      />\n    </>\n  );\n};\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\n\nimport { ICalendarControlProps } from \"./ICalendarControlProps\";\nimport { IDayProps } from \"./Day\";\nimport { css } from \"@emotion/css\";\nimport { tokens } from \"@fluentui/react-components\";\n\ninterface IStylesProps extends ICalendarControlProps, IDayProps {}\n\nexport const useCalendarStyles = (_props?: IStylesProps) => {\n  const styles = {\n    calendarWrapper: css({\n      padding: \"20px\",\n      paddingTop: \"10px\",\n      overflow: \"auto\",\n      flex: 1,\n      display: \"grid\",\n      gridTemplateColumns: \"repeat(7, 1fr)\", // 7 columns for the days of the week\n      gridTemplateRows: \"auto\", // Automatically sizes the header row\n      gridAutoRows: \"minmax(100px, 1fr)\", // Ensures all rows have a minimum height of 100px and grow equally\n      gap: \"1px\", // Gap between cells\n      width: \"calc(100% - 40px)\", // Full width minus padding\n    }),\n    header: css({\n      display: \"flex\",\n      justifyContent: \"start\",\n      gap: \"10px\",\n      alignItems: \"center\",\n      padding: \"16px\",\n    }),\n    dayHeader: css({\n      textAlign: \"start\",\n      padding: \"8px\",\n      borderBottom: `1px solid ${tokens.colorNeutralStroke1}`,\n    }),\n    day: css({\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      border: `1px solid ${tokens.colorNeutralStroke1}`,\n      backgroundColor: tokens.colorNeutralBackground1,\n      position: \"relative\", // Ensure proper stacking context\n    }),\n    otherMonthDay: css({\n      color: tokens.colorNeutralStroke2,\n      backgroundColor: tokens.colorNeutralBackground2,\n    }),\n    cardDay: css({\n      height: \"100%\",\n      minHeight: 100,\n      borderRadius: 0,\n      overflow: \"hidden !important\",\n    }),\n    cardDayOnHover: css({\n      \":hover\": {\n        backgroundColor: tokens.colorNeutralBackground2,\n      },\n    }),\n\n    currentDay: css({\n      borderTop: `5px solid ${tokens.colorBrandBackground}`,\n    }),\n    currentDayLabel: css({\n      color: tokens.colorBrandBackground,\n      fontWeight: 600,\n    }),\n    eventCard: css({\n      /*  backgroundColor: tokens.colorNeutralBackground1, */\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"flex-start\",\n\n      zIndex: 1, // Ensure it appears above parent hover styles\n    }),\n    eventContainer: css({\n      display: \"flex\",\n      flexDirection: \"column\",\n      overflowY: \"auto\", // Ensures proper overflow handling\n      paddingTop: \"5px\",\n      paddingBottom: \"5px\",\n      paddingLeft: \"5px\",\n      paddingRight: \"5px\",\n      // Scrollbar styles\n      \"::-webkit-scrollbar\": {\n        width: \"5px\", // Width for vertical scrollbars\n        height: \"5px\", // Height for horizontal scrollbars\n      },\n      \"::-webkit-scrollbar-track\": {\n        background: tokens.colorNeutralBackground4, // Light gray for the track\n        borderRadius: \"10px\",\n      },\n      \"::-webkit-scrollbar-thumb\": {\n        background: tokens.colorBrandStroke2Hover, // Dark gray for the thumb\n        borderRadius: \"10px\",\n      },\n      \"::-webkit-scrollbar-thumb:hover\": {\n        background: tokens.colorNeutralStroke2, // Dark gray for the thumb\n      },\n    }),\n    eventCardWeekView: css({\n      backgroundColor: tokens.colorBrandBackground,\n      color: tokens.colorNeutralForegroundOnBrand,\n      borderRadius: \"4px\",\n      padding: \"4px\",\n      margin: \"2px\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      whiteSpace: \"nowrap\",\n      height: \"100%\",\n    }),\n    popoverContent: css({\n      padding: 0,\n      borderTopWidth: 20,\n      borderTopStyle: \"solid\",\n    }),\n  };\n  const applyEventHouverColorClass = (\n    backgroundColor: string,\n    houverColor: string\n  ) => {\n    return css({\n      backgroundColor: backgroundColor ?? tokens.colorBrandBackground,\n      \":hover\": {\n        backgroundColor: houverColor ?? tokens.colorBrandBackgroundHover,\n      },\n    });\n  };\n\n  return { styles, applyEventHouverColorClass };\n};\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport * as React from \"react\";\n\nimport { IEventColors } from \"./IEventColors\";\nimport { tokens } from \"@fluentui/react-components\";\n\nexport const useUtils = () => {\n  const getSpanSlots = React.useCallback((start: Date, end: Date) => {\n    const startDate = new Date(start);\n    const endDate = new Date(end);\n\n    // Calculate the start and end slots based on event times\n    const startHour = startDate.getHours();\n    const startMinute = startDate.getMinutes();\n    const startSlot = startHour * 2 + (startMinute >= 1 ? 1 : 0); // Adjust for 30-minute slots\n    const endHour = endDate.getHours();\n    const endMinute = endDate.getMinutes();\n    const endSlot = endHour * 2 + (endMinute >= 1 ? 2 : 0); // Adjust for 30-minute slots\n\n    const spanSlots = endSlot - startSlot;\n    return { spanSlots, startSlot, endSlot };\n  }, []);\n  const generateLightAndHoverColors = React.useCallback(\n    (\n      baseColor: string,\n      lightnessIncrease: number = 20, // Increase in lightness for light variant\n      hoverIncrease: number = 10 // Increase in lightness for hover variant\n    ): { lightColor: string; hoverColor: string } => {\n      // Function to convert hex to HSL\n      const hexToHsl = (hex: string): { h: number; s: number; l: number } => {\n        const r = parseInt(hex.slice(1, 3), 16) / 255;\n        const g = parseInt(hex.slice(3, 5), 16) / 255;\n        const b = parseInt(hex.slice(5, 7), 16) / 255;\n\n        const max = Math.max(r, g, b);\n        const min = Math.min(r, g, b);\n        const delta = max - min;\n\n        let h = 0;\n        let s = 0;\n        const l = (max + min) / 2;\n\n        if (delta !== 0) {\n          s = l > 0.5 ? delta / (2 - max - min) : delta / (max + min);\n          switch (max) {\n            case r:\n              h = (g - b) / delta + (g < b ? 6 : 0);\n              break;\n            case g:\n              h = (b - r) / delta + 2;\n              break;\n            case b:\n              h = (r - g) / delta + 4;\n              break;\n          }\n          h /= 6;\n        }\n\n        return { h: h * 360, s: s * 100, l: l * 100 };\n      };\n\n      // Function to convert HSL to hex\n      const hslToHex = (h: number, s: number, l: number): string => {\n        const a = (s * Math.min(l, 100 - l)) / 100;\n        const f = (n: number): string => {\n          const k = (n + h / 30) % 12;\n          const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n          return Math.round(255 * color)\n            .toString(16)\n            .padStart(2, \"0\");\n        };\n        return `#${f(0)}${f(8)}${f(4)}`;\n      };\n\n      // Convert base color to HSL\n      const { h, s, l } = hexToHsl(baseColor);\n\n      // Generate light and hover colors by adjusting lightness\n      const lightColor = hslToHex(h, s, Math.min(l + lightnessIncrease, 100));\n      const hoverColor = hslToHex(h, s, Math.min(l + hoverIncrease, 100));\n\n      return { lightColor, hoverColor };\n    },\n    []\n  );\n\n  const getEventColors = React.useCallback((category: string): IEventColors => {\n    // Predefined color map\n    const colorMap: Record<string, IEventColors> = {\n      meeting: { backgroundColor: \"#D9E9FC\", hoverColor: \"#AAD4F5\" },\n      appointment: { backgroundColor: \"#FFF4CE\", hoverColor: \"#FFE2A1\" },\n      task: { backgroundColor: \"#DFF6DD\", hoverColor: \"#C6F0C6\" },\n      deadline: { backgroundColor: \"#FFE4E1\", hoverColor: \"#FFB6C1\" },\n      holiday: { backgroundColor: \"#F0FFF0\", hoverColor: \"#C1FFC1\" },\n      celebration: { backgroundColor: \"#FFF0F5\", hoverColor: \"#FFDAB9\" },\n      reminder: { backgroundColor: \"#E0FFFF\", hoverColor: \"#AFEEEE\" },\n      workshop: { backgroundColor: \"#F5F5DC\", hoverColor: \"#EEE8AA\" },\n      webinar: { backgroundColor: \"#F0F8FF\", hoverColor: \"#B0E0E6\" },\n      conference: { backgroundColor: \"#FAFAD2\", hoverColor: \"#FFD700\" },\n    };\n\n    // Default color if category is not found\n    const defaultColors: IEventColors = {\n      backgroundColor:tokens.colorNeutralBackground3,\n      hoverColor: tokens.colorNeutralBackground3Hover\n    };\n\n    // Return colors for the category, or default if not found\n    return colorMap[category.toLowerCase()] || defaultColors;\n  }, []);\n\n  const generateColor = React.useCallback((str: string): string => {\n    let hash = 0;\n    for (let i = 0; i < str.length; i++) {\n      hash = str.charCodeAt(i) + ((hash << 5) - hash);\n    }\n    const c = (hash & 0x00ffffff).toString(16).toUpperCase();\n\n    return `#${\"00000\".substring(0, 6 - c.length) + c}`;\n  }, []);\n  \n\n  return { getSpanSlots, generateLightAndHoverColors, getEventColors, generateColor };\n};\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport * as React from \"react\";\n\nimport {\n  Caption1,\n  Popover,\n  PopoverSurface,\n  PopoverTrigger,\n  PositioningImperativeRef,\n  mergeClasses,\n  useId,\n} from \"@fluentui/react-components\";\nimport { endOfDay, isWithinInterval, startOfDay } from \"date-fns\";\n\nimport { Card } from \"../Card\";\nimport { EventDetailsPopover } from \"./EventDetailsPopover\";\nimport { IEvent } from \"./IEvents\";\nimport { IEventColors } from \"./IEventColors\";\nimport { useCalendarStyles } from \"./useCalendarStyles\";\nimport { useUtils } from \"./useUtils\";\n\nexport interface IRenderEventToDayOfMonthProps {\n  events: IEvent[];\n  date: Date;\n  onCardHoverChange?: (isHovered: boolean, eventTitle: string) => void;\n  columnHeight: number; // Height of the column passed as a prop\n}\n\nexport const RenderEventToDayOfMonth: React.FunctionComponent<\n  IRenderEventToDayOfMonthProps\n> = (props: React.PropsWithChildren<IRenderEventToDayOfMonthProps>) => {\n  const headerId = useId();\n  const { events, date, onCardHoverChange, columnHeight } = props;\n  const { styles, applyEventHouverColorClass } = useCalendarStyles(\n    props as never\n  );\n\n  const positioningRef = React.useRef<PositioningImperativeRef>(null);\n  const { getEventColors } = useUtils();\n \n  const handleMouseEnter = (eventTitle: string): void => {\n    if (onCardHoverChange) {\n      onCardHoverChange(true, eventTitle);\n    }\n  };\n\n  const handleMouseLeave = React.useCallback(\n    (eventTitle: string) => {\n      if (onCardHoverChange) {\n        onCardHoverChange(false, eventTitle);\n      }\n    },\n    [onCardHoverChange]\n  );\n\n  // Set the target for the popover\n  const buttonRef = React.useCallback(\n    (el: HTMLDivElement | null) => {\n      positioningRef.current?.setTarget(el);\n    },\n    [positioningRef]\n  );\n\n  // Render the card\n  const renderCard = React.useCallback(\n    (index: number, calEvent: IEvent, colors: IEventColors) => {\n      return (\n        <div ref={buttonRef} >\n          <Card\n            key={index}\n            className={mergeClasses(\n              styles.eventCard,\n              applyEventHouverColorClass(\n                colors.backgroundColor,\n                colors.hoverColor\n              )\n            )}\n            paddingTop=\"4px\"\n            paddingBottom=\"4px\"\n            paddingLeft=\"8px\"\n            paddingRight=\"8px\"\n            marginTop={index === 0 ? \"0px\" : \"5px\"}\n            cardHeader={<Caption1>{calEvent.title}</Caption1>}\n            onMouseEnter={() => handleMouseEnter(calEvent.title)}\n            onMouseLeave={() => handleMouseLeave(calEvent.title)}\n          ></Card>\n        </div>\n      );\n    },\n    [handleMouseEnter, handleMouseLeave, applyEventHouverColorClass]\n  );\n\n  const renderCardWithPopOver = React.useCallback(\n    (calEvent: IEvent, index: number, colors: IEventColors) => {\n      return (\n        <>\n          <Popover\n             \n            withArrow\n            key={index}\n            mouseLeaveDelay={30}\n            closeOnScroll={true}\n            closeOnIframeFocus={true}\n            openOnHover\n          >\n            <PopoverTrigger>\n              {renderCard(index, calEvent, colors)}\n            </PopoverTrigger>\n            <PopoverSurface\n              aria-labelledby={headerId}\n              className={mergeClasses(\n                styles.popoverContent,\n                applyEventHouverColorClass(\n                  colors.backgroundColor,\n                  colors.hoverColor\n                )\n              )}\n            >\n              <EventDetailsPopover event={calEvent} />\n            </PopoverSurface>\n          </Popover>\n        </>\n      );\n    },\n    [renderCard]\n  );\n\n  if (!events || !events?.length) return <> </>;\n\n  return (\n    <>\n      <div style={{ height: columnHeight }} className={styles.eventContainer}>\n        {events.map((calEvent, index) => {\n          const eventStart = startOfDay(new Date(calEvent.start));\n          const eventEnd = endOfDay(new Date(calEvent.end));\n\n          const isEventInDay = isWithinInterval(date, {\n            start: eventStart,\n            end: eventEnd,\n          });\n\n          if (!isEventInDay) return null;\n          const colors = getEventColors(calEvent.category as string);\n          const customRender = calEvent.onRenderInMonthView;\n          // If the event has a custom renderer, use it\n          if (React.isValidElement(customRender)) {\n            return React.cloneElement(customRender as React.ReactElement, {\n              className: mergeClasses(\n                (customRender.props as any).className,\n                styles.eventCard\n              ),\n            });\n          }\n          return calEvent.enableOnHouver\n            ? renderCardWithPopOver(calEvent, index, colors)\n            : renderCard(index, calEvent, colors);\n        })}\n      </div>\n    </>\n  );\n};\n","import * as React from \"react\";\n\nimport { Body2, mergeClasses } from \"@fluentui/react-components\";\n\nimport { Card } from \"../Card\";\nimport { IEvent } from \"./IEvents\";\nimport { RenderEventToDayOfMonth } from \"./RenderEventToDayOfMonth\";\nimport { Stack } from \"../Stack\";\nimport { isSameDay } from \"date-fns\";\nimport { useCalendarStyles } from \"./useCalendarStyles\";\n\nexport interface IDayProps {\n  day: number;\n  date: Date;\n  currentMonth: boolean;\n  events: IEvent[];\n  columnHeight: number;\n}\n\nexport const Day: React.FunctionComponent<IDayProps> = (\n  props: React.PropsWithChildren<IDayProps>\n) => {\n  const { day, currentMonth, events, date, columnHeight } = props;\n  const { styles } = useCalendarStyles(props);\n  const currentDate = new Date();\n  const [isEventHovered, setIsEventHovered] = React.useState(false);\n\n  const isCurrentDayAndMonth = React.useMemo(() => {\n    return isSameDay(date, currentDate);\n  }, [date, currentDate]);\n\n  const renderCurrentDayLabel = React.useMemo(() => {\n    return (\n      <Stack\n        horizontal\n        horizontalAlign=\"start\"\n        verticalAlign=\"center\"\n        RowGap={10}\n      >\n        <Body2 className={styles.currentDayLabel}>\n          {day} {currentDate.toLocaleString(\"default\", { month: \"short\" })}\n        </Body2>\n      </Stack>\n    );\n  }, [day]);\n\n  const handleCardHoverChange = React.useCallback(\n    (isHovered: boolean): void => {\n      setIsEventHovered(isHovered);\n    },\n    []\n  );\n\n  return (\n    <>\n      <Card\n        className={mergeClasses(\n          styles.cardDay,\n          currentMonth ? \"\" : styles.otherMonthDay,\n          isCurrentDayAndMonth ? styles.currentDay : \"\",\n          !isEventHovered ? styles.cardDayOnHover : \"\"\n        )}\n        cardHeader={\n          isCurrentDayAndMonth ? renderCurrentDayLabel : <Body2>{day}</Body2>\n        }\n        padding=\"xsmall\"\n        cardBody={\n          <RenderEventToDayOfMonth\n            events={events}\n            date={date}\n            onCardHoverChange={handleCardHoverChange}\n            columnHeight={columnHeight - 60}\n          />\n        }\n      />\n    </>\n  );\n};\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport { css } from '@emotion/css';\nimport { tokens } from '@fluentui/react-components';\n\nexport const useWeekViewStyles = () => {\n  \n  const styles = {\n    container: css({\n      display: 'flex',\n      flexDirection: 'column',\n      width: 'calc(100% - 40px)',\n      height: '100vh', // Make the container take the full viewport height\n      overflow: 'hidden', // Prevent window scrolling\n      padding: '20px',\n    }),\n    header: css({\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: '16px',\n      borderBottom: `1px solid ${tokens.colorNeutralStroke1}`,\n    }),\n    weekGrid: css({\n      display: 'grid',\n      gridTemplateColumns: '80px repeat(7, 1fr)', // Time column + 7 day columns\n      gridTemplateRows: '50px 40px repeat(48, 33px)', // Header row + Full-day row + 48 rows (2 per hour)\n      height: 'fit-content', \n      overflowY: 'auto',\n      border: `1px solid ${tokens.colorNeutralStroke1}`,\n      maxHeight: 'calc(100vh - 100px)', // Limit the grid height to the viewport minus header/footer areas\n      scrollbarWidth: 'thin', // Thin scrollbar for Firefox\n      scrollbarColor: `${tokens.colorBrandBackground} ${tokens.colorNeutralBackground1}`, // Scrollbar colors for Firefox\n      '&::-webkit-scrollbar': {\n        width: '8px', // Width of the scrollbar\n      },\n      '&::-webkit-scrollbar-track': {\n        background: tokens.colorNeutralBackground1, // Scrollbar track background\n      },\n      '&::-webkit-scrollbar-thumb': {\n        background: tokens.colorBrandBackground, // Scrollbar thumb color (brand color)\n        borderRadius: '4px', // Rounded corners for the thumb\n      },\n      '&::-webkit-scrollbar-thumb:hover': {\n        background: tokens.colorBrandBackgroundHover, // Lighter color on hover\n      },\n    }),\n    blankHeader: css({\n      gridColumn: '1',\n      backgroundColor: tokens.colorNeutralBackground3,\n      borderBottom: `3px solid ${tokens.colorNeutralStroke3}`,\n    }),\n    timeColumn: css({\n      gridColumn: '1',\n      gridRow: '3 / span 49', // Spans the entire rows after the header and full-day row\n      display: 'flex',\n      flexDirection: 'column',\n      backgroundColor: tokens.colorNeutralBackground1,\n      borderRight: `1px solid ${tokens.colorNeutralStroke1}`,\n    }),\n    timeCell: css({\n      height: '100%', // Let the height be dictated by the grid row's size\n      display: 'flex',\n      alignItems: 'center',\n      fontSize: '12px',\n      color: tokens.colorNeutralForeground3,\n      borderBottom: `1px solid ${tokens.colorNeutralStroke1}`,\n      justifyContent: 'center',\n    }),\n    fullDayRow: css({\n      gridRow: '2', // Full-day events occupy the second row\n      display: 'grid',\n      gridTemplateColumns: '80px repeat(7, 1fr)', // Time column + 7 day columns\n      gap: '0', // Ensure cells align properly\n      padding: '0', // Remove padding for proper alignment\n      backgroundColor: tokens.colorNeutralBackground2,\n      borderBottom: `3px solid ${tokens.colorNeutralStroke2}`, // Bottom border for the row\n    }),\n    fullDayLabel: css({\n      gridColumn: '1', // Place in the first column\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      alignContent: 'center',\n      color: tokens.colorBrandBackground,\n      padding: '5px',\n      borderRight: `1px solid ${tokens.colorNeutralStroke1}`, // Right border for the label cell\n      borderBottom: `3px solid ${tokens.colorNeutralStroke2}`, // Bottom border for the cell\n    }),\n    fullDayCell: css({\n      borderRight: `1px solid ${tokens.colorNeutralStroke1}`, // Right border between day cells\n      display: 'flex',\n      flexDirection: 'row', // Arrange events horizontally\n      gap: '2px',\n      padding: '4px', // Ensure events have spacing within the cell\n      borderBottom: `3px solid ${tokens.colorNeutralStroke2}`, // Bottom border for the cell\n      overflow: 'hidden', // Ensure events dont overflow the cell\n    }),\n    fullDayEvent: css({\n      flex: '1 1 auto', // Allow events to share space equally\n      minWidth: '24px',\n      height: '24px',\n      padding: '4px 8px',\n      backgroundColor: tokens.colorBrandBackground,\n      color: tokens.colorNeutralForegroundOnBrand,\n      borderRadius: '4px',\n      overflow: 'hidden',\n     \n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    }),\n    dayHeaderCell: css({\n      textAlign: 'center',\n      backgroundColor: tokens.colorNeutralBackground2,\n      padding: '8px',\n      fontWeight: 'bold',\n      borderBottom: `1px solid ${tokens.colorNeutralStroke1}`,\n    }),\n    todayHeaderCell: css({\n      borderTop: `5px solid ${tokens.colorBrandBackground}`,\n    }),\n    eventCard: css({\n     padding:2,\n      alignItems: 'center',\n      justifyContent: 'center',\n      marginRight: '2px', // Spacing between events\n      zIndex: 1, // Ensure event appears above others\n      position: 'absolute', // Position relative to the cell\n      alignContent: 'center',\n      overflow: 'hidden',\n      ':hover': {\n        pointerEvents: 'auto',\n        cursor: 'pointer',\n\n      },\n    }),\n    event: css({\n      height: '100%',\n      backgroundColor: tokens.colorBrandBackground,\n      color: tokens.colorNeutralForegroundOnBrand,\n      borderRadius: '4px',\n      textOverflow: 'ellipsis',\n      whiteSpace: 'nowrap',\n      overflow: 'hidden',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      marginRight: '2px', // Spacing between events\n      zIndex: 1, // Ensure event appears above others\n      position: 'absolute', // Position relative to the cell\n      alignContent: 'center',\n      ':hover': {\n        pointerEvents: 'auto',\n        cursor: 'pointer',\n       \n      },\n    }),\n    dayCell: css({\n      borderBottom: `1px solid ${tokens.colorNeutralStroke1}`, // Cell borders\n      borderRight: `1px solid ${tokens.colorNeutralStroke1}`,\n      position: 'relative', // Allow child events to be positioned absolutely\n      overflow: 'visible', // Ensure events aren't clipped\n      FlexDirection: 'column', // Ensure events are stacked vertically\n      gap: \"4px\",\n    \n    }),\n    currentTimeIndicator: css({\n      position: 'absolute',\n      left: 0,\n      height: '2px',\n      backgroundColor: tokens.colorPaletteRedBorderActive,\n      width: '100%',\n      zIndex: 1,\n    }),\n    currentHalfHourCell: css({\n      border: `2px solid ${tokens.colorPaletteRedBorderActive}`, // Highlight with a red border\n    }),\n    eventTitle: css({\n      display: '-webkit-box',\n      '-webkit-line-clamp': '2',\n      '-webkit-box-orient': 'vertical',\n      textAlign: 'start',\n      textOverflow: 'ellipsis',\n      paddingLeft: '8px',\n      wordBreak: 'break-word',\n        overflow: 'hidden',\n    }),\n      popoverContent: css({\n      padding: 0,\n      borderTopWidth: 20,\n      borderTopStyle: \"solid\",\n    }),\n  };\n\n\n  const applyEventHouverColorClass = (backgroundColor:string, houveColor:string) => {\n    return css({\n      backgroundColor:backgroundColor ?? tokens.colorBrandBackground,\n      ':hover': {\n        backgroundColor:houveColor ?? tokens.colorBrandBackgroundHover,\n      },\n    });\n    \n  };\n return {styles, applyEventHouverColorClass};\n};\n","import * as React from \"react\";\n\nimport {\n  Body1,\n  Body1Strong,\n  Card,\n  Popover,\n  PopoverSurface,\n  PopoverTrigger,\n  mergeClasses,\n  useId,\n} from \"@fluentui/react-components\";\n\nimport { EventDetailsPopover } from \"./EventDetailsPopover\";\nimport { IEvent } from \"./IEvents\";\nimport { Stack } from \"../Stack\";\nimport { format } from \"date-fns\";\nimport { useWeekViewStyles } from \"./useWeekViewStyles\";\n\n// Assuming Stack is part of your library\n\ninterface EventPopoverCardProps {\n  event: IEvent;\n  colors: { backgroundColor: string; hoverColor: string };\n  spanSlots: number;\n  rowHeight: number;\n  eventIndex: number;\n  eventCount: number;\n}\n\nexport const EventPopoverCard: React.FC<EventPopoverCardProps> = ({\n  event,\n  colors,\n  spanSlots,\n  rowHeight,\n  eventIndex,\n  eventCount,\n}) => {\n  const headerId = useId();\n  const { styles, applyEventHouverColorClass } = useWeekViewStyles();\n  const cardRef = React.useRef<HTMLDivElement>(null);\n\n  const cardContent = React.useMemo(\n    () => (\n      <div>\n        <Stack columnGap={4} verticalAlign=\"center\">\n          <Body1Strong className={styles.eventTitle}>{event.title}</Body1Strong>\n          <Stack\n            columnGap={4}\n            horizontal\n            verticalAlign=\"center\"\n            horizontalAlign=\"start\"\n          >\n            <Body1>{format(new Date(event.start), \"HH:mm\")}H</Body1>\n            {\" - \"}\n            <Body1>{format(new Date(event.end), \"HH:mm\")}H</Body1>\n          </Stack>\n        </Stack>\n      </div>\n    ),\n    [event]\n  );\n\n  return (\n    <Card\n      ref={cardRef}\n      key={event.id}\n      className={mergeClasses(\n        styles.eventCard,\n        applyEventHouverColorClass(colors.backgroundColor, colors.hoverColor)\n      )}\n      style={{\n        flex: `0 0 calc(100% / ${eventCount})`, // Ensure equal width for each event\n        height: `${rowHeight * spanSlots}px`, // Height spans the slots\n        left: `${eventIndex * 10}%`, // Adjust for overlap\n        width: `calc(${100 - eventIndex * 10}% - 8px)`, // Adjust width for overlap\n        margin: 4,\n      }}\n    >\n      {event.enableOnHouver ? (\n        <Popover\n          withArrow\n          mouseLeaveDelay={50}\n          closeOnScroll={true}\n          closeOnIframeFocus={true}\n          openOnHover\n        >\n          <PopoverTrigger>{cardContent}</PopoverTrigger>\n          <PopoverSurface\n            aria-labelledby={headerId}\n            className={mergeClasses(\n              styles.popoverContent,\n              applyEventHouverColorClass(\n                colors.backgroundColor,\n                colors.hoverColor\n              )\n            )}\n          >\n            <EventDetailsPopover event={event} />\n          </PopoverSurface>\n        </Popover>\n      ) : (\n        cardContent\n      )}\n    </Card>\n  );\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport * as React from \"react\";\n\nimport { EventPopoverCard } from \"./EventPopoverCard\";\nimport { IEvent } from \"./IEvents\";\nimport {\n mergeClasses,\n} from \"@fluentui/react-components\";\nimport { useUtils } from \"./useUtils\";\nimport { useWeekViewStyles } from \"./useWeekViewStyles\";\n\ninterface IEventRendererProps {\n  event: IEvent;\n  eventCount: number;\n  spanSlots: number;\n  rowHeight: number;\n  eventIndex: number;\n  view: \"day\" | \"week\";\n}\n\nexport const EventRenderer: React.FC<IEventRendererProps> = ({\n  event,\n  eventCount,\n  spanSlots,\n  rowHeight,\n  eventIndex,\n  view,\n}) => {\n  const { styles } = useWeekViewStyles();\n  const { getEventColors } = useUtils();\n  const colors = getEventColors(event.category as string);\n\n  // Memoize the function that determines the custom render function\n  const customOnRenderEvent = React.useCallback(() => {\n    return view === \"day\" ? event.onRenderInDayView : event.onRenderInWeekView;\n  }, [event, view]);\n\n  if (React.isValidElement(customOnRenderEvent)) {\n    return React.cloneElement(customOnRenderEvent as React.ReactElement, {\n      event,\n      className: mergeClasses(\n        (customOnRenderEvent.props as any).className,\n        styles.eventCard\n      ),\n      style: {\n        ...(customOnRenderEvent.props as any).style,\n        flex: `0 0 calc(100% / ${eventCount})`,\n        height: `${rowHeight * spanSlots}px`, // Dynamically calculate height\n        left: `${eventIndex * 10}%`, // Adjust for overlapping events\n        width: `calc(${100 - eventIndex * 10}% - 8px)`, // Adjust width for overlap\n        margin: 4, // Add margin for spacing\n      },\n    });\n  }\n\n  // Return  default card\n  return (\n    \n        <EventPopoverCard\n          key={event.id}\n          event={event}\n          colors={colors}\n          spanSlots={spanSlots}\n          rowHeight={rowHeight}\n          eventIndex={eventIndex}\n          eventCount={eventCount}\n        />\n       \n    \n  );\n};\n","/* eslint-disable no-unmodified-loop-condition */\nimport { IEvent } from \"./IEvents\";\nimport { useState } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\"; // Use UUID for generating unique IDs\n\nexport interface TimeSlot {\n  time: string;\n  events: IEvent[];\n}\n\nexport interface DayEvents {\n  date: string;\n  fullDayEvents: IEvent[]; // Add full-day events for the day\n  timeSlots: TimeSlot[];\n}\n\nexport interface IUseCalendar {\n  getMonthCalendar: (year: number, month: number) => Record<string, IEvent[]>;\n  addEvent: (event: IEvent) => void;\n  getWeekEvents: (startDate: string) => DayEvents[];\n}\n\nexport const useCalendar = (initialEvents: IEvent[], timezone: string):IUseCalendar => {\n  // Add a unique id to each event on initialization\n  const initializeEventsWithId = (events: IEvent[]): IEvent[] => {\n    return events.map((event) => ({\n      ...event,\n      id: event.id || uuidv4(), // Use existing id or generate a new one\n    }));\n  };\n\n  const [calendarEvents, setCalendarEvents] = useState<IEvent[]>(\n    initializeEventsWithId(initialEvents || [])\n  );\n\n  // Helper function to handle timezone and daylight savings\n  const toLocalDate = (dateString: string): Date => {\n    return new Date(\n      new Date(dateString).toLocaleString(undefined, { timeZone: timezone })\n    );\n  };\n\n  // Function to generate all events grouped by day for a specific month\n  const getMonthCalendar = (\n    year: number,\n    month: number\n  ): Record<string, IEvent[]> => {\n    const daysInMonth = new Date(year, month + 1, 0).getDate(); // Days in the given month\n\n    const calendarEventsByDay: Record<string, IEvent[]> = {};\n\n    // Initialize the structure with empty arrays for each day\n    for (let day = 1; day <= daysInMonth; day++) {\n      const date = new Date(year, month, day);\n      const dateString = date.toISOString().split(\"T\")[0];\n      calendarEventsByDay[dateString] = [];\n    }\n\n    // Loop through events and group them by their start and end dates\n    calendarEvents.forEach((event) => {\n      const eventStart = toLocalDate(event.start);\n      const eventEnd = toLocalDate(event.end);\n\n      const currentDate = new Date(eventStart);\n\n      while (currentDate <= eventEnd) {\n        const dateString = currentDate.toISOString().split(\"T\")[0];\n\n        // If the event falls within the month and day, add it to the list\n        if (calendarEventsByDay[dateString]) {\n          calendarEventsByDay[dateString].push(event);\n        }\n\n        // Move to the next day\n        currentDate.setDate(currentDate.getDate() + 1);\n      }\n    });\n\n    return calendarEventsByDay;\n  };\n\n  // Function to add a new event\n  const addEvent = (event: IEvent): void => {\n    const eventWithId: IEvent = {\n      ...event,\n      id: event.id || uuidv4(), // Add unique id if not provided\n    };\n    setCalendarEvents((prevEvents) => [...prevEvents, eventWithId]);\n  };\n\n  // Function to get events for a specific week\n  const getWeekEvents = (startDate: string): DayEvents[] => {\n    const weekEvents: DayEvents[] = [];\n    const start = toLocalDate(startDate);\n\n    for (let i = 0; i < 7; i++) {\n      const currentDate = new Date(start);\n      currentDate.setDate(start.getDate() + i);\n      const dateString = currentDate.toISOString().split(\"T\")[0];\n\n      const dayTimeSlots: TimeSlot[] = Array.from(\n        { length: 48 },\n        (_, index) => ({\n          time: `${String(Math.floor(index / 2)).padStart(2, \"0\")}:${\n            index % 2 === 0 ? \"00\" : \"30\"\n          }`,\n          events: [],\n        })\n      );\n\n      const fullDayEvents: IEvent[] = [];\n\n      calendarEvents.forEach((event) => {\n        const eventStart = toLocalDate(event.start);\n        const eventEnd = toLocalDate(event.end);\n\n        if (event.isFullDay) {\n          if (\n            eventStart.toISOString().split(\"T\")[0] <= dateString &&\n            eventEnd.toISOString().split(\"T\")[0] >= dateString\n          ) {\n            fullDayEvents.push(event);\n          }\n          return; // Skip further processing for full-day events\n        }\n\n        if (\n          eventStart.toISOString().split(\"T\")[0] <= dateString &&\n          eventEnd.toISOString().split(\"T\")[0] >= dateString\n        ) {\n          const currentSlot = new Date(eventStart);\n\n          while (currentSlot <= eventEnd) {\n            const slotDateString = currentSlot.toISOString().split(\"T\")[0];\n            if (slotDateString === dateString) {\n              const slotIndex =\n                currentSlot.getHours() * 2 +\n                (currentSlot.getMinutes() >= 30 ? 1 : 0);\n              if (dayTimeSlots[slotIndex]) {\n                dayTimeSlots[slotIndex].events.push(event);\n              }\n            }\n            currentSlot.setMinutes(currentSlot.getMinutes() + 30);\n          }\n        }\n      });\n\n      weekEvents.push({\n        date: dateString,\n        fullDayEvents,\n        timeSlots: dayTimeSlots,\n      });\n    }\n\n    return weekEvents;\n  };\n\n  return {\n    getMonthCalendar,\n    addEvent,\n    getWeekEvents,\n  };\n};\n\nexport default useCalendar;\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport { css } from \"@emotion/css\";\nimport { tokens } from \"@fluentui/react-components\";\n\nexport const useDayViewStyles = () => {\n  const styles = {\n    container: css({\n      display: \"flex\",\n      flexDirection: \"column\",\n      width: \"calc(100% - 40px)\",\n      height: \"100vh\", // Make the container take the full viewport height\n      overflow: \"hidden\", // Prevent window scrolling\n      padding: \"20px\",\n    }),\n    header: css({\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      marginBottom: \"16px\",\n      borderBottom: `1px solid ${tokens.colorNeutralStroke1}`,\n    }),\n    dayGrid: css({\n      display: \"grid\",\n      gridTemplateColumns: \"80px 1fr\",\n      gridTemplateRows: \"50px 40px repeat(48, 33px)\", // Header row + Full-day row + 48 rows (2 per hour)\n      height: \"calc(100vh - 100px)\", // Full height minus header/footer areas\n      overflowY: \"auto\",\n      border: `1px solid ${tokens.colorNeutralStroke1}`,\n      maxHeight: \"fit-content\", // Limit the grid height to the viewport minus header/footer areas\n      scrollbarWidth: \"thin\", // Thin scrollbar for Firefox\n      scrollbarColor: `${tokens.colorBrandBackground} ${tokens.colorNeutralBackground1}`, // Scrollbar colors for Firefox\n      \"&::-webkit-scrollbar\": {\n        width: \"8px\", // Width of the scrollbar\n      },\n      \"&::-webkit-scrollbar-track\": {\n        background: tokens.colorNeutralBackground1, // Scrollbar track background\n      },\n      \"&::-webkit-scrollbar-thumb\": {\n        background: tokens.colorBrandBackground, // Scrollbar thumb color (brand color)\n        borderRadius: \"4px\", // Rounded corners for the thumb\n      },\n      \"&::-webkit-scrollbar-thumb:hover\": {\n        background: tokens.colorBrandBackgroundHover, // Lighter color on hover\n      },\n    }),\n    blankHeader: css({\n      gridColumn: \"1\",\n      backgroundColor: tokens.colorNeutralBackground3,\n      borderBottom: `3px solid ${tokens.colorNeutralStroke3}`,\n    }),\n    timeColumn: css({\n      gridColumn: \"1\",\n      gridRow: \"3 / span 49\", // Spans the entire rows after the header and full-day row\n      display: \"flex\",\n      flexDirection: \"column\",\n      backgroundColor: tokens.colorNeutralBackground1,\n      borderRight: `1px solid ${tokens.colorNeutralStroke1}`,\n    }),\n    timeCell: css({\n      height: \"100%\", // Let the height be dictated by the grid row's size\n      maxHeight: \"32px\", // Limit the cell height\n      minHeight: \"32px\", // Ensure the cell has a minimum height\n      display: \"flex\",\n      alignItems: \"center\",\n      fontSize: \"12px\",\n      color: tokens.colorNeutralForeground3,\n      borderBottom: `1px solid ${tokens.colorNeutralStroke1}`,\n      justifyContent: \"center\",\n    }),\n    fullDayRow: css({\n      gridRow: \"2\", // Full-day events occupy the second row\n      display: \"grid\",\n      gridTemplateColumns: \"80px 33px\", // Time column + 7 day columns\n      gap: \"0\", // Ensure cells align properly\n      padding: \"0\", // Remove padding for proper alignment\n      backgroundColor: tokens.colorNeutralBackground2,\n      borderBottom: `3px solid ${tokens.colorNeutralStroke2}`, // Bottom border for the row\n    }),\n    fullDayLabel: css({\n      gridColumn: \"1\", // Place in the first column\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      alignContent: \"center\",\n      color: tokens.colorBrandBackground,\n      padding: \"5px\",\n      borderRight: `1px solid ${tokens.colorNeutralStroke1}`, // Right border for the label cell\n      borderBottom: `3px solid ${tokens.colorNeutralStroke2}`, // Bottom border for the cell\n    }),\n    fullDayCell: css({\n      borderRight: `1px solid ${tokens.colorNeutralStroke1}`, // Right border between day cells\n      display: \"flex\",\n      flexDirection: \"row\", // Arrange events horizontally\n      gap: \"2px\",\n      padding: \"4px\", // Ensure events have spacing within the cell\n      borderBottom: `3px solid ${tokens.colorNeutralStroke2}`, // Bottom border for the cell\n      overflow: \"hidden\", // Ensure events dont overflow the cell\n    }),\n    fullDayEvent: css({\n      flex: \"1 1 auto\", // Allow events to share space equally\n      minWidth: \"24px\",\n      height: \"24px\",\n      padding: \"4px 8px\",\n      backgroundColor: tokens.colorBrandBackground,\n      color: tokens.colorNeutralForegroundOnBrand,\n      borderRadius: \"4px\",\n      overflow: \"hidden\",\n\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    }),\n    dayHeaderCell: css({\n      textAlign: \"center\",\n      backgroundColor: tokens.colorNeutralBackground2,\n      padding: \"8px\",\n      fontWeight: \"bold\",\n      borderBottom: `1px solid ${tokens.colorNeutralStroke1}`,\n    }),\n    todayHeaderCell: css({\n      borderTop: `5px solid ${tokens.colorBrandBackground}`,\n    }),\n    eventCard: css({\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      marginRight: \"2px\", // Spacing between events\n      zIndex: 1, // Ensure event appears above others\n      position: \"absolute\", // Position relative to the cell\n      alignContent: \"center\",\n\n      overflow: \"hidden\",\n\n      /* ':hover': {\n        pointerEvents: 'auto',\n        cursor: 'pointer',\n        opacity: 0.8,\n        color: tokens.colorNeutralForegroundOnBrand,\n      }, */\n    }),\n\n    dayCell: css({\n      borderBottom: `1px solid ${tokens.colorNeutralStroke1}`, // Cell borders\n      borderRight: `1px solid ${tokens.colorNeutralStroke1}`,\n      position: \"relative\", // Allow child events to be positioned absolutely\n      overflow: \"visible\", // Ensure events aren't clipped\n      FlexDirection: \"column\", // Ensure events are stacked vertically\n      gap: \"4px\",\n    }),\n    currentTimeIndicator: css({\n      position: \"absolute\",\n      left: 0,\n      height: \"2px\",\n      backgroundColor: tokens.colorPaletteRedBorderActive,\n      width: \"100%\",\n      zIndex: 1,\n    }),\n    currentHalfHourCell: css({\n      border: `2px solid ${tokens.colorPaletteRedBorderActive}`, // Highlight with a red border\n    }),\n    eventTitle: css({\n      display: \"-webkit-box\",\n      \"-webkit-line-clamp\": \"1\",\n      \"-webkit-box-orient\": \"vertical\",\n      textAlign: \"start\",\n      textOverflow: \"ellipsis\",\n      paddingLeft: \"8px\",\n      wordBreak: \"break-word\",\n      overflow: \"hidden\",\n    }),\n  };\n\n  const applyEventHouverColorClass = (\n    backgroundColor: string,\n    houveColor: string\n  ) => {\n    return css({\n      backgroundColor: backgroundColor ?? tokens.colorBrandBackground,\n      \":hover\": {\n        backgroundColor: houveColor ?? tokens.colorBrandBackgroundHover,\n      },\n    });\n  };\n\n  return { styles, applyEventHouverColorClass };\n};\n","import * as React from \"react\";\n\nimport {\n  Body1,\n  Body1Strong,\n  Subtitle1,\n  Text,\n  mergeClasses,\n} from \"@fluentui/react-components\";\nimport { addDays, format, isToday } from \"date-fns\";\nimport { useRef, useState } from \"react\";\n\nimport { EventRenderer } from \"./EventRender\";\nimport { IEvent } from \"./IEvents\";\nimport { useCalendar } from \"./useCalendar\";\nimport { useDayViewStyles } from \"./useDayViewStyles\";\nimport { useUtils } from \"./useUtils\";\n\nexport interface IDayViewProps {\n  events: IEvent[];\n  currentDay: Date;\n  height?: string | number;\n}\n\nconst ROW_HEIGHT = 33;\n\nexport const DayView: React.FC<IDayViewProps> = (props: IDayViewProps) => {\n  const { events, currentDay, height } = props;\n  const { styles } = useDayViewStyles();\n  const [currentDate] = useState(currentDay);\n  const calendarRef = useRef<HTMLDivElement>(null);\n  const { getSpanSlots, generateColor } = useUtils();\n  const timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n  const { getWeekEvents } = useCalendar(events, timeZone);\n  const renderTimeColumn = React.useCallback((): JSX.Element[] => {\n    return Array.from({ length: 24 }, (_, hour) => (\n      <React.Fragment key={hour}>\n        <div className={styles.timeCell}>\n          <Body1Strong> {hour}:00 </Body1Strong>\n        </div>\n        <div className={styles.timeCell} />\n      </React.Fragment>\n    ));\n  }, [styles.timeCell]);\n\n  const renderDayHeaders = React.useCallback((): JSX.Element => {\n    return (\n      <>\n        {/* Blank Header Cell */}\n        <div className={styles.blankHeader} />\n        {/* Day Headers */}\n        {Array.from({ length: 1 }, (_, dayIndex) => {\n          const day = addDays(currentDate, dayIndex);\n          const isTodayClass = isToday(day) ? styles.todayHeaderCell : \"\";\n\n          return (\n            <div\n              key={dayIndex}\n              className={mergeClasses(styles.dayHeaderCell, isTodayClass)}\n            >\n              <Text weight=\"semibold\" size={600} style={{ paddingRight: 10 }}>\n                {format(day, \"dd\")}\n              </Text>\n              <Subtitle1>{format(day, \"LLLL, yyyy\")}</Subtitle1>\n            </div>\n          );\n        })}\n      </>\n    );\n  }, [\n    currentDate,\n    styles.blankHeader,\n    styles.dayHeaderCell,\n    styles.todayHeaderCell,\n  ]);\n\n  const renderFullDayEvents = React.useCallback((): JSX.Element => {\n    const weekEvents = getWeekEvents(currentDate.toISOString());\n    return (\n      <>\n        <div className={styles.fullDayLabel}>\n          <Body1>All Day</Body1>\n        </div>\n        {Array.from({ length: 1 }, (_, dayIndex) => {\n          const weekDay = format(addDays(currentDate, dayIndex), \"yyyy-MM-dd\");\n          const dayEvents = weekEvents.find((day) => day.date === weekDay);\n          const fullDayEvents = dayEvents?.fullDayEvents || [];\n          return (\n            <div key={dayIndex} className={styles.fullDayCell}>\n              {fullDayEvents.map((event) => (\n                <div\n                  key={event.id}\n                  className={styles.fullDayEvent}\n                  style={{\n                    gridColumn: `${dayIndex + 2}`, // Position event in the correct day column\n                    backgroundColor: generateColor(event.title),\n                  }}\n                >\n                  <Body1 className={styles.eventTitle}>{event.title}</Body1>\n                </div>\n              ))}\n            </div>\n          );\n        })}\n      </>\n    );\n  }, [\n    currentDate,\n    generateColor,\n    getWeekEvents,\n    styles.fullDayCell,\n    styles.fullDayEvent,\n    styles.fullDayLabel,\n    styles.eventTitle,\n  ]);\n  // Render the events for the current day\n  const renderDayCells = React.useCallback((): JSX.Element[] => {\n    const weekEvents = getWeekEvents(currentDate.toISOString());\n    // Render the events for the current day\n    return Array.from({ length: 1 }, (_, dayIndex) => {\n      const weekDay = format(addDays(currentDate, dayIndex), \"yyyy-MM-dd\");\n      const dayEvents = weekEvents.find((day) => day.date === weekDay);\n\n      return (\n        <>\n          {dayEvents?.timeSlots.map((timeSlot, slotIndex) => {\n            const eventCount = timeSlot.events.length; // Total events in the slot\n\n            return (\n              <div\n                key={slotIndex}\n                className={styles.dayCell}\n                style={{\n                  gridRow: slotIndex + 3, // Offset to account for header and full-day row\n                }}\n              >\n                {timeSlot.events.map((event, eventIndex) => {\n                  const startDate = new Date(event.start);\n                  const endDate = new Date(event.end);\n\n                  // Calculate the start and end slots based on event times\n                  const { spanSlots, startSlot } = getSpanSlots(\n                    startDate,\n                    endDate\n                  );\n\n                  // Only render the event in its starting timeslot\n                  if (slotIndex === startSlot) {\n                    const customRender = event?.onRenderInDayView;\n                    // If the event has a custom renderer, use it\n                    if (React.isValidElement(customRender)) {\n                      return React.cloneElement(\n                        customRender as React.ReactElement,\n                        {}\n                      );\n                    }\n\n                    // Event Render\n                    return (\n                      <EventRenderer\n                        key={event.id}\n                        event={event}\n                        eventCount={eventCount}\n                        spanSlots={spanSlots}\n                        rowHeight={ROW_HEIGHT}\n                        eventIndex={eventIndex}\n                        view=\"day\"\n                      />\n                    );\n                  }\n\n                  return null; // Skip rendering for non-starting slots\n                })}\n              </div>\n            );\n          })}\n        </>\n      );\n    });\n  }, [currentDate, getSpanSlots, getWeekEvents, styles.dayCell]);\n\n  return (\n    <div className={styles.container} style={{ height: height }}>\n      {/* DayGrid */}\n      <div ref={calendarRef} className={styles.dayGrid}>\n        <div className={styles.timeColumn}>{renderTimeColumn()}</div>\n        {renderDayHeaders()}\n        {renderFullDayEvents()}\n        {renderDayCells()}\n      </div>\n    </div>\n  );\n};\n\nexport default DayView;\n","export enum ECalendarViews {\n    Day = \"day\",\n    Week = \"week\",\n    Month = \"month\",\n}","/* eslint-disable @typescript-eslint/no-var-requires */\n/* eslint-disable @typescript-eslint/no-floating-promises */\n/* eslint-disable @typescript-eslint/no-unused-vars */\n/* eslint-disable no-empty */\nimport * as React from \"react\";\n\nimport {\n  CalendarDayFilled,\n  CalendarDayRegular,\n  CalendarMonthFilled,\n  CalendarMonthRegular,\n  CalendarWorkWeekFilled,\n  CalendarWorkWeekRegular,\n  bundleIcon,\n} from \"@fluentui/react-icons\";\nimport {\n  Menu,\n  MenuButton,\n  MenuItemRadio,\n  MenuList,\n  MenuPopover,\n  MenuProps,\n  MenuTrigger,\n} from \"@fluentui/react-components\";\n\nimport { ECalendarViews } from \"./ECalendarViews\";\n\nexport interface ISelectCalendarViewProps {\n  onSelected: (view: ECalendarViews) => void;\n  value?: ECalendarViews;\n}\n\nexport const SelectCalendarView: React.FunctionComponent<\n  ISelectCalendarViewProps\n> = (props: React.PropsWithChildren<ISelectCalendarViewProps>) => {\n  const { onSelected, value } = props;\n\n  // State for selected view\n  const [selectedView, setSelectedView] = React.useState<ECalendarViews>(\n    value ?? ECalendarViews.Month\n  );\n\n  const [checkedValues, setCheckedValues] = React.useState<\n    Record<string, string[]>\n  >({\n    view: [value ?? ECalendarViews.Month],\n  });\n\n  const DayView = bundleIcon(CalendarDayFilled, CalendarDayRegular);\n  const MonthView = bundleIcon(CalendarMonthFilled, CalendarMonthRegular);\n  const WeekView = bundleIcon(CalendarWorkWeekFilled, CalendarWorkWeekRegular);\n\n  React.useEffect(() => {\n    // Synchronize selectedView with props\n    if (value !== undefined) {\n      setSelectedView(value);\n      setCheckedValues({ view: [value] });\n    }\n  }, [value]);\n\n  const [open, setOpen] = React.useState(false);\n  const onOpenChange: MenuProps[\"onOpenChange\"] = (_e, data) => {\n    setOpen(data.open);\n  };\n\n  const viewIcon = React.useCallback(() => {\n    switch (selectedView) {\n      case ECalendarViews.Month:\n        return <MonthView />;\n      case ECalendarViews.Week:\n        return <WeekView />;\n      case ECalendarViews.Day:\n        return <DayView />;\n      default:\n        return <MonthView />;\n    }\n  }, [selectedView]);\n\n  const getViewLabel = React.useCallback((view: ECalendarViews) => {\n    switch (view) {\n      case ECalendarViews.Month:\n        return \"Month\";\n      case ECalendarViews.Week:\n        return \"Week\";\n      case ECalendarViews.Day:\n        return \"Day\";\n      default:\n        return \"Month\";\n    }\n  }, []);\n\n  const onCheckedValueChange: MenuProps[\"onCheckedValueChange\"] =\n    React.useCallback(\n      (\n        _e: unknown,\n        { name, checkedItems }: { name: string; checkedItems: string[] }\n      ) => {\n        if (name === \"view\") {\n          const newView = checkedItems[0] as ECalendarViews;\n          setSelectedView(newView);\n          setCheckedValues({ view: checkedItems });\n          onSelected(newView);\n        }\n      },\n      [onSelected]\n    );\n\n  return (\n    <>\n\n      <Menu open={open} onOpenChange={onOpenChange}  >\n        <MenuTrigger disableButtonEnhancement>\n          <MenuButton\n            shape=\"circular\"\n            icon={viewIcon()}\n            style={{ minWidth: \"150px\" }}\n          >\n            {getViewLabel(selectedView)}\n          </MenuButton>\n        </MenuTrigger>\n        <MenuPopover>\n          <MenuList\n            onCheckedValueChange={onCheckedValueChange}\n            checkedValues={checkedValues}\n          >\n            <MenuItemRadio\n              icon={<DayView />}\n              name=\"view\"\n              value={ECalendarViews.Day}\n            >\n              Day\n            </MenuItemRadio>\n            <MenuItemRadio\n              icon={<WeekView />}\n              name=\"view\"\n              value={ECalendarViews.Week}\n            >\n              Week\n            </MenuItemRadio>\n            <MenuItemRadio\n              icon={<MonthView />}\n              name=\"view\"\n              value={ECalendarViews.Month}\n            >\n              Month\n            </MenuItemRadio>\n          </MenuList>\n        </MenuPopover>\n      </Menu>\n    </>\n  );\n};\n","import * as React from 'react';\n\nimport {\n  CalendarMonthFilled,\n  CalendarMonthRegular,\n  bundleIcon,\n} from '@fluentui/react-icons';\nimport {\n  Menu,\n  MenuButton,\n  MenuList,\n  MenuPopover,\n  MenuProps,\n  MenuTrigger,\n} from '@fluentui/react-components';\nimport { format, utcToZonedTime } from 'date-fns-tz'; // Importing date-fns and timezone utilities\n\nimport { Calendar } from '@fluentui/react-calendar-compat'; // Assuming Fluent UI's Calendar is installed\n\nexport interface ISelectDayProps {\n  onSelected: (date: Date) => void; // Returns the selected date\n  value?: Date; // Initial date value\n}\n\nexport const SelectDay: React.FunctionComponent<ISelectDayProps> = React.memo(\n  (props: React.PropsWithChildren<ISelectDayProps>) => {\n    const { onSelected, value } = props;\n\n    // State for selected date\n    const [selectedDate, setSelectedDate] = React.useState<Date | undefined>(\n      value ?? new Date()\n    );\n    const [selectedLabel, setSelectedLabel] = React.useState<string>(() => {\n      const initialDate = value ?? new Date();\n      return format(initialDate, 'dd MMM, yyyy');\n    });\n\n    const [open, setOpen] = React.useState(false);\n\n    const onOpenChange: MenuProps['onOpenChange'] = React.useCallback(\n      (\n        _e: any,\n        data: { open: boolean | ((prevState: boolean) => boolean) }\n      ) => {\n        setOpen(data.open);\n      },\n      []\n    );\n\n    const MonthIcon = React.useMemo(\n      () => bundleIcon(CalendarMonthFilled, CalendarMonthRegular),\n      []\n    );\n\n    const onSelectDate = React.useCallback(\n      (date: Date | null | undefined) => {\n        if (date) {\n          const timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n          const zonedDate = utcToZonedTime(date, timeZone);\n\n          setSelectedDate(zonedDate);\n          setSelectedLabel(format(zonedDate, 'dd MMM, yyyy'));\n          onSelected(zonedDate);\n          setOpen(false);\n        }\n      },\n      [onSelected]\n    );\n\n    return (\n      <Menu open={open} onOpenChange={onOpenChange}>\n        <MenuTrigger disableButtonEnhancement>\n          <MenuButton\n            shape=\"circular\"\n            icon={<MonthIcon />}\n            style={{ minWidth: '200px' }}\n          >\n            {selectedLabel}\n          </MenuButton>\n        </MenuTrigger>\n        <MenuPopover style={{ maxWidth: 'fit-content' }}>\n          <MenuList>\n            <Calendar\n            \n              highlightSelectedMonth\n              showGoToToday\n              onSelectDate={onSelectDate}\n              value={selectedDate}\n            />\n          </MenuList>\n        </MenuPopover>\n      </Menu>\n    );\n  }\n);","import * as React from 'react';\n\nimport { Calendar, DateRangeType } from \"@fluentui/react-calendar-compat\";\n\nimport { css } from '@emotion/css';\n\nconst useCalendarStyles = () => {\n  return {\n    root: css({\n      outlineStyle: \"none !important\", \n    }),\n  };\n};\n\ninterface ICalendarMonthProps {\n  onDateChange: (date: Date) => void;\n  defaultSelectedDate?: Date;\n  onDismiss: () => void;\n}\n\n/* const dateStrings = {\n  months: [\n    \"Gennaio\",\n    \"Febbraio\",\n    \"Marzo\",\n    \"Aprile\",\n    \"Maggio\",\n    \"Giugno\",\n    \"Luglio\",\n    \"Agosto\",\n    \"Settembre\",\n    \"Ottobre\",\n    \"Novembre\",\n    \"Dicembre\",\n  ],\n  shortMonths: [\n    \"Gen\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"Mag\",\n    \"Giu\",\n    \"Lug\",\n    \"Ago\",\n    \"Set\",\n    \"Ott\",\n    \"Nov\",\n    \"Dic\",\n  ],\n  goToToday: \"Vai a oggi\",\n  days: [\n    \"Domenica\",\n    \"Luned\",\n    \"Marted\",\n    \"Mercoled\",\n    \"Gioved\",\n    \"Venerd\",\n    \"Sabato\",\n  ],\n  shortDays: [\n    \"Dom\",\n    \"Lun\",\n    \"Mar\",\n    \"Mer\",\n    \"Gio\",\n    \"Ven\",\n    \"Sab\",\n  ],\n}; */\n\nexport const CalendarMonth: React.FunctionComponent<ICalendarMonthProps> = (\n  props: React.PropsWithChildren<ICalendarMonthProps>\n) => {\n  const { onDateChange, defaultSelectedDate, onDismiss } = props;\nconst styles = useCalendarStyles();\n  const [selectedDate, setSelectedDate] = React.useState<Date>((defaultSelectedDate as Date) ?? new Date());\n\n  const onSelectDate = React.useCallback((date: Date, _selectedDateRangeArray?: Date[] | undefined): void => {\n    setSelectedDate(date);\n    onDateChange(date);\n    onDismiss();\n  }, []);\n\n  return (\n    <>\n      <Calendar\n        className={styles.root}\n        dateRangeType={DateRangeType.Month}\n        highlightSelectedMonth\n        isDayPickerVisible={false}\n        onSelectDate={onSelectDate}\n        value={selectedDate}\n        onDismiss={onDismiss}\n        showGoToToday={false}\n        allFocusable={false}\n      />\n    </>\n  );\n};\n","/* eslint-disable @typescript-eslint/no-var-requires */\n/* eslint-disable @typescript-eslint/no-floating-promises */\n/* eslint-disable @typescript-eslint/no-unused-vars */\n/* eslint-disable no-empty */\nimport * as React from 'react';\n\nimport {\n  CalendarMonthFilled,\n  CalendarMonthRegular,\n  bundleIcon,\n} from '@fluentui/react-icons';\nimport {\n  Menu,\n  MenuButton,\n  MenuList,\n  MenuPopover,\n  MenuProps,\n  MenuTrigger,\n} from '@fluentui/react-components';\n\nimport { CalendarMonth } from './CalendarMonth';\nimport { format } from 'date-fns';\n\nexport interface ISelectMonthProps {\n  onSelected: (date: Date) => void;\n  value?: Date;\n}\n\n\n\nexport const SelectMonth: React.FunctionComponent<ISelectMonthProps> = (\n  props: React.PropsWithChildren<ISelectMonthProps>\n) => {\n  const { onSelected, value } = props;\n \n\n  const Calendar = bundleIcon(CalendarMonthFilled, CalendarMonthRegular);\n  const [selectedDate, setSelectedDate] = React.useState<Date>(value ?? new Date());\n\n  React.useEffect(() => {\n    onSelected(value ?? new Date());\n    setSelectedDate(value ?? new Date());\n  }, [value]);\n\n  const [open, setOpen] = React.useState(false);\n  const onOpenChange: MenuProps[\"onOpenChange\"] = (_e, data) => {\n    setOpen(data.open);\n  };\n\n  const onDateChange = React.useCallback((date: Date) => {\n    onSelected(date);\n    setSelectedDate(date);\n  }, []);\n\n  return (\n    <>\n      <Menu open={open} onOpenChange={onOpenChange}>\n        <MenuTrigger disableButtonEnhancement>\n          <MenuButton shape=\"circular\" icon={<Calendar />} style={{minWidth: \"200px\"}}>\n            {format(selectedDate, \"MMMM yyyy\" )}\n          </MenuButton>\n        </MenuTrigger>\n        <MenuPopover>\n          <MenuList>\n            <CalendarMonth\n              onDateChange={onDateChange}\n              defaultSelectedDate={selectedDate}\n              onDismiss={() => {\n                setOpen(false);\n              }}\n            />\n          </MenuList>\n        </MenuPopover>\n      </Menu>\n    </>\n  );\n};\n","import * as React from 'react';\n\nimport { Calendar, DateRangeType } from '@fluentui/react-calendar-compat'; // Assuming Fluent UI's Calendar is installed\nimport {\n  CalendarMonthFilled,\n  CalendarMonthRegular,\n  bundleIcon,\n} from '@fluentui/react-icons';\nimport {\n  Menu,\n  MenuButton,\n  MenuList,\n  MenuPopover,\n  MenuProps,\n  MenuTrigger,\n} from '@fluentui/react-components';\nimport { format, utcToZonedTime } from 'date-fns-tz'; // Importing date-fns and timezone utilities\n\nexport interface ISelectWeekProps {\n  onSelected: (week: { startDate: Date; endDate: Date }) => void; // Now returns start and end dates as Date objects\n  value?: Date; // Start date as a Date object\n}\n\nconst formatWeekLabel = (week: { start: Date; end: Date }) => {\n  const timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n  const startMonth = format(week.start, 'MMM', { timeZone });\n  const endMonth = format(week.end, 'MMM', { timeZone });\n  const startYear = format(week.start, 'yyyy', { timeZone });\n  const endYear = format(week.end, 'yyyy', { timeZone });\n\n  if (startYear !== endYear) {\n    return `${format(week.start, 'dd MMM yyyy', {\n      timeZone,\n    })} - ${format(week.end, 'dd MMM yyyy', { timeZone })}`;\n  } else if (startMonth !== endMonth) {\n    return `${format(week.start, 'dd MMM', {\n      timeZone,\n    })} - ${format(week.end, 'dd MMM yyyy', { timeZone })}`;\n  } else {\n    return `${format(week.start, 'dd', { timeZone })} - ${format(\n      week.end,\n      'dd MMM yyyy',\n      { timeZone }\n    )}`;\n  }\n};\n\n// Helper function to get the start and end dates of the week\nconst getWeekRange = (date: Date) => {\n  const timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n  const zonedDate = utcToZonedTime(date, timeZone);\n\n  const start = new Date(zonedDate);\n  start.setDate(zonedDate.getDate() - zonedDate.getDay()); // Start of the week (Sunday)\n\n  const end = new Date(start);\n  end.setDate(start.getDate() + 6); // End of the week (Saturday)\n\n  return {\n    start: utcToZonedTime(start, timeZone),\n    end: utcToZonedTime(end, timeZone),\n  };\n};\n\nexport const SelectWeek: React.FunctionComponent<ISelectWeekProps> = React.memo(\n  (props: React.PropsWithChildren<ISelectWeekProps>) => {\n    const { onSelected, value } = props;\n\n    const dateRangeType: DateRangeType = DateRangeType.Week;\n\n    // State for selected week\n    const [selectedDate, setSelectedDate] = React.useState<Date | undefined>(\n      value ?? new Date()\n    );\n    const [selectedWeek, setSelectedWeek] = React.useState<string>(() => {\n      const newValue = value ?? new Date();\n      if (newValue) {\n        const weekRange = getWeekRange(newValue);\n        return formatWeekLabel(weekRange);\n      }\n      return 'Select a week';\n    });\n\n    const [open, setOpen] = React.useState(false);\n\n    const onOpenChange: MenuProps['onOpenChange'] = React.useCallback(\n      (\n        _e: any,\n        data: { open: boolean | ((prevState: boolean) => boolean) }\n      ) => {\n        setOpen(data.open);\n      },\n      []\n    );\n\n    const MonthIcon = React.useMemo(\n      () => bundleIcon(CalendarMonthFilled, CalendarMonthRegular),\n      []\n    );\n\n    const onSelectDate = React.useCallback(\n      (date: Date | null | undefined) => {\n        if (date) {\n          setSelectedDate(date);\n          const weekRange = getWeekRange(date);\n          const weekLabel = formatWeekLabel(weekRange);\n\n          setSelectedWeek(weekLabel);\n          onSelected({ startDate: weekRange.start, endDate: weekRange.end });\n          setOpen(false);\n        }\n      },\n      [getWeekRange, formatWeekLabel, onSelected]\n    );\n\n    const firstDayOfWeek = React.useMemo(() => 0, []); // Week starts on Sunday\n\n    return (\n      <Menu open={open} onOpenChange={onOpenChange}>\n        <MenuTrigger disableButtonEnhancement>\n          <MenuButton\n            shape=\"circular\"\n            icon={<MonthIcon />}\n            style={{ minWidth: '200px' }}\n          >\n            {selectedWeek}\n          </MenuButton>\n        </MenuTrigger>\n        <MenuPopover style={{ maxWidth: 'fit-content' }}>\n          <MenuList>\n            <Calendar\n              dateRangeType={dateRangeType}\n              highlightSelectedMonth\n              showGoToToday\n              onSelectDate={onSelectDate}\n              value={selectedDate}\n              firstDayOfWeek={firstDayOfWeek}\n            />\n          </MenuList>\n        </MenuPopover>\n      </Menu>\n    );\n  }\n);\n","import * as React from \"react\";\n\nimport {\n  ArrowDownFilled,\n  ArrowDownRegular,\n  ArrowUpFilled,\n  ArrowUpRegular,\n  CalendarTodayRegular,\n  bundleIcon,\n} from \"@fluentui/react-icons\";\n\nimport { Button } from \"@fluentui/react-button\";\nimport { ECalendarViews } from \"./ECalendarViews\";\nimport { SelectCalendarView } from \"./SelectCalendarView\";\nimport { SelectDay } from \"../selectDay/SelectDay\";\nimport { SelectMonth } from \"../selectMonth/SelectMonth\";\nimport { SelectWeek } from \"../selectWeek/SelectWeek\";\nimport { Stack } from \"../Stack\";\nimport { Tooltip } from \"@fluentui/react-tooltip\";\n\ninterface ToolbarProps {\n  selectedView: ECalendarViews;\n  onSelectedView: (view: ECalendarViews) => void;\n  currentDate: Date;\n  setCurrentDate: (date: Date) => void;\n  onWeekChange: (date: Date) => void;\n  onMonthChange: (date: Date) => void;\n  onDayChange: (date: Date) => void;\n \n}\n\nexport const Toolbar: React.FC<ToolbarProps> = React.memo(\n  ({\n    selectedView,\n    onSelectedView,\n    currentDate,\n    setCurrentDate,\n    onWeekChange,\n    onMonthChange,\n    onDayChange,\n  }) => {\n    const ArrowDown = bundleIcon(ArrowDownFilled, ArrowDownRegular);\n    const ArrowUp = bundleIcon(ArrowUpFilled, ArrowUpRegular);\n\n    const onSelectWeek = (week: { startDate: Date; endDate: Date }): void => {\n      onWeekChange(week.startDate);\n      setCurrentDate(week.startDate);\n    };\n\n    const onSelectMonth = (month: Date): void => {\n      onMonthChange(month);\n      setCurrentDate(month);\n    };\n\n    const onSelectDay = (day: Date): void => {\n      onDayChange(day);\n      setCurrentDate(day);\n    };\n\n    const RenderSelectView = (): JSX.Element => {\n      switch (selectedView) {\n        case ECalendarViews.Month:\n          return <SelectMonth onSelected={onSelectMonth} value={currentDate} />;\n        case ECalendarViews.Week:\n          return <SelectWeek onSelected={onSelectWeek} value={currentDate} />;\n        case ECalendarViews.Day:\n          return <SelectDay onSelected={onSelectDay} value={currentDate} />;\n        default:\n          return <SelectMonth onSelected={onSelectMonth} value={currentDate} />;\n      }\n    };\n\n    const RenderToday = (): JSX.Element => (\n      <Tooltip content=\"Today\" relationship=\"label\">\n        <Button\n          shape=\"circular\"\n          icon={<CalendarTodayRegular />}\n          size=\"medium\"\n          onClick={() => onDayChange(new Date())}\n        >\n          Today\n        </Button>\n      </Tooltip>\n    );\n\n    const handleNavigation = (offset: number): void => {\n      const newDate = new Date(currentDate);\n      switch (selectedView) {\n        case ECalendarViews.Month:\n          newDate.setMonth(newDate.getMonth() + offset);\n          onMonthChange(newDate);\n          break;\n        case ECalendarViews.Week:\n          newDate.setDate(newDate.getDate() + offset * 7);\n          onWeekChange(newDate);\n          break;\n        case ECalendarViews.Day:\n          newDate.setDate(newDate.getDate() + offset);\n          onDayChange(newDate);\n          break;\n        default:\n          break;\n      }\n      setCurrentDate(newDate);\n    };\n\n    return (\n      <Stack\n        width=\"calc(100% - 40px)\"\n        height=\"fit-content\"\n        horizontal\n        horizontalAlign=\"space-between\"\n        verticalAlign=\"center\"\n        paddingLeft=\"20px\"\n        paddingRight=\"20px\"\n        paddingBottom=\"10px\"\n        paddingTop=\"10px\"\n        columnGap={10}\n        styles={{ overflow: \"hidden\" }}\n      >\n        <Stack\n          horizontal\n          horizontalAlign=\"start\"\n          verticalAlign=\"center\"\n          columnGap={10}\n        >\n          <RenderToday />\n          <RenderSelectView />\n          <Tooltip content=\"Previous\" relationship=\"label\">\n            <Button\n              size=\"medium\"\n              icon={<ArrowUp fontSize={14} />}\n              onClick={() => handleNavigation(-1)}\n            />\n          </Tooltip>\n          <Tooltip content=\"Next\" relationship=\"label\">\n            <Button\n              size=\"medium\"\n              icon={<ArrowDown fontSize={14} />}\n              onClick={() => handleNavigation(1)}\n            />\n          </Tooltip>\n        </Stack>\n        <Stack\n          horizontal\n          horizontalAlign=\"start\"\n          verticalAlign=\"center\"\n          columnGap={10}\n        >\n          <SelectCalendarView\n            onSelected={onSelectedView}\n            value={selectedView}\n          />\n        </Stack>\n      </Stack>\n    );\n  }\n);\n\nexport default Toolbar;\n","import * as React from \"react\";\n\nimport {\n  Body1,\n  Body1Strong,\n  Text,\n  mergeClasses,\n} from \"@fluentui/react-components\";\nimport { addDays, format, isToday, startOfWeek } from \"date-fns\";\nimport { useEffect, useRef, useState } from \"react\";\n\nimport { EventRenderer } from \"./EventRender\";\nimport { IEvent } from \"./IEvents\";\nimport { ResizeObserver } from \"@juggle/resize-observer\";\nimport { useCalendar } from \"./useCalendar\";\nimport { useUtils } from \"./useUtils\";\nimport { useWeekViewStyles } from \"./useWeekViewStyles\";\n\nexport interface IWeekViewProps {\n  events: IEvent[];\n  currentDay: Date;\n  height?: string | number;\n}\n\nexport const WeekView: React.FC<IWeekViewProps> = (props: IWeekViewProps) => {\n  const { events, currentDay, height } = props;\n  const { styles } = useWeekViewStyles();\n  const [currentDate] = useState(currentDay);\n  const [rowHeight, setRowHeight] = useState<number>(32); // Default row height\n  const calendarRef = useRef<HTMLDivElement>(null);\n  const { getSpanSlots } = useUtils();\n  const weekStart = startOfWeek(currentDate, { weekStartsOn: 0 });\n  const timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n  const { getWeekEvents } = useCalendar(events, timeZone);\n\n  // Dynamic row height calculation using ResizeObserver\n  useEffect(() => {\n    const observer = new ResizeObserver(() => {\n      if (calendarRef.current) {\n        const firstRowCell = calendarRef.current.querySelector(\n          \".dayCell\"\n        ) as HTMLDivElement;\n        if (firstRowCell) {\n          setRowHeight(firstRowCell.offsetHeight);\n        }\n      }\n    });\n    if (calendarRef.current) {\n      observer.observe(calendarRef.current);\n    }\n    return () => {\n      observer.disconnect();\n    };\n  }, [calendarRef]);\n\n  const generateColor = React.useCallback((str: string): string => {\n    let hash = 0;\n    for (let i = 0; i < str.length; i++) {\n      hash = str.charCodeAt(i) + ((hash << 5) - hash);\n    }\n    const c = (hash & 0x00ffffff).toString(16).toUpperCase();\n    return `#${\"00000\".substring(0, 6 - c.length) + c}`;\n  }, []);\n\n  const renderTimeColumn = React.useCallback((): JSX.Element[] => {\n    return Array.from({ length: 24 }, (_, hour) => (\n      <React.Fragment key={hour}>\n        <div className={styles.timeCell}>\n          <Body1Strong> {hour}:00 </Body1Strong>\n        </div>\n        <div className={styles.timeCell} />\n      </React.Fragment>\n    ));\n  }, []);\n\n  const renderDayHeaders = React.useCallback((): JSX.Element => {\n    return (\n      <>\n        {/* Blank Header Cell */}\n        <div className={styles.blankHeader} />\n        {/* Day Headers */}\n        {Array.from({ length: 7 }, (_, dayIndex) => {\n          const day = addDays(weekStart, dayIndex);\n          const isTodayClass = isToday(day) ? styles.todayHeaderCell : \"\";\n          return (\n            <div\n              key={dayIndex}\n              className={mergeClasses(styles.dayHeaderCell, isTodayClass)}\n            >\n              <Text weight=\"regular\" size={600} style={{ paddingRight: 10 }}>\n                {format(day, \"dd\")}\n              </Text>\n              <Body1>{format(day, \"EEE\")}</Body1>\n            </div>\n          );\n        })}\n      </>\n    );\n  }, [weekStart, styles]);\n\n  const renderFullDayEvents = React.useCallback((): JSX.Element => {\n    const weekEvents = getWeekEvents(weekStart.toISOString());\n    return (\n      <>\n        <div className={styles.fullDayLabel}>\n          <Body1>All Day</Body1>\n        </div>\n        {Array.from({ length: 7 }, (_, dayIndex) => {\n          const weekDay = format(addDays(weekStart, dayIndex), \"yyyy-MM-dd\");\n          const dayEvents = weekEvents.find((day) => day.date === weekDay);\n          const fullDayEvents = dayEvents?.fullDayEvents || [];\n\n          return (\n            <div key={dayIndex} className={styles.fullDayCell}>\n              {fullDayEvents.map((event) => (\n                <div\n                  key={event.id}\n                  className={styles.fullDayEvent}\n                  style={{\n                    gridColumn: `${dayIndex + 2}`, // Position event in the correct day column\n                    backgroundColor: generateColor(event.title),\n                  }}\n                >\n                  <Body1 className={styles.eventTitle}>{event.title}</Body1>\n                </div>\n              ))}\n            </div>\n          );\n        })}\n      </>\n    );\n  }, [weekStart, styles, getWeekEvents, generateColor]);\n\n  const renderDayCells = React.useCallback((): JSX.Element[] => {\n    const weekEvents = getWeekEvents(weekStart.toISOString());\n\n    return Array.from({ length: 7 }, (_, dayIndex) => {\n      const weekDay = format(addDays(weekStart, dayIndex), \"yyyy-MM-dd\");\n      const dayEvents = weekEvents.find((day) => day.date === weekDay);\n\n      return (\n        <>\n          {dayEvents?.timeSlots.map((timeSlot, slotIndex) => {\n            const eventCount = timeSlot.events.length; // Total events in the slot\n\n            return (\n              <div\n                key={slotIndex}\n                className={styles.dayCell}\n                style={{\n                  gridRow: slotIndex + 3, // Offset to account for header and full-day row\n                }}\n              >\n                {timeSlot.events.map((event, eventIndex) => {\n                  const startDate = new Date(event.start);\n                  const endDate = new Date(event.end);\n                  // Calculate the start and end slots based on event times\n                  const { spanSlots, startSlot } = getSpanSlots(\n                    startDate,\n                    endDate\n                  );\n                  // Only render the event in its starting timeslot\n                  if (slotIndex === startSlot) {\n                    const customRender = event?.onRenderInWeekView;\n                    // If the event has a custom renderer, use it\n                    if (React.isValidElement(customRender)) {\n                      return React.cloneElement(\n                        customRender as React.ReactElement,\n                        {}\n                      );\n                    }\n                    // Event Render\n                    return (\n                      <EventRenderer\n                        key={event.id}\n                        event={event}\n                        eventCount={eventCount}\n                        spanSlots={spanSlots}\n                        rowHeight={rowHeight}\n                        eventIndex={eventIndex}\n                        view=\"week\"\n                      />\n                    );\n                  }\n                  return null; // Skip rendering for non-starting slots\n                })}\n              </div>\n            );\n          })}\n        </>\n      );\n    });\n  }, [weekStart, styles, getWeekEvents, getSpanSlots, rowHeight]);\n\n  return (\n    <div className={styles.container} style={{ height: height }}>\n      {/* Week Grid */}\n      <div ref={calendarRef} className={styles.weekGrid}>\n        <div className={styles.timeColumn}>{renderTimeColumn()}</div>\n        {renderDayHeaders()}\n        {renderFullDayEvents()}\n        {renderDayCells()}\n      </div>\n    </div>\n  );\n};\n\nexport default WeekView;\n","import * as React from \"react\";\n\nimport {\n  Body1,\n  FluentProvider,\n  IdPrefixProvider,\n  webLightTheme,\n} from \"@fluentui/react-components\";\nimport { addDays, startOfMonth, startOfWeek } from \"date-fns\";\nimport { useEffect, useRef, useState } from \"react\";\n\nimport { Day } from \"./Day\";\nimport DayView from \"./DayView\";\nimport { ECalendarViews } from \"./ECalendarViews\";\nimport { ICalendarControlProps } from \"./ICalendarControlProps\";\nimport { ICalendarDay } from \"./ICalendarDay\";\nimport { IEvent } from \"./IEvents\";\nimport { ResizeObserver } from \"@juggle/resize-observer\";\nimport { Stack } from \"../Stack\";\nimport Toolbar from \"./Toolbar\";\nimport WeekView from \"./WeekView\";\nimport { useCalendar } from \"./useCalendar\";\nimport { useCalendarStyles } from \"./useCalendarStyles\";\n\ninterface CalendarState {\n  currentDate: Date;\n}\n\nconst daysOfWeek: string[] = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\",\n];\n\nexport const CalendarControl: React.FC<ICalendarControlProps> = (\n  props: ICalendarControlProps\n) => {\n  const { styles } = useCalendarStyles(props as never);\n  const calendarRef = useRef<HTMLDivElement>(null);\n  const [rowHeight, setRowHeight] = useState<number | null>(null);\n  const {\n    events,\n    height = 800,\n    theme,\n    onDayChange,\n    onMonthChange,\n    onWeekChange,\n    onViewChange,\n  } = props;\n  const rowHeightRef = useRef<number>(0);\n\n  // Default current date\n  const [currentDate, setCurrentDate] = useState<CalendarState[\"currentDate\"]>(\n    new Date()\n  );\n  // Default view\n  const [selectedView, setSelectedView] = useState<ECalendarViews>(\n    ECalendarViews.Month\n  );\n  // Get month calendar\n  const { getMonthCalendar } = useCalendar(\n    events,\n    Intl.DateTimeFormat().resolvedOptions().timeZone\n  );\n  // Get calendar days\n  const getCalendarDays = React.useCallback((date: Date): ICalendarDay[] => {\n    const month = date.getMonth();\n    const firstDayOfMonth = startOfMonth(date);\n    const firstDayOfWeek = startOfWeek(firstDayOfMonth);\n    const totalDisplayedDays = 42;\n    // Generate calendar days\n    const calendarDays = Array.from(\n      { length: totalDisplayedDays },\n      (_, index): ICalendarDay => {\n        const relativeDay = addDays(firstDayOfWeek, index);\n        return {\n          day: relativeDay.getDate(),\n          currentMonth: relativeDay.getMonth() === month,\n          date: relativeDay,\n        };\n      }\n    );\n    return calendarDays;\n  }, []);\n\n  // Handle month change\n  const handleMonthChange = React.useCallback(\n    (date: Date): void => {\n      if (onMonthChange) {\n        onMonthChange(date);\n      }\n      setCurrentDate(date);\n    },\n    [currentDate]\n  );\n  // Handle day change\n  const handleDayChange = React.useCallback(\n    (date: Date): void => {\n      if (onDayChange) {\n        onDayChange(date);\n      }\n      setCurrentDate(date);\n    },\n    [currentDate]\n  );\n  // Handle week change\n  const handleWeekChange = React.useCallback(\n    (date: Date): void => {\n      if (onWeekChange) {\n        onWeekChange(date);\n      }\n      setCurrentDate(date);\n    },\n    [currentDate]\n  );\n  // Handle view change\n  const handleViewChange = React.useCallback(\n    (view: ECalendarViews): void => {\n      if (onViewChange) {\n        onViewChange(view);\n      }\n      setSelectedView(view);\n    },\n    [selectedView]\n  );\n  // Handle next\n\n  // Get events for the day\n  const getEventsForDay = React.useCallback(\n    (dateObj: ICalendarDay): IEvent[] => {\n      const { date } = dateObj;\n      const monthEvents = getMonthCalendar(\n        currentDate.getFullYear(),\n        currentDate.getMonth()\n      );\n      const dayString = date.toISOString().split(\"T\")[0]; // Get date in YYYY-MM-DD format\n      return monthEvents[dayString]?.flatMap((slot) => slot) || [];\n    },\n    [currentDate]\n  );\n  // Resize observer\n  useEffect(() => {\n    const handleResize = (): void => {\n      // Get the height of the 8 column cell\n      // the first column cell  until 7th column cell are headers\n      if (calendarRef.current) {\n        setTimeout(() => {\n          if (calendarRef.current) {\n            const firstDataColumnCell = calendarRef.current.querySelector(\n              `.${styles.calendarWrapper} > div:nth-child(8)`\n            ) as HTMLDivElement;\n\n            if (firstDataColumnCell) {\n              setRowHeight(firstDataColumnCell.offsetHeight);\n              rowHeightRef.current = firstDataColumnCell.offsetHeight;\n            }\n          }\n        }, 100); //  Delay to ensure elements are rendered\n      }\n    };\n    const observer = new ResizeObserver(handleResize);\n    if (calendarRef.current) {\n      observer.observe(calendarRef.current);\n    }\n    handleResize();\n    // fallback for resize\n    window.addEventListener(\"resize\", handleResize);\n    return () => {\n      observer.disconnect();\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, [calendarRef]);\n  // Toolbar component\n\n  // Render Month View\n  const RenderMonthView = React.memo(() => {\n    return (\n      <Stack\n        height={height}\n        width={\"100%\"}\n        verticalAlign=\"start\"\n        horizontalAlign=\"start\"\n      >\n        <div className={styles.calendarWrapper} ref={calendarRef}>\n          {daysOfWeek.map((day) => (\n            <Body1 key={day} className={styles.dayHeader}>\n              {day}\n            </Body1>\n          ))}\n          {getCalendarDays(currentDate).map((dateObj, index) => {\n            const { day, currentMonth } = dateObj;\n            const events = currentMonth ? getEventsForDay(dateObj) : [];\n            return (\n              <Day\n                key={index}\n                day={day}\n                date={dateObj.date}\n                currentMonth={dateObj.currentMonth}\n                events={events}\n                columnHeight={rowHeight || 0}\n              />\n            );\n          })}\n        </div>\n      </Stack>\n    );\n  });\n  // Render Week View\n  const RenderWeekView = React.memo(() => {\n    return (\n      <>\n        {selectedView === ECalendarViews.Week && (\n          <WeekView events={events} currentDay={currentDate} height={height} />\n        )}\n      </>\n    );\n  });\n  // Render Day View\n  const RenderDayView = React.memo(() => {\n    return (\n      <>\n        {selectedView === ECalendarViews.Day && (\n          <DayView currentDay={currentDate} events={events} height={height} />\n        )}\n      </>\n    );\n  });\n\n  // Render content\n  const RenderContent = React.useCallback(() => {\n    switch (selectedView) {\n      case ECalendarViews.Month:\n        return <RenderMonthView />;\n      case ECalendarViews.Week:\n        return <RenderWeekView />;\n      case ECalendarViews.Day:\n        return <RenderDayView />;\n      default:\n        return <RenderMonthView />;\n    }\n  }, [selectedView, RenderMonthView, RenderWeekView, RenderDayView]);\n\n  return (\n    <>\n      <IdPrefixProvider value=\"calendarControl-\">\n        <FluentProvider theme={theme ?? webLightTheme}>\n          <Stack height={\"100%\"} verticalAlign=\"start\">\n            <Toolbar\n              selectedView={selectedView}\n              onSelectedView={handleViewChange}\n              currentDate={currentDate}\n              setCurrentDate={setCurrentDate}\n              onWeekChange={handleWeekChange}\n              onMonthChange={handleMonthChange}\n              onDayChange={handleDayChange}\n            />\n            <RenderContent />\n          </Stack>\n        </FluentProvider>\n      </IdPrefixProvider>\n    </>\n  );\n};\n\nexport default CalendarControl;\n"],"names":["useDateFnsLocales","localeMapping","enCA","enGB","enUS","bg","de","es","fi","fr","hr","hu","it","lt","lv","nl","pl","pt","ro","ru","sl","sk","sr","tr","nlBE","zhTW","zhCN","ca","cs","da","el","et","gl","ja","nb","sv","vi","getLocaleFromCultureName","cultureName","locale","console","error","useTimeZoneHelper","_useDateFnsLocales","guessBrowserTimeZone","Intl","DateTimeFormat","resolvedOptions","timeZone","toString","getIANATimeZone","spTimeZoneId","tzMapping","find","SpToIanaTimeZoneMapping","tz","ID","ianaTimeZone","IANATimeZone","getIANATimeZoneFromOutlookTimeZone","outlookTimezone","OutlookTimeZone","getTimeZone","timeZoneId","utcToZonedTime","date","Error","date_fns_tz","zonedTimeToUtc","formatUtcToZonedTime","isoDateString","format","utcDate","Date","undefined","zonedTime","getDateDistanceToNow","addSufix","formatDistance","addSuffix","getFormatRelative","formatRelative","weekStartsOn","EBreakPoints","EMessageType","useComponentUtils","getCacheKey","React","key","uniqueId","validateUrl","url","urlValid","URL","e","trimBeginDoubleSlash","value","charAt","substring","length","isValidGUID","str","regex","RegExp","test","getPageNameFromUrl","urlParts","split","getSPSiteAbsoluteUrl","absolutefileUrl","hostname","window","location","rootSiteUrl","indexOf","fileServerRelativeUrl","webName","webAbsoluteUrl","getFileServerRelativeUrlFromAbsoluteUrl","absoluteFileUrl","encodeRestUrl","query","encodeURIComponent","replace","checkValueBreakPoint","Object","prototype","hasOwnProperty","call","getProperty","obj","toLowerCase","getCurrentDevice","containerWidth","XXXLarge","ExtraExtraLarge","ExtraLarge","Number","Large","Medium","Small","getSpacingBreakPoint","device","breakPoints","ExtraSmall","newValue","getSpacing","type","newType","spacingTokens","padding","vertical","horizontal","tokens","getBaseStyles","baseProps","_containerHeight","verticalSpacing","horizontalSpacing","paddingLeft","paddingRight","paddingBottom","background","width","maxWidth","height","maxHeight","marginLeft","marginRight","marginTop","marginBottom","paddingTop","margin","styles","wpaddingTop","wpaddingLeft","wpaddingRight","wpaddingBottom","wpadding","wmarginLeft","wmarginRight","wmarginTop","wmarginBottom","wmargin","wgapRow","wgapCol","wgap","_extends","gap","overflow","getLayoutBreakPoint","DEBUG","process","env","NODE_ENV","DATA_IMAGE","useImageUtils","base64FromSVGUrl","useCallback","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","svg","svg64","b64Start","image64","wrap","_callee$","_context","prev","next","fetch","then","response","text","sent","btoa","abrupt","stop","_x","apply","arguments","getImageBase64","_ref2","_callee2","pictureUrl","customWidth","customHeight","_callee2$","_context2","Promise","resolve","reject","image","Image","crossOrigin","addEventListener","tempCanvas","document","createElement","_tempCanvas$getContex","getContext","drawImage","base64Str","toDataURL","err","message","src","_x2","_x3","_x4","isBase64Image","data","isEmpty","getBase64ImageFromDOMImg","imgElementId","imgElement","getElementById","canvas","ctx","dataURL","useCardStyles","props","_useComponentUtils","cardStyles","containerHeight","baseStyles","bodyCardDefaultStyles","display","flexDirection","justifyContent","alignItems","Card","className","cardBody","cardBodyClassName","cardHeader","cardHeaderClassName","cardHeaderImage","cardHeaderAction","cardHeaderDescription","cardFooterAction","cardFooterClassName","cardFooterContent","cardPreviewImage","cardPreviewLogo","_props$cardPreviewPos","cardPreviewPosition","_useCardStyles","ref","_React$useState","setWidth","_React$useState2","setHeight","resizeObserver","current","ResizeObserver","entries","_iterator","_createForOfIteratorHelperLoose","_step","done","entry","_entry$contentRect","contentRect","observe","disconnect","CarFUI","style","CardPreview","logo","CardHeader","header","description","action","mergeClasses","CardFooter","usePrevNextButtons","emblaApi","_useState","useState","prevBtnDisabled","setPrevBtnDisabled","_useState2","nextBtnDisabled","setNextBtnDisabled","onPrevButtonClick","scrollPrev","onNextButtonClick","scrollNext","onSelect","canScrollPrev","canScrollNext","useEffect","on","useCarouselStyles","_props","slideSizeBasedOnWidth","deviceSize","slideSize","getSlideSpacing","slideSpacing","spacingVerticalM","spacingVerticalL","spacingVerticalXL","enableControls","css","embla__viewport","embla__container","backfaceVisibility","touchAction","embla","embla__slide","minWidth","flex","embla__buttons","gridTemplateColumns","useCarouselStylesMain","carouselStyles","useStyle","makeStyles","titleStyles","textOverflow","textAlign","Carousel","items","title","_useCarouselStylesMai","_useEmblaCarousel","useEmblaCarousel","emblaRef","_useCarouselStyles","_usePrevNextButtons","clientWidth","clientHeight","id","Subtitle2","Button","onClick","disabled","appearance","icon","ChevronLeftRegular","ChevronRightRegular","map","item","index","useCenterStyles","centerStyles","childrenStyles","Center","children","_useCenterStyles","debounce","func","delay","timeout","args","Array","_len","_key","clearTimeout","setTimeout","handleResize","debouncedResize","useGridStyles","cols","gridItemAutoFlow","minItemWidth","gridStyles","numberCols","Math","min","Grid","_useGridStyles","useLayoutStyles","maxWith","rootStyles","LayoutWidth","LayoutHeight","layoutGridStyles","defaultLayoutConfig","areas","columns","rows","Layout","_props$layoutConfig","layoutConfig","_useLayoutStyles","useDebounce","fn","timer","observer","gridTemplateAreas","join","gridTemplateRows","child","_childElement$props$a","_childElement$props","childElement","gridArea","area","LayoutItem","useRenderLabelStyles","labelContainer","shorthands","iconStyles","RenderLabel","label","isRequired","Icon","color","colorBrandForeground1","Caption1","colorPaletteRedForeground1","useStyles","root","spinner","RenderSpinner","size","labelPosition","Spinner","useSpaceStyles","spaceStyles","Space","_useSpaceStyles","useStackStyles","horizontalAlign","verticalAlign","verticalFill","columnGap","RowGap","stackStyles","alignValue","justifyValue","wflexFlow","flexFlow","rowGap","Stack","_useStackStyles","StackItem","grow","disableShrink","shrink","order","alignSelf","flexGrow","flexShrink","minHeight","container","flexWrap","text1LineStyle","WebkitLineClamp","WebkitBoxOrient","wordBreak","button","cursor","CustomControlBar","selectedItemId","onSelectedItem","renderControl","theme","onItemSelect","itemId","Overflow","FluentProvider","isSelected","OverflowItem","priority","OverflowMenu","OverflowMenuItem","isVisible","useIsOverflowItemVisible","MenuItem","name","_ref3","_useOverflowMenu","useOverflowMenu","overflowCount","isOverflowing","MoreHorizontal","bundleIcon","MoreHorizontalFilled","MoreHorizontalRegular","IdPrefixProvider","Menu","MenuTrigger","disableButtonEnhancement","MenuButton","role","MenuPopover","MenuList","SkeletonLoading","Skeleton","SkeletonItem","useDataGridStyles","dataGridStyles","datagridStyles","rowSelection","DataGrid","_props$defaultSelecte","defaultSelectedItems","_props$enableSorting","enableSorting","_props$selectionMode","selectionMode","onSelectionChange","onSortChange","defaultSortState","columnSizingOptions","_props$enableResizing","enableResizing","noItemsMessage","isLoadingData","isLoadingDataMessage","getItemIndex","findIndex","i","_useDataGridStyles","Set","selectedItems","setSelectedItems","_React$useState3","cancel","tableColumns","colConfig","createTableColumn","columnId","column","renderHeaderCell","Body1Strong","renderCell","_item$colConfig$colum","TableCellLayout","media","onRender","String","compare","handleSelectionChange","_e","newSelectedItems","forEach","isNaN","add","selectedObjects","from","handleSortChange","sortState","onRowClick","stopPropagation","rowSelectionStyles","RenderDataGridBody","DataGridBody","rowId","DataGridRow","DataGridCell","hasData","RenderGridContent","DataGridFUI","as","sortable","resizableColumns","resizableColumnsOptions","autoFitColumns","DataGridHeader","DataGridHeaderCell","DropdownField","options","onChange","renderItem","validate","placeholder","messageType","required","hint","selectedValue","setSelectedValue","setError","_event","option","validationError","validationState","validationMessage","getValidationIcon","ErrorCircle12Filled","Warning12Filled","CheckmarkCircle12Filled","Field","validationMessageIcon","Dropdown","Option","checkIcon","GenericOverFlowMenu","keyExtractor","DEFAULT_MIN_WIDTH","DEFAULT_MIN_HEIGHT","dialog","dialogBody","RenderDialog","isOpen","dialogTitle","dialogActions","Dialog","open","modalType","DialogSurface","DialogTitle","DialogBody","DialogContent","DialogActions","fluid","position","useRenderHeaderStyles","closeButton","top","right","zIndex","divider","backgroundColor","colorNeutralStroke1","renderHeaderContent","renderHeaderHeader","renderHeaderFooter","renderHeaderBody","renderHeaderTitleContainer","renderHeaderTitle","renderHeaderDescription","dialogTitleAndDescriptionContainer","RenderHeader","onDismiss","ev","preventDefault","Dismiss24Regular","Subtitle1","ShareDialog","onClose","dialogUrl","setDialogUrl","log","iframeRef","useRef","iFrameHeight","setIFrameHeight","siteUrl","listId","closeDialog","handleIframeMessage","event","origin","_JSON$parse","JSON","parse","removeEventListener","clientId","policyTip","folderColor","clickTime","getTime","fullScreenMode","encodeName","border","onLoad","useShowMessageStyles","iconClass","errorContainer","colorStatusDangerBackground1","errorIcon","ShowMessage","renderMessageIcon","setRenderMessageIcon","RenderError","colorStatusDangerForeground1","Body1","SUCCESS","CheckmarkCircle32Regular","primaryFill","colorStatusSuccessForeground1","INFO","Info32Regular","colorStatusWarningForeground1","ERROR","useBreadcrumStyles","alignContent","whiteSpace","breadcrumbItem","separator","getStyles","fontSize","fontWeight","fontWeightBold","fontFamily","fontFamilyBase","_ref$size","showDropdown","setShowDropdown","buttonRef","dropdownRef","left","dropdownStyles","setDropdownStyles","_useBreadcrumStyles","handleButtonClick","_dropdownRef$current","_dropdownRef$current2","buttonRect","getBoundingClientRect","viewportWidth","innerWidth","viewportHeight","innerHeight","dropdownWidth","offsetWidth","dropdownHeight","offsetHeight","bottom","scrollY","scrollX","handleOutsideClick","_buttonRef$current","contains","target","_dropdownRef$current3","createPortal","Text","body","Breadcrumb","_ref$maxWidth","customStyles","_ref$currentIndex","currentIndex","containerRef","visibleItems","setVisibleItems","overflowItems","setOverflowItems","updateVisibleItems","currentWidth","visible","estimatedWidth","push","cloneElement","AspectRatio","ratio","_ref$style","_objectWithoutPropertiesLoose","_excluded","aspectStyle","innerStyle","useAspectRatioStyles","aspectRatioStyles","banner","fieldContainer","RenderProperty","fieldLabel","fieldValue","_useStyles","EventDetailsPopover","start","end","category","_useStyles2","formatedStartDate","parseISO","formatedEndDate","Divider","Badge","useCalendarStyles","calendarWrapper","gridAutoRows","dayHeader","borderBottom","day","colorNeutralBackground1","otherMonthDay","colorNeutralStroke2","colorNeutralBackground2","cardDay","borderRadius","cardDayOnHover","currentDay","borderTop","colorBrandBackground","currentDayLabel","eventCard","eventContainer","overflowY","colorNeutralBackground4","colorBrandStroke2Hover","eventCardWeekView","colorNeutralForegroundOnBrand","popoverContent","borderTopWidth","borderTopStyle","applyEventHouverColorClass","houverColor","colorBrandBackgroundHover","useUtils","getSpanSlots","startDate","endDate","startHour","getHours","startMinute","getMinutes","startSlot","endHour","endMinute","endSlot","spanSlots","generateLightAndHoverColors","baseColor","lightnessIncrease","hoverIncrease","hexToHsl","hex","r","parseInt","slice","g","b","max","delta","h","s","l","hslToHex","a","f","n","k","round","padStart","_hexToHsl","lightColor","hoverColor","getEventColors","colorMap","meeting","appointment","task","deadline","holiday","celebration","reminder","workshop","webinar","conference","defaultColors","colorNeutralBackground3","colorNeutralBackground3Hover","generateColor","hash","charCodeAt","c","toUpperCase","RenderEventToDayOfMonth","headerId","useId","events","onCardHoverChange","columnHeight","_useCalendarStyles","positioningRef","_useUtils","handleMouseEnter","eventTitle","handleMouseLeave","_positioningRef$curre","setTarget","renderCard","calEvent","colors","onMouseEnter","onMouseLeave","renderCardWithPopOver","Popover","withArrow","mouseLeaveDelay","closeOnScroll","closeOnIframeFocus","openOnHover","PopoverTrigger","PopoverSurface","eventStart","startOfDay","eventEnd","endOfDay","isEventInDay","isWithinInterval","customRender","onRenderInMonthView","enableOnHouver","Day","currentMonth","currentDate","isEventHovered","setIsEventHovered","isCurrentDayAndMonth","isSameDay","renderCurrentDayLabel","Body2","toLocaleString","month","handleCardHoverChange","isHovered","useWeekViewStyles","weekGrid","scrollbarWidth","scrollbarColor","blankHeader","gridColumn","colorNeutralStroke3","timeColumn","gridRow","borderRight","timeCell","colorNeutralForeground3","fullDayRow","fullDayLabel","fullDayCell","fullDayEvent","dayHeaderCell","todayHeaderCell","pointerEvents","dayCell","FlexDirection","currentTimeIndicator","colorPaletteRedBorderActive","currentHalfHourCell","houveColor","EventPopoverCard","rowHeight","eventIndex","eventCount","_useWeekViewStyles","cardRef","cardContent","EventRenderer","view","customOnRenderEvent","onRenderInDayView","onRenderInWeekView","useCalendar","initialEvents","timezone","initializeEventsWithId","uuidv4","calendarEvents","setCalendarEvents","toLocalDate","dateString","getMonthCalendar","year","daysInMonth","getDate","calendarEventsByDay","toISOString","setDate","addEvent","eventWithId","prevEvents","concat","getWeekEvents","weekEvents","_loop","dayTimeSlots","_","time","floor","fullDayEvents","isFullDay","currentSlot","slotDateString","slotIndex","setMinutes","timeSlots","useDayViewStyles","dayGrid","ROW_HEIGHT","DayView","_useDayViewStyles","calendarRef","_useCalendar","renderTimeColumn","hour","renderDayHeaders","dayIndex","addDays","isTodayClass","isToday","weight","renderFullDayEvents","weekDay","dayEvents","renderDayCells","timeSlot","_getSpanSlots","ECalendarViews","SelectCalendarView","onSelected","Month","selectedView","setSelectedView","checkedValues","setCheckedValues","CalendarDayFilled","CalendarDayRegular","MonthView","CalendarMonthFilled","CalendarMonthRegular","WeekView","CalendarWorkWeekFilled","CalendarWorkWeekRegular","setOpen","onOpenChange","viewIcon","Week","getViewLabel","onCheckedValueChange","checkedItems","newView","shape","MenuItemRadio","SelectDay","selectedDate","setSelectedDate","initialDate","selectedLabel","setSelectedLabel","MonthIcon","onSelectDate","zonedDate","Calendar","highlightSelectedMonth","showGoToToday","outlineStyle","CalendarMonth","onDateChange","defaultSelectedDate","_selectedDateRangeArray","dateRangeType","DateRangeType","isDayPickerVisible","allFocusable","SelectMonth","formatWeekLabel","week","startMonth","endMonth","startYear","endYear","getWeekRange","getDay","SelectWeek","weekRange","selectedWeek","setSelectedWeek","weekLabel","firstDayOfWeek","Toolbar","onSelectedView","setCurrentDate","onWeekChange","onMonthChange","onDayChange","ArrowDown","ArrowDownFilled","ArrowDownRegular","ArrowUp","ArrowUpFilled","ArrowUpRegular","onSelectWeek","onSelectMonth","onSelectDay","RenderSelectView","RenderToday","Tooltip","content","relationship","CalendarTodayRegular","handleNavigation","offset","newDate","setMonth","getMonth","setRowHeight","weekStart","startOfWeek","firstRowCell","querySelector","daysOfWeek","CalendarControl","_props$height","onViewChange","rowHeightRef","_useState3","getCalendarDays","firstDayOfMonth","startOfMonth","totalDisplayedDays","calendarDays","relativeDay","handleMonthChange","handleDayChange","handleWeekChange","handleViewChange","getEventsForDay","dateObj","monthEvents","getFullYear","dayString","_monthEvents$dayStrin","flatMap","slot","firstDataColumnCell","RenderMonthView","RenderWeekView","RenderDayView","RenderContent","webLightTheme"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;IAuCaA,iBAAiB,GAAG,SAApBA,iBAAiBA;EAC5B,IAAMC,aAAa,GAA8B;IAE/C,OAAO,EAAEC,WAAI;IACb,OAAO,EAAEC,WAAI;IAGb,OAAO,EAAEC,WAAI;IACb,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IAEX,OAAO,EAAEC,WAAI;IACb,OAAO,EAAEC,WAAI;IACb,OAAO,EAAEC,WAAI;IACb,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEvB,SAAE;IACX,OAAO,EAAEwB,SAAE;IACX,cAAc,EAAEvB,SAAE;IAClB,OAAO,EAAEA,SAAE;IACX,OAAO,EAAEwB,SAAE;IAEX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEC,SAAE;IACX,OAAO,EAAEA,SAAE;IACX,OAAO,EAAEC;GAEV;EAED,IAAMC,wBAAwB,GAAG,SAA3BA,wBAAwBA,CAAIC,WAAmB;IACnD,IAAI,CAAC,CAACA,WAAW,EAAE;MACjB,IAAMC,MAAM,GAAWtC,aAAa,CAACqC,WAAW,CAAC;MACjD,IAAI,CAAC,CAACC,MAAM,EAAE;QACZ,OAAOA,MAAM;OACd,MAAM;QACLC,OAAO,CAACC,KAAK,kFAAgFH,WAAa,CAAC;QAC3G,OAAO,IAAI;;KAEd,MAAM;MACL,OAAO,IAAI;;GAEd;EAED,OAAO;IAAED,wBAAwB,EAAxBA;GAA0B;AACrC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICtFaK,iBAAiB,GAAG,SAApBA,iBAAiBA;EAC5B,IAAAC,kBAAA,GAAqC3C,iBAAiB,EAAE;IAAhDqC,wBAAwB,GAAAM,kBAAA,CAAxBN,wBAAwB;;;;;EAMhC,IAAMO,oBAAoB,GAAG,SAAvBA,oBAAoBA;IACxB,IAAI;MACF,OAAOC,IAAI,CAACC,cAAc,EAAE,CAACC,eAAe,EAAE,CAACC,QAAQ,CAACC,QAAQ,EAAE;KACnE,CAAC,OAAOR,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,gIACoH,CAChI;MACD,OAAO,IAAI;;GAEd;;;;EAKD,IAAMS,eAAe,GAAG,SAAlBA,eAAeA,CAAIC,YAAoB;IAC3C,IAAMC,SAAS,GAAOC,WAAI,CAACC,uBAAuB,EAAE,UAACC,EAAmB;MAAA,OAAKA,EAAE,CAACC,EAAE,KAAKL,YAAY;MAAC;IACpG,IAAMM,YAAY,GAAG,CAAC,CAACL,SAAS,GAAGA,SAAS,CAACM,YAAY,GAAG,IAAI;IAChE,OAAOD,YAAY,IAAI,EAAE,CAAC;GAC3B;EAED,IAAME,kCAAkC,GAAG,SAArCA,kCAAkCA,CAAIC,eAAuB;IACjE,IAAMR,SAAS,GAAOC,WAAI,CAACC,uBAAuB,EAAE,UAACC,EAAmB;MAAA,OAAKA,EAAE,CAACM,eAAe,KAAKD,eAAe;MAAC;IACpH,IAAMH,YAAY,GAAG,CAAC,CAACL,SAAS,GAAGA,SAAS,CAACM,YAAY,GAAG,IAAI;IAChE,OAAOD,YAAY,IAAI,EAAE,CAAC;GAC3B;EAED,IAAMK,WAAW,GAAG,SAAdA,WAAWA,CAAIC,UAA2B;IAC9C,IAAI,OAAOA,UAAU,KAAK,QAAQ,EAAE;MAClC,OAAOb,eAAe,CAACa,UAAoB,CAAC;KAC7C,MAAM;MACL,OAAOJ,kCAAkC,CAACI,UAAoB,CAAC;;GAElE;;;;EAKD,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,IAA4B,EAAEF,UAA2B;IAC/E,IAAMf,QAAQ,GAAGc,WAAW,CAACC,UAAU,CAAC;IACxC,IAAI,CAACf,QAAQ,EAAE;MACb,MAAMkB,KAAK,wGAC8F,CACxG;;IAEH,OAAOC,0BAA0B,CAACF,IAAI,EAAEjB,QAAQ,CAAC;GAClD;;;;EAKD,IAAMoB,cAAc,GAAG,SAAjBA,cAAcA,CAAIH,IAA4B,EAAEF,UAA2B;IAC/E,IAAMf,QAAQ,GAAGc,WAAW,CAACC,UAAU,CAAC;IACxC,IAAI,CAACf,QAAQ,EAAE;MACb,MAAMkB,KAAK,wGAC8F,CACxG;;IAEH,OAAOC,0BAA0B,CAACF,IAAI,EAAEjB,QAAQ,CAAC;GAClD;;;;EAKD,IAAMqB,oBAAoB,GAAG,SAAvBA,oBAAoBA,CACxBC,aAAqB,EACrBnB,YAA6B,EAC7BoB,MAAc,EACdjC,WAAoB;IAEpB,IAAMkC,OAAO,GAAG,IAAIC,IAAI,CAACH,aAAa,CAAC;IACvC,IAAMtB,QAAQ,GAAGc,WAAW,CAACX,YAAY,CAAC;IAC1C,IAAI,CAACH,QAAQ,EAAE;MACb,MAAMkB,KAAK,8GACoG,CAC9G;;IAEH,IAAM3B,MAAM,GAA8B,CAAC,CAACD,WAAW,GAAGD,wBAAwB,CAACC,WAAW,CAAC,GAAGoC,SAAS;;IAG3G,IAAMC,SAAS,GAAGR,0BAA0B,CAACK,OAAO,EAAExB,QAAQ,CAAC;;;IAI/D,OAAOmB,kBAAkB,CAACQ,SAAS,EAAEJ,MAAM,EAAE;MAAEvB,QAAQ,EAAEA,QAAQ;MAAET,MAAM,EAAEA;KAAkB,CAAC;GAC/F;EAED,IAAMqC,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAIJ,OAAe,EAAET,UAAkB,EAAEzB,WAAoB,EAAEuC,QAAkB;IACzG,IAAM7B,QAAQ,GAAGc,WAAW,CAACC,UAAU,CAAC;IACxC,IAAI,CAACf,QAAQ,EAAE;MACb,MAAMkB,KAAK,8GACoG,CAC9G;;IAEH,IAAMS,SAAS,GAAGR,0BAA0B,CAACK,OAAO,EAAExB,QAAQ,CAAC;IAC/D,IAAMT,MAAM,GAA8B,CAAC,CAACD,WAAW,GAAGD,wBAAwB,CAACC,WAAW,CAAC,GAAGoC,SAAS;IAC3G,OAAOI,sBAAc,CAACH,SAAS,EAAE,IAAIF,IAAI,EAAE,EAAE;MAAEM,SAAS,EAAEF,QAAQ,WAARA,QAAQ,GAAI,IAAI;MAAEtC,MAAM,EAAEA;KAAkB,CAAC;GACxG;EAED,IAAMyC,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIR,OAAe,EAAET,UAA2B,EAAEzB,WAAoB;IAC3F,IAAMU,QAAQ,GAAGc,WAAW,CAACC,UAAU,CAAC;IACxC,IAAI,CAACf,QAAQ,EAAE;MACb,MAAMkB,KAAK,2GACiG,CAC3G;;IAEH,IAAMS,SAAS,GAAGR,0BAA0B,CAACK,OAAO,EAAExB,QAAQ,CAAC;IAC/D,IAAMT,MAAM,GAA8B,CAAC,CAACD,WAAW,GAAGD,wBAAwB,CAACC,WAAW,CAAC,GAAGoC,SAAS;IAC3G,OAAOO,sBAAc,CAACN,SAAS,EAAE,IAAIF,IAAI,EAAE,EAAE;MAAES,YAAY,EAAE,CAAC;MAAE3C,MAAM,EAAEA;KAAkB,CAAC;GAC5F;EAED,OAAO;IACLK,oBAAoB,EAApBA,oBAAoB;IACpBoB,cAAc,EAAdA,cAAc;IACdI,cAAc,EAAdA,cAAc;IACdC,oBAAoB,EAApBA,oBAAoB;IACpBO,oBAAoB,EAApBA,oBAAoB;IACpBI,iBAAiB,EAAjBA;GACD;AACH,CAAC;;AC9ID,IAAYG,YASV;AATF,WAAYA,YAAY;EACpBA,0DAAe;EACfA,wEAAsB;EACtBA,8DAAiB;EACjBA,mDAAW;EACXA,qDAAY;EACZA,mDAAW;EACXA,6DAAgB;AAEnB,CAAC,EATUA,YAAY,KAAZA,YAAY;;ACAxB,IAAYC,YAIX;AAJD,WAAYA,YAAY;EACpBA,6BAAa;EACbA,+BAAe;EACfA,mCAAmB;AACvB,CAAC,EAJWA,YAAY,KAAZA,YAAY;;ICoCXC,iBAAiB,GAAG,SAApBA,iBAAiBA;EAC5B,IAAMC,WAAW,GAAGC,iBAAiB,CAAC,UAACC,GAAW,EAAEC,QAAgB;IAClE,YAAUD,GAAG,GAAGC,QAAQ;GACzB,EAAE,EAAE,CAAC;EAEN,IAAMC,WAAW,GAAGH,iBAAiB,CAAC,UAACI,GAAW;IAChD,IAAI,CAACA,GAAG,EAAE;MACR,OAAO,KAAK;;IAEd,IAAI;MACF,IAAMC,QAAQ,GAAG,IAAIC,GAAG,CAACF,GAAG,CAAC;MAC7B,OAAO,CAAC,CAACC,QAAQ;KAClB,CAAC,OAAOE,CAAC,EAAE;MACV,OAAO,KAAK;;GAEf,EAAE,EAAE,CAAC;EAEN,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAIC,KAAa;IACzC,IAAIA,KAAK,CAACC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,IAAID,KAAK,CAACC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;MACtD,OAAOD,KAAK,CAACE,SAAS,CAAC,CAAC,EAAEF,KAAK,CAACG,MAAM,CAAC;;IAEzC,OAAOH,KAAK;GACb;EAID,IAAMI,WAAW,GAAGb,iBAAiB,CAAC,UAACc,GAAW;IAChD,IAAMC,KAAK,GAAG,IAAIC,MAAM,CAAC,8DAA8D,CAAC;IACxF,IAAI,CAACF,GAAG,EAAE;MACR,OAAO,KAAK;;IAGd,IAAIC,KAAK,CAACE,IAAI,CAACH,GAAG,CAAC,KAAK,IAAI,EAAE;MAC5B,OAAO,IAAI;KACZ,MAAM;MACL,OAAO,KAAK;;GAEf,EAAE,EAAE,CAAC;EAEN,IAAMI,kBAAkB,GAAGlB,iBAAiB,CAAC,UAACI,GAAW;IACvD,IAAI,CAACA,GAAG,EAAE;MACR,OAAO,EAAE;;IAEX,IAAMe,QAAQ,GAAGf,GAAG,CAACgB,KAAK,CAAC,GAAG,CAAC;IAC/B,OAAOD,QAAQ,CAACA,QAAQ,CAACP,MAAM,GAAG,CAAC,CAAC;GACrC,EAAE,EAAE,CAAC;EAEN,IAAMS,oBAAoB,GAAGrB,iBAAiB,CAAC,UAACsB,eAAuB;IACrE,IAAMC,QAAQ,GAAGC,MAAM,CAACC,QAAQ,CAACF,QAAQ;IACzC,IAAMG,WAAW,gBAAcH,QAAU;IACzC,IACED,eAAe,CAACK,OAAO,CAAID,WAAW,YAAS,CAAC,GAAG,CAAC,CAAC,IACrDJ,eAAe,CAACK,OAAO,CAAID,WAAW,YAAS,CAAC,GAAG,CAAC,CAAC,EACrD;MACA,IAAME,qBAAqB,GAAGN,eAAe,CAACF,KAAK,CAACG,QAAQ,CAAC,CAAC,CAAC,CAAC;;MAEhE,IAAMM,OAAO,GAAGD,qBAAqB,CAACR,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MAEnD,IAAIU,cAAc,gBAAcP,QAAQ,eAAUM,OAAS;MAC3D,IAAIP,eAAe,CAACK,OAAO,CAAID,WAAW,YAAS,CAAC,GAAG,CAAC,CAAC,EAAE;QACzDI,cAAc,gBAAcP,QAAQ,eAAUM,OAAS;;MAEzD,OAAOC,cAAc;;IAEvB,OAAOJ,WAAW;GACnB,EAAE,EAAE,CAAC;EAEN,IAAMK,uCAAuC,GAAG/B,iBAAiB,CAAC,UAACgC,eAAuB;IACxF,IAAIJ,qBAAqB,GAAGI,eAAe,CAACZ,KAAK,CAACI,MAAM,CAACC,QAAQ,CAACF,QAAQ,CAAC,CAAC,CAAC,CAAC;IAC9EK,qBAAqB,GAAGpB,oBAAoB,CAACoB,qBAAqB,CAAC;IACnE,OAAOA,qBAAqB;GAC7B,EAAE,EAAE,CAAC;EAEN,IAAMK,aAAa,GAAGjC,iBAAiB,CAAC,UAACkC,KAAa;IACpD,OAAOC,kBAAkB,CAACD,KAAK,CAACE,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CACpDA,OAAO,CAAC,MAAM,EAAE,QAAQ,CAAC,CACzBA,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CACtBA,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CACtBA,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CACtBA,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CACtBA,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC;GAC1B,EAAE,EAAE,CAAC;EAEN,IAAMC,oBAAoB,GAAGrC,iBAAiB,CAAC,UAAIS,KAAiB;IAClE,IAAIA,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAKtB,SAAS,EAAE;MAAE,OAAO,KAAK;;IACzD,OACEmD,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAAChC,KAAK,EAAE,YAAY,CAAC,IACzD6B,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAAChC,KAAK,EAAE,OAAO,CAAC,IACpD6B,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAAChC,KAAK,EAAE,QAAQ,CAAC,IACrD6B,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAAChC,KAAK,EAAE,OAAO,CAAC,IACpD6B,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAAChC,KAAK,EAAE,YAAY,CAAC;GAE5D,EAAE,EAAE,CAAC;EAEN,IAAMiC,WAAW,GAAG1C,iBAAiB,CAAC,UAAuB2C,GAAM,EAAE1C,GAAM;IACzE,OAAO0C,GAAG,CAAC1C,GAAG,CAACvC,QAAQ,EAAE,CAACkF,WAAW,EAAO,CAAC;GAC9C,EAAE,EAAE,CAAC;EAEN,IAAMC,gBAAgB,GAAG7C,iBAAiB,CAAC,UAAC8C,cAAsB;IAChE,IAAIA,cAAc,IAAIlD,YAAY,CAACmD,QAAQ,EAAE,OAAO,UAAU;IAC9D,IAAID,cAAc,IAAIlD,YAAY,CAACoD,eAAe,EAAE,OAAO,iBAAiB;IAC9E,IAAIF,cAAc,IAAIlD,YAAY,CAACqD,UAAU,EAAE,OAAO,YAAY;IAClE,IAAIH,cAAc,IAAII,MAAM,CAACtD,YAAY,CAACuD,KAAK,CAAC,EAAE,OAAO,OAAO;IAChE,IAAIL,cAAc,IAAII,MAAM,CAACtD,YAAY,CAACwD,MAAM,CAAC,EAAE,OAAO,QAAQ;IAClE,IAAIN,cAAc,IAAII,MAAM,CAACtD,YAAY,CAACyD,KAAK,CAAC,EAAE,OAAO,OAAO;IAChE,OAAO,YAAY;GAClB,EAAE,EAAE,CAAC;EAEN,IAAMC,oBAAoB,GAAGtD,iBAAiB,CAC5C,UAAIS,KAAiB,EAAEqC,cAAsB;IAC3C,IAAMS,MAAM,GAAGV,gBAAgB,CAACC,cAAc,CAAC;IAC/C,IAAMU,WAAW,GAA2B;MAC1CC,UAAU,EAAE,IAAI;MAChBJ,KAAK,EAAE,GAAG;MACVD,MAAM,EAAE,GAAG;MACXD,KAAK,EAAE,GAAG;MACVF,UAAU,EAAE,IAAI;MAChBD,eAAe,EAAE;KAClB;IAED,IAAIU,QAAQ,GAAGjD,KAAK;IACpB,IAAI4B,oBAAoB,CAAI5B,KAAmB,CAAC,EAAE;MAChDiD,QAAQ,GACLhB,WAAW,CAAcjC,KAAU,EAAG8C,MAAkB,WAAlBA,MAAkB,GAAI,QAAQ,CAAyB,IAAIC,WAAW,CAACD,MAAM,CAAC;;IAEzH,OAAOG,QAAkB;GAC1B,EACD,CAACb,gBAAgB,EAAER,oBAAoB,EAAEK,WAAW,CAAC,CACtD;;EAGD,IAAMiB,UAAU,GAAG3D,iBAAiB,CAClC,UAAIS,KAAiB,EAAEqC,cAAsB,EAAEc,IAA2C;IACxF,IAAI,CAACnD,KAAK,EAAE,OAAO,MAAM;;IAGzB,IAAI,OAAOA,KAAK,KAAK,QAAQ,KAAK,SAAS,CAACQ,IAAI,CAACR,KAAK,CAAC,IAAI,QAAQ,CAACQ,IAAI,CAACR,KAAK,CAAC,CAAC,EAAE;MAChF,OAAOA,KAAK,CAAC;;IAGf,IAAMoD,OAAO,GAAGD,IAAI;IACpB,IAAME,aAAa,GAA2B;MAC5CC,OAAO,EAAE,mBAAmB;MAC5BC,QAAQ,EAAE,iBAAiB;MAC3BC,UAAU,EAAE;KACb;IAED,IAAMP,QAAQ,GAAGJ,oBAAoB,CAAI7C,KAAK,EAAEqC,cAAc,CAAC;IAE/D,QAAQY,QAAQ;MACd,KAAK,MAAM;QACT,OAAOQ,sBAAM,CAAIJ,aAAa,CAACD,OAAO,CAAC,UAA8B;MACvE,KAAK,KAAK;QACR,OAAOK,sBAAM,CAAIJ,aAAa,CAACD,OAAO,CAAC,SAA6B;MACtE,KAAK,IAAI;QACP,OAAOK,sBAAM,CAAIJ,aAAa,CAACD,OAAO,CAAC,QAA4B;MACrE,KAAK,QAAQ;QACX,OAAOK,sBAAM,CAAIJ,aAAa,CAACD,OAAO,CAAC,YAAgC;MACzE,KAAK,GAAG;QACN,OAAOK,sBAAM,CAAIJ,aAAa,CAACD,OAAO,CAAC,OAA2B;MACpE,KAAK,QAAQ;QACX,OAAOK,sBAAM,CAAIJ,aAAa,CAACD,OAAO,CAAC,YAAgC;MACzE,KAAK,GAAG;QACN,OAAOK,sBAAM,CAAIJ,aAAa,CAACD,OAAO,CAAC,OAA2B;MACpE,KAAK,GAAG;QACN,OAAOK,sBAAM,CAAIJ,aAAa,CAACD,OAAO,CAAC,OAA2B;MACpE,KAAK,IAAI;QACP,OAAOK,sBAAM,CAAIJ,aAAa,CAACD,OAAO,CAAC,QAA4B;MACrE,KAAK,KAAK;QACR,OAAOK,sBAAM,CAAIJ,aAAa,CAACD,OAAO,CAAC,SAA6B;MACtE,KAAK,MAAM;QACT,OAAOK,sBAAM,CAAIJ,aAAa,CAACD,OAAO,CAAC,UAA8B;MACvE;QACE,OAAOK,sBAAM,CAAIJ,aAAa,CAACD,OAAO,CAAC,OAA2B;;GAEvE,EACD,CAACP,oBAAoB,CAAC,CACvB;EAED,IAAMa,aAAa,GAAGnE,iBAAiB,CAAC,UAACoE,SAAoB,EAAEtB,cAAsB,EAAEuB,gBAAwB;IAC7G,IACEC,eAAe,GAkBbF,SAAS,CAlBXE,eAAe;MACfC,iBAAiB,GAiBfH,SAAS,CAjBXG,iBAAiB;MACjBC,WAAW,GAgBTJ,SAAS,CAhBXI,WAAW;MACXC,YAAY,GAeVL,SAAS,CAfXK,YAAY;MACZC,aAAa,GAcXN,SAAS,CAdXM,aAAa;MACbC,UAAU,GAaRP,SAAS,CAbXO,UAAU;MACVC,KAAK,GAYHR,SAAS,CAZXQ,KAAK;MACLC,QAAQ,GAWNT,SAAS,CAXXS,QAAQ;MACRC,MAAM,GAUJV,SAAS,CAVXU,MAAM;MACNC,SAAS,GASPX,SAAS,CATXW,SAAS;MACTC,UAAU,GAQRZ,SAAS,CARXY,UAAU;MACVC,WAAW,GAOTb,SAAS,CAPXa,WAAW;MACXC,SAAS,GAMPd,SAAS,CANXc,SAAS;MACTC,YAAY,GAKVf,SAAS,CALXe,YAAY;MACZC,UAAU,GAIRhB,SAAS,CAJXgB,UAAU;MACVrB,OAAO,GAGLK,SAAS,CAHXL,OAAO;MACPsB,MAAM,GAEJjB,SAAS,CAFXiB,MAAM;MACNC,MAAM,GACJlB,SAAS,CADXkB,MAAM;IAIR,IAAIC,WAAW,GAAG5B,UAAU,CAAUyB,UAAoB,EAAEtC,cAAc,EAAE,SAAS,CAAC;IACtF,IAAI0C,YAAY,GAAG7B,UAAU,CAAUa,WAAqB,EAAE1B,cAAc,EAAE,SAAS,CAAC;IACxF,IAAI2C,aAAa,GAAG9B,UAAU,CAAUc,YAAsB,EAAE3B,cAAc,EAAE,SAAS,CAAC;IAC1F,IAAI4C,cAAc,GAAG/B,UAAU,CAAUe,aAAuB,EAAE5B,cAAc,EAAE,SAAS,CAAC;IAC5F,IAAM6C,QAAQ,GAAGhC,UAAU,CAAUI,OAAiB,EAAEjB,cAAc,EAAE,SAAS,CAAC;IAElF,IAAI8C,WAAW,GAAGjC,UAAU,CAAUqB,UAAoB,EAAElC,cAAc,EAAE,SAAS,CAAC;IACtF,IAAI+C,YAAY,GAAGlC,UAAU,CAAUsB,WAAqB,EAAEnC,cAAc,EAAE,SAAS,CAAC;IACxF,IAAIgD,UAAU,GAAGnC,UAAU,CAAUuB,SAAmB,EAAEpC,cAAc,EAAE,SAAS,CAAC;IACpF,IAAIiD,aAAa,GAAGpC,UAAU,CAAUwB,YAAsB,EAAErC,cAAc,EAAE,SAAS,CAAC;IAE1F,IAAMkD,OAAO,GAAGrC,UAAU,CAAU0B,MAAgB,EAAEvC,cAAc,EAAE,SAAS,CAAC;IAEhF,IAAI6C,QAAQ,EAAE;MACZJ,WAAW,GAAKA,WAAW,KAAK,MAAM,GAAGI,QAAQ,GAAGJ,WAAW;MAC/DC,YAAY,GAAGA,YAAY,KAAM,MAAM,GAAGG,QAAQ,GAAGH,YAAY;MACjEC,aAAa,GAAGA,aAAa,KAAK,MAAM,GAAGE,QAAQ,GAAGF,aAAa;MACnEC,cAAc,GAAGA,cAAc,KAAM,MAAM,GAAGC,QAAQ,GAAGD,cAAc;;IAGzE,IAAIM,OAAO,EAAE;MACXJ,WAAW,GAAGA,WAAW,KAAM,MAAM,GAAGI,OAAO,GAAGJ,WAAW;MAC7DC,YAAY,GAAGA,YAAY,KAAM,MAAM,GAAGG,OAAO,GAAGH,YAAY;MAChEC,UAAU,GAAGA,UAAU,KAAK,MAAM,GAAGE,OAAO,GAAGF,UAAU;MACzDC,aAAa,GAAGA,aAAa,KAAM,MAAM,GAAGC,OAAO,GAAGD,aAAa;;IAGrE,IAAME,OAAO,GAAItC,UAAU,CAAmBW,eAAyB,EAAExB,cAAc,EAAE,UAAU,CAAC;IACpG,IAAMoD,OAAO,GAAGvC,UAAU,CAAqBY,iBAA2B,EAAEzB,cAAc,EAAE,YAAY,CAAC;IAEzG,IAAMqD,IAAI,GAAMF,OAAO,SAAIC,OAAS;IACpC,OAAAE,QAAA,KACKd,MAAM;MACTe,GAAG,EAAEF,IAAI;MACTf,UAAU,EAAEG,WAAW;MACvBf,WAAW,EAAEgB,YAAY;MACzBf,YAAY,EAAEgB,aAAa;MAC3Bf,aAAa,EAAEgB,cAAc;MAC7BV,UAAU,EAAEY,WAAW;MACvBX,WAAW,EAAEY,YAAY;MACzBX,SAAS,EAAEY,UAAU;MACrBX,YAAY,EAAEY,aAAa;MAC3BpB,UAAU,EAAEA,UAAU;MACtBC,KAAK,EAAEA,KAAK,WAALA,KAAK,GAAIzF,SAAS;MACzB2F,MAAM,EAAEA,MAAM,WAANA,MAAM,GAAI3F,SAAS;MAC3B0F,QAAQ,EAAEA,QAAQ,WAARA,QAAQ,GAAI1F,SAAS;MAC/B4F,SAAS,EAAEA,SAAS,WAATA,SAAS,GAAI5F,SAAS;MACjCmH,QAAQ,EAAE;;GAGb,EAAE,CAAC3C,UAAU,CAAC,CAAC;EAGhB,IAAM4C,mBAAmB,GAAGvG,iBAAiB,CAC3C,UAAIS,KAAiB,EAAEqC,cAAsB;IAC3C,IAAMS,MAAM,GAAGV,gBAAgB,CAACC,cAAc,CAAC;IAC/C,IAAIY,QAAQ,GAAGjD,KAAK;IACpB,IAAI4B,oBAAoB,CAAI5B,KAAmB,CAAC,EAAE;MAChDiD,QAAQ,GACLhB,WAAW,CAAajC,KAAU,EAAG8C,MAAkB,WAAlBA,MAAkB,GAAI,QAAQ,CAAwB,IAAK,EAAE;;IAEvG,OAAOG,QAAkB;GAC1B,EACD,CAACb,gBAAgB,EAAER,oBAAoB,EAAEK,WAAW,CAAC,CACtD;EAED,OAAO;IACL3C,WAAW,EAAXA,WAAW;IACXI,WAAW,EAAXA,WAAW;IACXK,oBAAoB,EAApBA,oBAAoB;IACpBK,WAAW,EAAXA,WAAW;IACXK,kBAAkB,EAAlBA,kBAAkB;IAClBG,oBAAoB,EAApBA,oBAAoB;IACpBU,uCAAuC,EAAvCA,uCAAuC;IACvCE,aAAa,EAAbA,aAAa;IACb0B,UAAU,EAAVA,UAAU;IACVd,gBAAgB,EAAhBA,gBAAgB;IAChBsB,aAAa,EAAbA,aAAa;IACboC,mBAAmB,EAAnBA;GACD;AACH,CAAC,CAAC;;AC3TF,IAAMC,KAAK,GAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY;AAEnD,AAKA,IAAMC,UAAU,GAAG,aAAa;AAEhC,IAAaC,aAAa,GAAG,SAAhBA,aAAaA;EAGxB,IAAMC,gBAAgB,GAAGC,iBAAW;IAAA,IAAAC,IAAA,GAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAOhH,GAAW;MAAA,IAAAiH,GAAA,EAAAC,KAAA,EAAAC,QAAA,EAAAC,OAAA;MAAA,OAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACnCC,KAAK,CAAC1H,GAAG,CAAC,CAAC2H,IAAI,CAAC,UAACC,QAAQ;cAAA,OAAKA,QAAQ,CAACC,IAAI,EAAE;cAAC;UAAA;YAA1DZ,GAAG,GAAAM,QAAA,CAAAO,IAAA;YACHZ,KAAK,GAAGa,IAAI,CAACd,GAAG,CAAC;YACjBE,QAAQ,GAAG,4BAA4B;YACvCC,OAAO,GAAGD,QAAQ,GAAGD,KAAK;YAAA,OAAAK,QAAA,CAAAS,MAAA,WACzBZ,OAAO;UAAA;UAAA;YAAA,OAAAG,QAAA,CAAAU,IAAA;;SAAAjB,OAAA;KACf;IAAA,iBAAAkB,EAAA;MAAA,OAAAtB,IAAA,CAAAuB,KAAA,OAAAC,SAAA;;OAAE,EAAE,CAAC;EAEN,IAAMC,cAAc,GAAG1B,iBAAW;IAAA,IAAA2B,KAAA,GAAAzB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAwB,SAAOC,UAAkB,EAAEC,WAAoB,EAAEC,YAAqB;MAAA,OAAA5B,mBAAA,GAAAO,IAAA,UAAAsB,UAAAC,SAAA;QAAA,kBAAAA,SAAA,CAAApB,IAAA,GAAAoB,SAAA,CAAAnB,IAAA;UAAA;YAAA,OAAAmB,SAAA,CAAAZ,MAAA,WAGhG,IAAIa,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM;cACjC,IAAMC,KAAK,GAAG,IAAIC,KAAK,EAAE;cACzBD,KAAK,CAACE,WAAW,GAAG,WAAW;cAC/BF,KAAK,CAACG,gBAAgB,CAAC,MAAM,EAAE;;gBAC7B,IAAMC,UAAU,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;gBACnDF,UAAU,CAAC5E,KAAK,GAAGiE,WAAW,WAAXA,WAAW,GAAIO,KAAK,CAACxE,KAAK;gBAC7C4E,UAAU,CAAC1E,MAAM,GAAGgE,YAAY,WAAZA,YAAY,GAAIM,KAAK,CAACtE,MAAM;gBAChD0E,UAAU,aAAAG,qBAAA,GAAVH,UAAU,CAAEI,UAAU,CAAC,IAAI,CAAC,aAA5BD,qBAAA,CAA8BE,SAAS,CAACT,KAAK,EAAE,CAAC,EAAE,CAAC,EAAEP,WAAW,WAAXA,WAAW,GAAIO,KAAK,CAACxE,KAAK,EAAEkE,YAAY,WAAZA,YAAY,GAAIM,KAAK,CAACtE,MAAM,CAAC;gBAC9G,IAAIgF,SAAS;gBACb,IAAI;kBACFA,SAAS,GAAGN,UAAU,CAACO,SAAS,CAAC,WAAW,EAAE,CAAC,CAAC;kBAChDb,OAAO,CAACY,SAAS,CAAC;iBACnB,CAAC,OAAOE,GAAG,EAAE;kBACZ,IAAIxD,KAAK,EAAE;oBACTvJ,OAAO,CAACC,KAAK,0CAAyC8M,GAAa,CAACC,OAAO,MAAG,CAAC;;kBAEjFd,MAAM,CAACa,GAAG,CAAC;;eAEd,CAAC;cACFZ,KAAK,CAACG,gBAAgB,CAAC,OAAO,EAAE,UAACS,GAAG;gBAClC,IAAIxD,KAAK,EAAE;kBACTvJ,OAAO,CAACC,KAAK,uDAAqD8M,GAAG,CAACC,OAAO,MAAG,CAAC;;gBAEnFd,MAAM,CAACa,GAAG,CAAC;eACZ,CAAC;cACFZ,KAAK,CAACc,GAAG,GAAGtB,UAAU;aACvB,CAAC;UAAA;UAAA;YAAA,OAAAI,SAAA,CAAAX,IAAA;;SAAAM,QAAA;KACH;IAAA,iBAAAwB,GAAA,EAAAC,GAAA,EAAAC,GAAA;MAAA,OAAA3B,KAAA,CAAAH,KAAA,OAAAC,SAAA;;OAAE,EAAE,CAAC;EAEN,IAAM8B,aAAa,GAAGvD,iBAAW,CAAC,UAACwD,IAAY;IAC7C,OAAO,CAACC,cAAO,CAACD,IAAI,CAAC,IAAIA,IAAI,CAAC5I,OAAO,CAACiF,UAAU,CAAC,IAAI,CAAC;GACvD,EAAE,EAAE,CAAC;EAEN,IAAM6D,wBAAwB,GAAG1D,iBAAW,CAAC,UAAC2D,YAAoB;IAChE,IAAI;MACF,IAAMC,UAAU,GAAGlB,QAAQ,CAACmB,cAAc,CAACF,YAAY,CAAQ;MAC/D,IAAMG,MAAM,GAAGpB,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;MAC/CmB,MAAM,CAACjG,KAAK,GAAG+F,UAAU,CAAC/F,KAAK;MAC/BiG,MAAM,CAAC/F,MAAM,GAAG6F,UAAU,CAAC7F,MAAM;MACjC,IAAMgG,GAAG,GAAGD,MAAM,CAACjB,UAAU,CAAC,IAAI,CAAC;MACnCkB,GAAG,YAAHA,GAAG,CAAEjB,SAAS,CAACc,UAAU,EAAE,CAAC,EAAE,CAAC,CAAC;MAChC,IAAMI,OAAO,GAAGF,MAAM,CAACd,SAAS,CAAC,WAAW,CAAC;MAE7C,OAAOgB,OAAO;KACf,CAAC,OAAOf,GAAG,EAAE;MACZ,IAAIxD,KAAK,EAAE;QACTvJ,OAAO,CAACC,KAAK,uCAAsC8M,GAAa,CAACC,OAAO,MAAG,CAAC;;MAE9E,OAAO9K,SAAS;;GAEnB,EAAE,EAAE,CAAC;EAEN,OAAO;IACLsL,wBAAwB,EAAxBA,wBAAwB;IACxBH,aAAa,EAAbA,aAAa;IACb7B,cAAc,EAAdA,cAAc;IACd3B,gBAAgB,EAAhBA;GACD;AACH,CAAC;;IC9EYkE,aAAa,GAAG,SAAhBA,aAAaA,CAAIC,KAAiB;EAC7C,IAAQ3F,MAAM,GAAK2F,KAAK,CAAhB3F,MAAM;EACd,IAAA4F,kBAAA,GAA0BpL,iBAAiB,EAAE;IAArCqE,aAAa,GAAA+G,kBAAA,CAAb/G,aAAa;EAErB,IAAMgH,UAAU,GAAGnL,iBAAiB,CAClC,UAAC8C,cAAsB,EAAEsI,eAAuB;IAC9C,IAAMC,UAAU,GAAGlH,aAAa,CAAC8G,KAAK,EAAEnI,cAAc,EAAEsI,eAAe,CAAC;IACxE,OAAAhF,QAAA,KACKiF,UAAU,EACV/F,MAAM;GAGZ,EACD,CAACnB,aAAa,EAAE8G,KAAK,EAAE3F,MAAM,CAAC,CAC/B;EAED,IAAMgG,qBAAqB,GAAwBtL,aAAa,CAAC;IAC/D,OAAO;MACLuL,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAQ;MACvBC,cAAc,EAAE,OAAO;MACvBC,UAAU,EAAE,SAAS;MACrBpF,QAAQ,EAAE;KACX;GACF,EAAE,EAAE,CAAC;EAEN,OAAO;IAAE6E,UAAU,EAAVA,UAAU;IAAEG,qBAAqB,EAArBA;GAAuB;AAC9C,CAAC;;IClBYK,IAAI,GAAG,SAAPA,IAAIA,CAAIV,KAA0C;EAC7D,IACEW,SAAS,GAcPX,KAAK,CAdPW,SAAS;IACTC,QAAQ,GAaNZ,KAAK,CAbPY,QAAQ;IACRC,iBAAiB,GAYfb,KAAK,CAZPa,iBAAiB;IACjBC,UAAU,GAWRd,KAAK,CAXPc,UAAU;IACVC,mBAAmB,GAUjBf,KAAK,CAVPe,mBAAmB;IACnBC,eAAe,GASbhB,KAAK,CATPgB,eAAe;IACfC,gBAAgB,GAQdjB,KAAK,CARPiB,gBAAgB;IAChBC,qBAAqB,GAOnBlB,KAAK,CAPPkB,qBAAqB;IACrBC,gBAAgB,GAMdnB,KAAK,CANPmB,gBAAgB;IAChBC,mBAAmB,GAKjBpB,KAAK,CALPoB,mBAAmB;IACnBC,iBAAiB,GAIfrB,KAAK,CAJPqB,iBAAiB;IACjBC,gBAAgB,GAGdtB,KAAK,CAHPsB,gBAAgB;IAChBC,eAAe,GAEbvB,KAAK,CAFPuB,eAAe;IAAAC,qBAAA,GAEbxB,KAAK,CADPyB,mBAAmB;IAAnBA,mBAAmB,GAAAD,qBAAA,cAAG,KAAK,GAAAA,qBAAA;EAE7B,IAAAE,cAAA,GAA8C3B,aAAa,CAACC,KAAK,CAAC;IAA1DE,UAAU,GAAAwB,cAAA,CAAVxB,UAAU;IAAEG,qBAAqB,GAAAqB,cAAA,CAArBrB,qBAAqB;EACzC,IAAMsB,GAAG,GAAG5M,YAAY,CAAiB,IAAI,CAAC;EAE9C,IAAA6M,eAAA,GAA0B7M,cAAc,CAAC,CAAC,CAAC;IAApC4E,KAAK,GAAAiI,eAAA;IAAEC,QAAQ,GAAAD,eAAA;EACtB,IAAAE,gBAAA,GAA4B/M,cAAc,CAAC,CAAC,CAAC;IAAtC8E,MAAM,GAAAiI,gBAAA;IAAEC,SAAS,GAAAD,gBAAA;EAExB/M,eAAe,CAAC;IACd,IAAIiN,gBAA8B;IAClC,IAAIL,GAAG,CAACM,OAAO,EAAE;;MAEfD,gBAAc,GAAG,IAAIE,6BAAc,CAAC,UAACC,OAAO;QAC1C,SAAAC,SAAA,GAAAC,+BAAA,CAAoBF,OAAO,GAAAG,KAAA,IAAAA,KAAA,GAAAF,SAAA,IAAAG,IAAA,GAAE;UAAA,IAAlBC,KAAK,GAAAF,KAAA,CAAA9M,KAAA;UACd,IAAAiN,kBAAA,GAA0BD,KAAK,CAACE,WAAW;YAAnC/I,MAAK,GAAA8I,kBAAA,CAAL9I,KAAK;YAAEE,OAAM,GAAA4I,kBAAA,CAAN5I,MAAM;UACrBgI,QAAQ,CAAClI,MAAK,CAAC;UACfoI,SAAS,CAAClI,OAAM,CAAC;;OAEpB,CAAC;MACFmI,gBAAc,CAACW,OAAO,CAAChB,GAAG,CAACM,OAAO,CAAC;;IAErC,OAAO;MACL,IAAID,gBAAc,EAAE;QAClBA,gBAAc,CAACY,UAAU,EAAE;;KAE9B;GACF,EAAE,EAAE,CAAC;EACN,OACE7N,0CACEA;IAAK4M,GAAG,EAAEA;KACR5M,oBAAC8N,oBAAM;IAAClC,SAAS,EAAEA,SAAS;IAAEmC,KAAK,EAAE5C,UAAU,CAACvG,KAAK,EAAEE,MAAM;KAAOmG,KAAK,GACtEsB,gBAAgB,IAAIG,mBAAmB,KAAK,KAAK,IAChD1M,oBAACgO,2BAAW;IAACC,IAAI,EAAEzB;KAAkBD,gBAAgB,MACtD,EACAR,UAAU,IACT/L,oBAACkO,0BAAU;IACTtC,SAAS,EAAEI,mBAAmB;IAC9B5C,KAAK,EAAE6C,eAAe;IACtBkC,MAAM,EAAEpC,UAAU;IAClBqC,WAAW,EAAEjC,qBAAqB;IAClCkC,MAAM,EAAEnC;IAEX,EACAK,gBAAgB,IAAIG,mBAAmB,KAAK,aAAa,IACxD1M,oBAACgO,2BAAW;IAACC,IAAI,EAAEzB;KAAkBD,gBAAgB,MACtD,EACAV,QAAQ,IACP7L;IAAK4L,SAAS,EAAE0C,4BAAY,CAACxC,iBAAiB,CAAC;IAAEiC,KAAK,EAAEzC;KACrDO,QAAQ,CAEZ,EACAU,gBAAgB,IAAIG,mBAAmB,KAAK,QAAQ,IACnD1M,oBAACgO,2BAAW;IAACC,IAAI,EAAEzB;KAAkBD,gBAAgB,MACtD,EACAD,iBAAiB,IAChBtM,oBAACuO,0BAAU;IAACF,MAAM,EAAEjC,gBAAgB;IAAER,SAAS,EAAES;KAC9CC,iBAAiB,CAErB,CACM,CACL,CACL;AAEP,CAAC;;IC9EckC,kBAAkB,GAAG,SAArBA,kBAAkBA,CAC7BC,QAAuC;EAEvC,IAAAC,SAAA,GAA8CC,cAAQ,CAAC,IAAI,CAAC;IAArDC,eAAe,GAAAF,SAAA;IAAEG,kBAAkB,GAAAH,SAAA;EAC1C,IAAAI,UAAA,GAA8CH,cAAQ,CAAC,IAAI,CAAC;IAArDI,eAAe,GAAAD,UAAA;IAAEE,kBAAkB,GAAAF,UAAA;EAE1C,IAAMG,iBAAiB,GAAGlI,iBAAW,CAAC;IACpC,IAAI,CAAC0H,QAAQ,EAAE;IACfA,QAAQ,CAACS,UAAU,EAAE;GACtB,EAAE,CAACT,QAAQ,CAAC,CAAC;EAEd,IAAMU,iBAAiB,GAAGpI,iBAAW,CAAC;IACpC,IAAI,CAAC0H,QAAQ,EAAE;IACfA,QAAQ,CAACW,UAAU,EAAE;GACtB,EAAE,CAACX,QAAQ,CAAC,CAAC;EAEd,IAAMY,QAAQ,GAAGtI,iBAAW,CAAC,UAAC0H,QAA2B;IACvDI,kBAAkB,CAAC,CAACJ,QAAQ,CAACa,aAAa,EAAE,CAAC;IAC7CN,kBAAkB,CAAC,CAACP,QAAQ,CAACc,aAAa,EAAE,CAAC;GAC9C,EAAE,EAAE,CAAC;EAENC,eAAS,CAAC;IACR,IAAI,CAACf,QAAQ,EAAE;IAEfY,QAAQ,CAACZ,QAAQ,CAAC;IAClBA,QAAQ,CAACgB,EAAE,CAAC,QAAQ,EAAEJ,QAAQ,CAAC;IAC/BZ,QAAQ,CAACgB,EAAE,CAAC,QAAQ,EAAEJ,QAAQ,CAAC;GAChC,EAAE,CAACZ,QAAQ,EAAEY,QAAQ,CAAC,CAAC;EAExB,OAAO;IACLT,eAAe,EAAfA,eAAe;IACfG,eAAe,EAAfA,eAAe;IACfE,iBAAiB,EAAjBA,iBAAiB;IACjBE,iBAAiB,EAAjBA;GACD;AACH,CAAC;;AClDH;AAEA,IAUaO,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIC,MAAsB,EAAE7M,cAAsB;EAC9E,IAAAoI,kBAAA,GAA6BpL,iBAAiB,EAAE;IAAxC+C,gBAAgB,GAAAqI,kBAAA,CAAhBrI,gBAAgB;EAExB,IAAM+M,qBAAqB,GAAG5P,iBAAiB,CAAC;IAC9C,IAAM6P,UAAU,GAAGhN,gBAAgB,CAACC,cAAc,CAAC;IACnD,IAAIgN,SAAS,GAAG,KAAK;IACrB,QAAQD,UAAU;MAChB,KAAK,QAAQ;QACXC,SAAS,GAAG,KAAK;QACjB;MACF,KAAK,OAAO;QACVA,SAAS,GAAG,eAAe;QAC3B;MACF,KAAK,YAAY;QACfA,SAAS,GAAG,eAAe;QAC3B;MACF;QACEA,SAAS,GAAG,KAAK;QACjB;;IAEJ,OAAOA,SAAS;GACjB,EAAE,CAAChN,cAAc,EAAED,gBAAgB,CAAC,CAAC;EAEtC,IAAMkN,eAAe,GAAG/P,iBAAiB,CAAC;IACxC,IAAM6P,UAAU,GAAGhN,gBAAgB,CAACC,cAAc,CAAC;IAEnD,IAAIkN,YAAY,GAAI9L,sBAAM,CAAC+L,gBAAgB;IAE3C,QAAQJ,UAAU;MAChB,KAAK,QAAQ;QACXG,YAAY,GAAI9L,sBAAM,CAAC+L,gBAAgB;QACvC;MACF,KAAK,OAAO;QACVD,YAAY,GAAI9L,sBAAM,CAACgM,gBAAgB;QACvC;MACA,KAAK,YAAY;QACjBF,YAAY,GAAI9L,sBAAM,CAACiM,iBAAiB;QACxC;MACF;QACEH,YAAY,GAAI9L,sBAAM,CAAC+L,gBAAgB;QACvC;;IAEJ,OAAOD,YAAY;GACpB,EAAE,CAAClN,cAAc,EAAED,gBAAgB,CAAC,CAAC;EAEtC,IAAMuN,cAAc,GAAGC,OAAG,CAAC;IACzB9E,OAAO,EAAE,MAAM;IACfE,cAAc,EAAE,eAAe;IAC/BC,UAAU,EAAE,SAAS;IACrBrF,GAAG,EAAE,EAAE;IACPtC,OAAO,EAAE;GACV,CAAC;EAEF,IAAMuM,eAAe,GAAGD,OAAG,CAAC;IAC1B/J,QAAQ,EAAE,QAAQ;IAClBlB,UAAU,EAAE,MAAM;IAClBV,aAAa,EAAE;GAChB,CAAC;EAEF,IAAM6L,gBAAgB,GAAGF,OAAG,CAAC;IAC3BG,kBAAkB,EAAE,QAAQ;IAC5BjF,OAAO,EAAE,MAAM;IACfkF,WAAW,EAAE;GAEd,CAAC;EAEF,IAAMC,KAAK,GAAGL,OAAG,CAAC;IAChB,QAAQ,EAAE;GACX,CAAC;EAEF,IAAMM,YAAY,GAAGN,OAAG,CAAC;IACvBO,QAAQ,EAAE,CAAC;IACXC,IAAI,WAASjB,qBAAqB,EAAI;IACtCpL,WAAW,OAAKuL,eAAe;GAChC,CAAC;EAEJ,IAAMe,cAAc,GAAGT,OAAG,CAAC;IACvB9E,OAAO,EAAE,MAAM;IACfwF,mBAAmB,EAAE,gBAAgB;IACrC1K,GAAG,EAAE,CAAC;IACNqF,UAAU,EAAE;GACf,CAAC;EAGA,OAAO;IAAE0E,cAAc,EAAdA,cAAc;IAAEE,eAAe,EAAfA,eAAe;IAAEC,gBAAgB,EAAhBA,gBAAgB;IAAEG,KAAK,EAALA,KAAK;IAAEC,YAAY,EAAZA,YAAY;IAAEG,cAAc,EAAdA;GAAgB;AACnG,CAAC;;IC1FYE,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAI/F,KAAqB;EACzD,IAAQ3F,MAAM,GAAK2F,KAAK,CAAhB3F,MAAM;EAEd,IAAA4F,kBAAA,GAA0BpL,iBAAiB,EAAE;IAArCqE,aAAa,GAAA+G,kBAAA,CAAb/G,aAAa;EACrB,IAAM8M,cAAc,GAAGjR,iBAAiB,CACtC,UAAC8C,cAAsB,EAAEsI,eAAuB;IAC9C,IAAMC,UAAU,GAAGlH,aAAa,CAAC8G,KAAK,EAAEnI,cAAc,EAAEsI,eAAe,CAAC;IACxE,OAAAhF,QAAA,KACKiF,UAAU,EACV/F,MAAM;GAEZ,EACD,CAACnB,aAAa,EAAE8G,KAAK,EAAE3F,MAAM,CAAC,CAC/B;EAED,OAAO;IAAE2L,cAAc,EAAdA;GAAgB;AAC3B,CAAC;;ACFD,IAAMC,QAAQ,gBAAGC,0BAAU,CAAC;EAC1BC,WAAW,EAAC;IACV7F,OAAO,EAAE,aAAa;IACrBjF,QAAQ,EAAG,QAAQ;IACpB+K,YAAY,EAAE,UAAU;IACxB,oBAAoB,EAAE,GAAG;IACzB,oBAAoB,EAAE,UAAU;IAChCC,SAAS,EAAE,OAAO;IAClBxM,MAAM,EAAE;;CAEX,CAAC;AAEF,IAAayM,QAAQ,GAAI,SAAZA,QAAQA,CACnBtG,KAA8C;EAE9C,IAAQW,SAAS,GAAmBX,KAAK,CAAjCW,SAAS;IAAE4F,KAAK,GAAYvG,KAAK,CAAtBuG,KAAK;IAAEC,KAAK,GAAKxG,KAAK,CAAfwG,KAAK;EAC/B,IAAM7E,GAAG,GAAG5M,YAAY,CAAiB,IAAI,CAAC;EAC9C,IAAA6M,eAAA,GAA0B7M,cAAc,CAAC,CAAC,CAAC;IAApC4E,KAAK,GAAAiI,eAAA;IAAEC,QAAQ,GAAAD,eAAA;EACtB,IAAAE,gBAAA,GAA4B/M,cAAc,CAAC,CAAC,CAAC;IAAtC8E,MAAM,GAAAiI,gBAAA;IAAEC,SAAS,GAAAD,gBAAA;EACxB,IAAA2E,qBAAA,GAA2BV,qBAAqB,CAAC/F,KAAK,CAAC;IAA/CgG,cAAc,GAAAS,qBAAA,CAAdT,cAAc;EACtB,IAAAU,iBAAA,GAA6BC,gBAAgB,EAAE;IAAxCC,QAAQ,GAAAF,iBAAA;IAAElD,QAAQ,GAAAkD,iBAAA;EAC3B,IAAMrM,MAAM,GAAG4L,QAAQ,EAAE;EACvB,IAAAY,kBAAA,GAOIpC,iBAAiB,CAACzE,KAAK,EAAErG,KAAK,CAAE;IANlCwL,cAAc,GAAA0B,kBAAA,CAAd1B,cAAc;IACdO,YAAY,GAAAmB,kBAAA,CAAZnB,YAAY;IACZJ,gBAAgB,GAAAuB,kBAAA,CAAhBvB,gBAAgB;IAChBD,eAAe,GAAAwB,kBAAA,CAAfxB,eAAe;IACfQ,cAAc,GAAAgB,kBAAA,CAAdhB,cAAc;EAGhB,IAAAiB,mBAAA,GAAmFvD,kBAAkB,CAACC,QAAQ,CAAC;IAAvGG,eAAe,GAAAmD,mBAAA,CAAfnD,eAAe;IAAEG,eAAe,GAAAgD,mBAAA,CAAfhD,eAAe;IAAEE,iBAAiB,GAAA8C,mBAAA,CAAjB9C,iBAAiB;IAAEE,iBAAiB,GAAA4C,mBAAA,CAAjB5C,iBAAiB;EAE9EnP,eAAe,CAAC;IACd,IAAIiN,gBAA8B;IAClC,IAAIL,GAAG,CAACM,OAAO,EAAE;;MAGfD,gBAAc,GAAG,IAAIE,6BAAc,CAAC,UAACC,OAAO;QAC1C,SAAAC,SAAA,GAAAC,+BAAA,CAAoBF,OAAO,GAAAG,KAAA,IAAAA,KAAA,GAAAF,SAAA,IAAAG,IAAA,GAAE;UAAA,IAAlBC,KAAK,GAAAF,KAAA,CAAA9M,KAAA;UACd,IAAAiN,kBAAA,GAA0BD,KAAK,CAACE,WAAW;YAAnC/I,MAAK,GAAA8I,kBAAA,CAAL9I,KAAK;YAAEE,OAAM,GAAA4I,kBAAA,CAAN5I,MAAM;UACrBgI,QAAQ,CAAClI,MAAK,CAAC;UACfoI,SAAS,CAAClI,OAAM,CAAC;;OAEpB,CAAC;MACFgI,QAAQ,CAACF,GAAG,CAACM,OAAO,CAAC8E,WAAW,CAAC;MACjChF,SAAS,CAACJ,GAAG,CAACM,OAAO,CAAC+E,YAAY,CAAC;MACnChF,gBAAc,CAACW,OAAO,CAAChB,GAAG,CAACM,OAAO,CAAC;;IAErC,OAAO;MACL,IAAID,gBAAc,EAAE;QAClBA,gBAAc,CAACY,UAAU,EAAE;;KAE9B;GACF,EAAE,EAAE,CAAC;EAEN,OACE7N,0CACEA;IACEkS,EAAE,EAAC,WAAW;IACdtG,SAAS,EAAE0C,4BAAY,CAAC1C,SAAS,EAAE,OAAO,CAAC;IAC3CmC,KAAK,EAAA3H,QAAA,KAAO6K,cAAc,CAACrM,KAAK,EAAEE,MAAM,CAAC,CAAE;IAC3C8H,GAAG,EAAEA;KAEL5M;IAAK4L,SAAS,EAAEwE;KACdpQ,oBAACmS,yBAAS;IACRvG,SAAS,EAAEtG,MAAM,CAAC8L;KAGjBK,KAAK,CACI,EAEZzR;IAAK4L,SAAS,EAAEkF;KACd9Q,oBAACoS,sBAAM;IACLC,OAAO,EAAEpD,iBAAiB;IAC1BqD,QAAQ,EAAE1D,eAAe;IACzB2D,UAAU,EAAC,QAAQ;IACnBC,IAAI,EAAExS,oBAACyS,6BAAkB;IACzB,EACFzS,oBAACoS,sBAAM;IACLC,OAAO,EAAElD,iBAAiB;IAC1BmD,QAAQ,EAAEvD,eAAe;IACzBwD,UAAU,EAAC,QAAQ;IACnBC,IAAI,EAAExS,oBAAC0S,8BAAmB;IAC1B,CACE,CACF,EAEN1S;IAAK4L,SAAS,EAAE0E,eAAe;IAAE1D,GAAG,EAAEiF;KACpC7R;IAAK4L,SAAS,EAAE2E;KACbiB,KAAK,CAACmB,GAAG,CAAC,UAACC,IAAI,EAAEC,KAAK;IAAA,OACrB7S;MAAK4L,SAAS,EAAE+E,YAAY;MAAE1Q,GAAG,EAAE4S;OAChCD,IAAI,CACD;GACP,CAAC,CACE,CACF,CACF,CACL;AAEP,CAAC;;IChHYE,eAAe,GAAG,SAAlBA,eAAeA,CAAI7H,KAAmB;EACjD,IAAQ3F,MAAM,GAAK2F,KAAK,CAAhB3F,MAAM;EAEd,IAAA4F,kBAAA,GAA0BpL,iBAAiB,EAAE;IAArCqE,aAAa,GAAA+G,kBAAA,CAAb/G,aAAa;EACrB,IAAM4O,YAAY,GAAG/S,iBAAiB,CACpC,UAAC8C,cAAsB,EAAEsI,eAAuB;IAE9C,IAAMC,UAAU,GAAGlH,aAAa,CAAC8G,KAAK,EAAEnI,cAAc,EAAEsI,eAAe,CAAC;IACxE,OAAAhF,QAAA,KACKiF,UAAU,EACV/F,MAAM;MACRgB,QAAQ,EAAE,QAAQ;MACnBiF,OAAO,EAAE,MAAM;MAEfE,cAAc,EAAE,QAAQ;MACxBC,UAAU,EAAE,QAAQ;MACpB9G,KAAK,EAAE,MAAM;MACbE,MAAM,EAAE;;GAGX,EACD,CAACX,aAAa,EAAE8G,KAAK,EAAE3F,MAAM,CAAC,CAC/B;EAED,IAAM0N,cAAc,GAAG3C,OAAG,CAAC;IACzB5E,cAAc,EAAE,QAAQ;IACxB6F,SAAS,EAAE;GACZ,CAAC;EAEF,OAAO;IAAEyB,YAAY,EAAZA,YAAY;IAAEC,cAAc,EAAdA;GAAgB;AACzC,CAAC;;IC/BYC,MAAM,GAAoD,SAA1DA,MAAMA,CAAqDhI,KAAK;EAC3E,IAAQW,SAAS,GAAeX,KAAK,CAA7BW,SAAS;IAAEsH,QAAQ,GAAKjI,KAAK,CAAlBiI,QAAQ;EAE3B,IAAMtG,GAAG,GAAG5M,YAAY,CAAiB,IAAI,CAAC;EAC9C,IAAA6M,eAAA,GAA0B7M,cAAc,CAAC,CAAC,CAAC;IAApC4E,KAAK,GAAAiI,eAAA;IAAEC,QAAQ,GAAAD,eAAA;EACtB,IAAAE,gBAAA,GAA4B/M,cAAc,CAAC,CAAC,CAAC;IAAtC8E,MAAM,GAAAiI,gBAAA;IAAEC,SAAS,GAAAD,gBAAA;EACxB,IAAAoG,gBAAA,GAAyBL,eAAe,CAAC7H,KAAK,CAAC;IAAvC8H,YAAY,GAAAI,gBAAA,CAAZJ,YAAY;;EAGpB,IAAMK,QAAQ,GAAG,SAAXA,QAAQA,CAAIC,IAA8B,EAAEC,KAAa;IAC7D,IAAIC,OAAuB;IAC3B,OAAO;wCAAIC,IAAW,OAAAC,KAAA,CAAAC,IAAA,GAAAC,IAAA,MAAAA,IAAA,GAAAD,IAAA,EAAAC,IAAA;QAAXH,IAAW,CAAAG,IAAA,IAAAnL,SAAA,CAAAmL,IAAA;;MACpBC,YAAY,CAACL,OAAO,CAAC;MACrBA,OAAO,GAAGM,UAAU,CAAC;QAAA,OAAMR,IAAI,CAAA9K,KAAA,SAAIiL,IAAI,CAAC;SAAEF,KAAK,CAAC;KACjD;GACF;EAEDtT,eAAe,CAAC;IACd,IAAM8T,YAAY,GAAG,SAAfA,YAAYA,CAAI1G,OAAY;MAChC,SAAAC,SAAA,GAAAC,+BAAA,CAAoBF,OAAO,GAAAG,KAAA,IAAAA,KAAA,GAAAF,SAAA,IAAAG,IAAA,GAAE;QAAA,IAAlBC,KAAK,GAAAF,KAAA,CAAA9M,KAAA;QACd,IAAAiN,kBAAA,GAA0BD,KAAK,CAACE,WAAW;UAAnC/I,MAAK,GAAA8I,kBAAA,CAAL9I,KAAK;UAAEE,OAAM,GAAA4I,kBAAA,CAAN5I,MAAM;QACrBgI,QAAQ,CAAClI,MAAK,CAAC;QACfoI,SAAS,CAAClI,OAAM,CAAC;;KAEpB;IAED,IAAMiP,eAAe,GAAGX,QAAQ,CAACU,YAAY,EAAE,GAAG,CAAC;IAEnD,IAAM7G,gBAAc,GAAG,IAAIE,6BAAc,CAAC,UAACC,OAAO;MAChD2G,eAAe,CAAC3G,OAAO,CAAC;KACzB,CAAC;IAEF,IAAIR,GAAG,CAACM,OAAO,EAAE;MACfD,gBAAc,CAACW,OAAO,CAAChB,GAAG,CAACM,OAAO,CAAC;;IAGrC,OAAO;MACLD,gBAAc,CAACY,UAAU,EAAE;KAC5B;GACF,EAAE,EAAE,CAAC;EAEN,OACE7N;IACEkS,EAAE,EAAC,QAAQ;IACXtG,SAAS,EAAEA,SAAS;IACpBmC,KAAK,EAAA3H,QAAA,KACA2M,YAAY,CAACnO,KAAK,EAAEE,MAAM,CAAC;MAC9ByG,OAAO,EAAE,MAAM;MACfE,cAAc,EAAE,QAAQ;MACxBC,UAAU,EAAE,QAAQ;MACpB5G,MAAM,EAAE,MAAM;MACdF,KAAK,EAAE;MACR;IACDgI,GAAG,EAAEA;KAEJsG,QAAQ,CACL;AAEV,CAAC;;ICzDYc,aAAa,GAAG,SAAhBA,aAAaA,CAAI/I,KAAiB;EAC7C,IAAQgJ,IAAI,GAAiFhJ,KAAK,CAA1FgJ,IAAI;IAAE3P,eAAe,GAAgE2G,KAAK,CAApF3G,eAAe;IAAEC,iBAAiB,GAA6C0G,KAAK,CAAnE1G,iBAAiB;IAAEe,MAAM,GAAqC2F,KAAK,CAAhD3F,MAAM;IAAE4O,gBAAgB,GAAmBjJ,KAAK,CAAxCiJ,gBAAgB;IAAEC,YAAY,GAAKlJ,KAAK,CAAtBkJ,YAAY;EACxF,IAAAjJ,kBAAA,GAAwDpL,iBAAiB,EAAE;IAAnE6D,UAAU,GAAAuH,kBAAA,CAAVvH,UAAU;IAAEd,gBAAgB,GAAAqI,kBAAA,CAAhBrI,gBAAgB;IAAEsB,aAAa,GAAA+G,kBAAA,CAAb/G,aAAa;EAEnD,IAAMiQ,UAAU,GAAGpU,iBAAiB,CAClC,UAAC8C,cAAsB,EAAEsI,eAAuB;IAC9C,IAAMC,UAAU,GAAGlH,aAAa,CAAC8G,KAAK,EAAEnI,cAAc,EAAEsI,eAAe,CAAC;IACxE,IAAMnF,OAAO,GAAGtC,UAAU,CAAmBW,eAAyB,EAAExB,cAAc,EAAE,UAAU,CAAC;IACnG,IAAMoD,OAAO,GAAGvC,UAAU,CAAqBY,iBAA2B,EAAEzB,cAAc,EAAE,YAAY,CAAC;IACzG,IAAMqD,IAAI,GAAMF,OAAO,SAAIC,OAAS;IACpC,IAAM3C,MAAM,GAAGV,gBAAgB,CAACC,cAAc,CAAC;IAC/C,IAAIiO,mBAAmB,qBAAkBmD,gBAAgB,WAAhBA,gBAAgB,GAAI,MAAM,mBAAYC,YAAY,WAAZA,YAAY,GAAI,GAAG,eAAW;IAC7G,IAAIF,IAAI,IAAIA,IAAI,GAAG,CAAC,EAAE;MACpB,IAAII,UAAU,GAAGJ,IAAI,WAAJA,IAAI,GAAI,CAAC;MAC1B,QAAQ1Q,MAAM;QACZ,KAAK,YAAY;UACf8Q,UAAU,GAAGC,IAAI,CAACC,GAAG,CAACN,IAAI,EAAE,CAAC,CAAC;UAC9B;QACF,KAAK,OAAO;UACVI,UAAU,GAAGC,IAAI,CAACC,GAAG,CAACN,IAAI,EAAE,CAAC,CAAC;UAC9B;QACF,KAAK,QAAQ;UACXI,UAAU,GAAGC,IAAI,CAACC,GAAG,CAACN,IAAI,EAAE,CAAC,CAAC;UAC9B;QACF,KAAK,OAAO;UACVI,UAAU,GAAGC,IAAI,CAACC,GAAG,CAACN,IAAI,EAAE,CAAC,CAAC;UAC9B;QACF,KAAK,YAAY;UACfI,UAAU,GAAGC,IAAI,CAACC,GAAG,CAACN,IAAI,EAAE,CAAC,CAAC;UAC9B;QACF,KAAK,iBAAiB;UACpBI,UAAU,GAAGC,IAAI,CAACC,GAAG,CAACN,IAAI,EAAE,CAAC,CAAC;UAC9B;QACF,KAAK,UAAU;UACbI,UAAU,GAAGC,IAAI,CAACC,GAAG,CAACN,IAAI,EAAE,CAAC,CAAC;UAC9B;QACF;UACEI,UAAU,GAAG,CAAC;;MAElBtD,mBAAmB,eAAasD,UAAU,0BAAuB;;IAGnE,OAAAjO,QAAA,KACKiF,UAAU;MACbE,OAAO,EAAE,MAAM;MACfwF,mBAAmB,EAAEA,mBAAmB;MACxC1K,GAAG,EAAEF,IAAI;MAGTG,QAAQ,EAAE;OAEPhB,MAAM;GAEZ,EACD,CAACnB,aAAa,EAAE8G,KAAK,EAAEtH,UAAU,EAAEW,eAAe,EAAEC,iBAAiB,EAAE1B,gBAAgB,EAAEoR,IAAI,EAAE3O,MAAM,EAAE4O,gBAAgB,EAAEC,YAAY,CAAC,CACvI;EAED,OAAO;IAAEC,UAAU,EAAVA;GAAY;AACvB,CAAC;;IC3DYI,IAAI,GAAI,SAARA,IAAIA,CACfvJ,KAA0C;EAE1C,IAAQiI,QAAQ,GAAgBjI,KAAK,CAA7BiI,QAAQ;IAAEtH,SAAS,GAAKX,KAAK,CAAnBW,SAAS;EAC3B,IAAA6I,cAAA,GAAuBT,aAAa,CAAC/I,KAAK,CAAC;IAAnCmJ,UAAU,GAAAK,cAAA,CAAVL,UAAU;EAClB,IAAMxH,GAAG,GAAG5M,YAAY,CAAiB,IAAI,CAAC;EAE9C,IAAA6M,eAAA,GAA0B7M,cAAc,CAAC,CAAC,CAAC;IAApC4E,KAAK,GAAAiI,eAAA;IAAEC,QAAQ,GAAAD,eAAA;EACtB,IAAAE,gBAAA,GAA4B/M,cAAc,CAAC,CAAC,CAAC;IAAtC8E,MAAM,GAAAiI,gBAAA;IAAEC,SAAS,GAAAD,gBAAA;EAExB/M,eAAe,CAAC;IACd,IAAIiN,gBAA8B;IAClC,IAAIL,GAAG,CAACM,OAAO,EAAE;;MAEbD,gBAAc,GAAG,IAAIE,6BAAc,CAAC,UAACC,OAAO;QAC5C,SAAAC,SAAA,GAAAC,+BAAA,CAAoBF,OAAO,GAAAG,KAAA,IAAAA,KAAA,GAAAF,SAAA,IAAAG,IAAA,GAAE;UAAA,IAAlBC,KAAK,GAAAF,KAAA,CAAA9M,KAAA;UACd,IAAAiN,kBAAA,GAA0BD,KAAK,CAACE,WAAW;YAAnC/I,MAAK,GAAA8I,kBAAA,CAAL9I,KAAK;YAAEE,OAAM,GAAA4I,kBAAA,CAAN5I,MAAM;UACrBgI,QAAQ,CAAClI,MAAK,CAAC;UACfoI,SAAS,CAAClI,OAAM,CAAC;;OAEpB,CAAC;MACFmI,gBAAc,CAACW,OAAO,CAAChB,GAAG,CAACM,OAAO,CAAC;;IAErC,OAAO;MACL,IAAID,gBAAc,EAAE;QAClBA,gBAAc,CAACY,UAAU,EAAE;;KAE9B;GACF,EAAE,EAAE,CAAC;EACN,OACE7N,0CACEA;IAAK4L,SAAS,EAAEA,SAAS;IAAEmC,KAAK,EAAEqG,UAAU,CAACxP,KAAK,EAAEE,MAAM,CAAC;IAAE8H,GAAG,EAAEA;KAC/DsG,QAAQ,CACL,CACL;AAEP,CAAC;;ICnCYwB,eAAe,GAAG,SAAlBA,eAAeA,CAAIzJ,KAAsD;EACpF,IAAQ0J,OAAO,GAAO1J,KAAK,CAAnB0J,OAAO;EACf,IAAAzJ,kBAAA,GAA0BpL,iBAAiB,EAAE;IAArCqE,aAAa,GAAA+G,kBAAA,CAAb/G,aAAa;EAErB,IAAMyQ,UAAU,GAAG5U,iBAAiB,CAClC,UAAC6U,WAAmB,EAAEC,YAAoB;IAAA,OAAA1O,QAAA,KACrCjC,aAAa,CAAC8G,KAAK,EAAE4J,WAAW,EAAEC,YAAY,CAAC;MAClDjQ,QAAQ,EAAE8P;;GACV,EACF,CAACxQ,aAAa,EAAEwQ,OAAO,EAAE1J,KAAK,CAAC,CAChC;EAED,IAAM8J,gBAAgB,GAAG1E,OAAG,CAAC;IAC3B9E,OAAO,EAAE,MAAM;IACfjF,QAAQ,EAAE;GACX,CAAC;EAEF,OAAO;IACLsO,UAAU,EAAVA,UAAU;IACVG,gBAAgB,EAAhBA;GACD;AACH,CAAC;;ACpBD;AACA,IAAMC,mBAAmB,GAAkB;EACzCC,KAAK,EAAE,CAAC,sBAAsB,EAAE,yBAAyB,EAAE,sBAAsB,CAAC;EAClFC,OAAO,EAAE,aAAa;EACtBC,IAAI,EAAE;CACP;AAED,IAAaC,MAAM,GAAG,SAATA,MAAMA,CAAInK,KAA+E;EACpG,IAAQW,SAAS,GAAmDX,KAAK,CAAjEW,SAAS;IAAEsH,QAAQ,GAAyCjI,KAAK,CAAtDiI,QAAQ;IAAAmC,mBAAA,GAAyCpK,KAAK,CAA5CqK,YAAY;IAAZA,YAAY,GAAAD,mBAAA,cAAGL,mBAAmB,GAAAK,mBAAA;EAC/D,IAAMzI,GAAG,GAAG5M,YAAY,CAAiB,IAAI,CAAC;EAC9C,IAAA6M,eAAA,GAA0B7M,cAAc,CAAC,CAAC,CAAC;IAApC4E,KAAK,GAAAiI,eAAA;IAAEC,QAAQ,GAAAD,eAAA;EACtB,IAAAE,gBAAA,GAA4B/M,cAAc,CAAC,CAAC,CAAC;IAAtC8E,MAAM,GAAAiI,gBAAA;IAAEC,SAAS,GAAAD,gBAAA;EAExB,IAAAwI,gBAAA,GAAyCb,eAAe,CAAAtO,QAAA,KAAM6E,KAAK;MAAEqK,YAAY,EAAZA;MAAc,CAAC;IAA5EV,UAAU,GAAAW,gBAAA,CAAVX,UAAU;IAAEG,gBAAgB,GAAAQ,gBAAA,CAAhBR,gBAAgB;EAEpC,IAAMS,WAAW,GAAG,SAAdA,WAAWA,CAAIC,EAAY,EAAEnC,KAAa;IAC9C,IAAIoC,KAAqB;IACzB,OAAO1V,iBAAiB,CAAC;wCAAIwT,IAAW,OAAAC,KAAA,CAAAC,IAAA,GAAAC,IAAA,MAAAA,IAAA,GAAAD,IAAA,EAAAC,IAAA;QAAXH,IAAW,CAAAG,IAAA,IAAAnL,SAAA,CAAAmL,IAAA;;MACtCC,YAAY,CAAC8B,KAAK,CAAC;MACnBA,KAAK,GAAG7B,UAAU,CAAC;QAAA,OAAM4B,EAAE,CAAAlN,KAAA,SAAIiL,IAAI,CAAC;SAAEF,KAAK,CAAC;KAC7C,EAAE,CAACmC,EAAE,EAAEnC,KAAK,CAAC,CAAC;GAChB;EAED,IAAMQ,YAAY,GAAG0B,WAAW,CAAC,UAAC5Q,KAAa,EAAEE,MAAc;IAC7DgI,QAAQ,CAAClI,KAAK,CAAC;IACfoI,SAAS,CAAClI,MAAM,CAAC;GAClB,EAAE,GAAG,CAAC;EAEP9E,eAAe,CAAC;IACd,IAAI,CAAC4M,GAAG,CAACM,OAAO,EAAE;IAElB,IAAMyI,QAAQ,GAAG,IAAIxI,6BAAc,CAAC,UAACC,OAAO;MAC1C,SAAAC,SAAA,GAAAC,+BAAA,CAAoBF,OAAO,GAAAG,KAAA,IAAAA,KAAA,GAAAF,SAAA,IAAAG,IAAA,GAAE;QAAA,IAAlBC,KAAK,GAAAF,KAAA,CAAA9M,KAAA;QACd,IAAAiN,kBAAA,GAA0BD,KAAK,CAACE,WAAW;UAAnC/I,MAAK,GAAA8I,kBAAA,CAAL9I,KAAK;UAAEE,OAAM,GAAA4I,kBAAA,CAAN5I,MAAM;QACrBgP,YAAY,CAAClP,MAAK,EAAEE,OAAM,CAAC;;KAE9B,CAAC;IACF6Q,QAAQ,CAAC/H,OAAO,CAAChB,GAAG,CAACM,OAAO,CAAC;IAE7B,OAAO;MAAA,OAAMyI,QAAQ,CAAC9H,UAAU,EAAE;;GACnC,EAAE,CAACiG,YAAY,CAAC,CAAC;EAElB,OACE9T;IACEkS,EAAE,EAAC,SAAS;IACZtG,SAAS,EAAE0C,4BAAY,CAAC1C,SAAS,EAAEmJ,gBAAgB,CAAC;IACpDhH,KAAK,EAAA3H,QAAA,KACAwO,UAAU,CAAChQ,KAAK,EAAEE,MAAM,CAAC;MAC5B8Q,iBAAiB,EAAEN,YAAY,CAACL,KAAK,CAACY,IAAI,CAAC,GAAG,CAAC;MAC/C9E,mBAAmB,EAAEuE,YAAY,CAACJ,OAAO;MACzCY,gBAAgB,EAAER,YAAY,CAACH;MAChC;IACDvI,GAAG,EAAEA;KAEJ5M,cAAc,CAAC2S,GAAG,CAACO,QAAQ,EAAE,UAAC6C,KAAK,EAAElD,KAAK;IACzC,IAAI7S,oBAAoB,CAAC+V,KAAK,CAAC,EAAE;MAAA,IAAAC,qBAAA,EAAAC,mBAAA;MAC/B,IAAMC,YAAY,GAAGH,KAA2B;MAChD,OACE/V;QACEC,GAAG,EAAE4S,KAAK;QACV9E,KAAK,EAAE;UACLoI,QAAQ,GAAAH,qBAAA,IAAAC,mBAAA,GAAEC,YAAY,CAACjL,KAAK,qBAAlBgL,mBAAA,CAAoBG,IAAI,YAAAJ,qBAAA,aAAYnD;;SAG/CkD,KAAK,CACF;;IAGV,OAAOA,KAAK;GACb,CAAC,CACE;AAEV,CAAC;;IC1EYM,UAAU,GAAI,SAAdA,UAAUA,CAAKpL,KAAgD;EACxE,IAAQmL,IAAI,GAAenL,KAAK,CAAxBmL,IAAI;IAAElD,QAAQ,GAAKjI,KAAK,CAAlBiI,QAAQ;EACxB,OACElT,0CACIA;IAAK+N,KAAK,EAAE;MAACoI,QAAQ,EAAEC;;KAAUlD,QAAQ,CAAO,CACjD;AAEP,CAAC;;ACPM,IAAMoD,oBAAoB,gBAAGnF,0BAAU,CAAC;EAE7CoF,cAAc,eAAAnQ,QAAA;IACZmF,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,KAAK;IACpBC,cAAc,EAAE,YAAY;IAC5BC,UAAU,EAAE;kBACT8K,0BAAU,CAACnQ,GAAG,CAAC,KAAK,CAAC,CACzB;EACDoQ,UAAU,EAAE;IACV7R,KAAK,EAAE;GACR;EACDgO,IAAI,EAAE;IACJpO,WAAW,EAAE;;CAIhB,CAAC;;ACVK,IAAMkS,WAAW,GAA+C,SAA1DA,WAAWA,CAAgDzL,KAAiD;EACvH,IAAQ0L,KAAK,GAAuB1L,KAAK,CAAjC0L,KAAK;IAAEnE,IAAI,GAAiBvH,KAAK,CAA1BuH,IAAI;IAAEoE,UAAU,GAAK3L,KAAK,CAApB2L,UAAU;EAC/B,IAAMtR,MAAM,GAAGgR,oBAAoB,EAAE;EACrC,OACEtW,0CACEA;IAAK4L,SAAS,EAAEtG,MAAM,CAACiR;KACpB/D,IAAI,IAAIxS,oBAAoB,CAACwS,IAAI,CAAC,GACjCA,IAAI,GAEJxS,oBAAC6W,UAAI;IACHrE,IAAI,EAAEA,IAAc;IACpB5G,SAAS,EAAEtG,MAAM,CAACmR,UAAU;IAC5B7R,KAAK,EAAE,MAAM;IACbE,MAAM,EAAE,MAAM;IACdgS,KAAK,EAAE5S,sBAAM,CAAC6S;IAEjB,EACD/W,oBAACgX,wBAAQ;IAACjJ,KAAK,EAAE;MAAE+I,KAAK,EAAE5S,sBAAM,CAAC6S;;KAA0BJ,KAAK,CAAY,EAC5E3W,oBAACgX,wBAAQ;IAACjJ,KAAK,EAAE;MAAE+I,KAAK,EAAE5S,sBAAM,CAAC+S;;KAA+BL,UAAU,GAAG,IAAI,GAAG,EAAE,CAAY,CAC9F,CACL;AAEP,CAAC;;AC5BD,IAAMM,SAAS,gBAAG/F,0BAAU,CAAC;EAC3BgG,IAAI,EAAE;IACJ5L,OAAO,EAAE,MAAM;IACfE,cAAc,EAAE,QAAQ;IACxBC,UAAU,EAAE,QAAQ;IAEpB5G,MAAM,EAAE,MAAM;IACdF,KAAK,EAAE;GACR;EACDwS,OAAO,EAAE;IACPxS,KAAK,EAAE,OAAO;IACdE,MAAM,EAAE;;CAEX,CAAC;AAUF,IAAauS,aAAa,GAAiD,SAA9DA,aAAaA,CACxBpM,KAAmD;EAEnD,IAAQqM,IAAI,GAA6CrM,KAAK,CAAtDqM,IAAI;IAAEX,KAAK,GAAsC1L,KAAK,CAAhD0L,KAAK;IAAEY,aAAa,GAAuBtM,KAAK,CAAzCsM,aAAa;IAAExJ,KAAK,GAAgB9C,KAAK,CAA1B8C,KAAK;IAAEnC,SAAS,GAAKX,KAAK,CAAnBW,SAAS;EAEpD,IAAMtG,MAAM,GAAG4R,SAAS,EAAE;EAC1B,OACElX;IAAK4L,SAAS,EAAEtG,MAAM,CAAC6R;KACrBnX,oBAACwX,uBAAO;IACNzJ,KAAK,EAAEA,KAAK;IACZnC,SAAS,EAAE0C,4BAAY,CAAChJ,MAAM,CAAC8R,OAAO,EAAExL,SAAS,CAAC;IAClD0L,IAAI,EAAEA,IAAI;IACVX,KAAK,EAAEA,KAAK;IACZY,aAAa,EAAEA;IACf,CACE;AAEV,CAAC;;AChDD;AACA,IASaE,cAAc,GAAG,SAAjBA,cAAcA,CAAIxM,KAAkB;EAC/C,IAAQ3G,eAAe,GAAwB2G,KAAK,CAA5C3G,eAAe;IAAEC,iBAAiB,GAAK0G,KAAK,CAA3B1G,iBAAiB;EAC1C,IAAA2G,kBAAA,GAAuBpL,iBAAiB,EAAE;IAAlC6D,UAAU,GAAAuH,kBAAA,CAAVvH,UAAU;EAClB,IAAM+T,WAAW,GAAG1X,iBAAiB,CACnC,UAAC8C,cAAsB;IACrB,IAAI,CAACA,cAAc,EAAG,OAAO,EAAE;IAI/B,IAAIyB,iBAAiB,EAAE;MACrB,IAAMK,KAAK,GAAGjB,UAAU,CAAqBY,iBAA2B,EAAEzB,cAAc,EAAE,YAAY,CAAC;MACvG,OAAO;QACN8B,KAAK,EAAEA;OACP;;IAEH,IAAIN,eAAe,EAAE;MACnB,IAAMQ,MAAM,GAAGnB,UAAU,CAAmBW,eAAyB,EAAExB,cAAc,EAAE,UAAU,CAAC;MAClG,OAAO;QACLgC,MAAM,EAAEA;OACT;;IAEH,OAAO,EAAE;GACV,EACD,CAACnB,UAAU,EAAEY,iBAAiB,EAAED,eAAe,CAAC,CACjD;EAED,OAAO;IAAEoT,WAAW,EAAXA;GAAa;AACxB,CAAC;;IChCYC,KAAK,GAAG,SAARA,KAAKA,CAChB1M,KAA2C;EAI3C,IAAM2B,GAAG,GAAG5M,YAAY,CAAiB,IAAI,CAAC;EAC9C,IAAA6M,eAAA,GAA0B7M,cAAc,CAAC,CAAC,CAAC;IAApC4E,KAAK,GAAAiI,eAAA;IAAEC,QAAQ,GAAAD,eAAA;EAEtB,IAAA+K,eAAA,GAAuBH,cAAc,CAACxM,KAAK,CAAC;IAArCyM,WAAW,GAAAE,eAAA,CAAXF,WAAW;EAElB1X,eAAe,CAAC;IACd,IAAIiN,gBAA6B;IACjC,IAAIL,GAAG,CAACM,OAAO,EAAE;;MAEbD,gBAAc,GAAG,IAAKE,6BAAc,CAAC,UAACC,OAAO;QAC7C,SAAAC,SAAA,GAAAC,+BAAA,CAAoBF,OAAO,GAAAG,KAAA,IAAAA,KAAA,GAAAF,SAAA,IAAAG,IAAA,GAAE;UAAA,IAAlBC,KAAK,GAAAF,KAAA,CAAA9M,KAAA;UACd,IAAQmE,MAAK,GAAQ6I,KAAK,CAACE,WAAW,CAA9B/I,KAAK;UACbkI,QAAQ,CAAClI,MAAK,CAAC;;OAGlB,CAAC;MACFqI,gBAAc,CAACW,OAAO,CAAChB,GAAG,CAACM,OAAO,CAAC;;IAErC,OAAO;MACL,IAAID,gBAAc,EAAE;QAClBA,gBAAc,CAACY,UAAU,EAAE;;KAE9B;GACF,EAAE,EAAE,CAAC;EAGN,OACE7N,0CACCA;IAAMkS,EAAE,EAAC,QAAQ;IAAGnE,KAAK,EAAE2J,WAAW,CAAC9S,KAAK,CAAG;IAAEgI,GAAG,EAAEA;IAE/C,CACL;AAEP,CAAC;;ICpCYiL,cAAc,GAAG,SAAjBA,cAAcA,CAAI5M,KAAkB;EAC/C,IAAQhH,UAAU,GAA4EgH,KAAK,CAA3FhH,UAAU;IAAE6T,eAAe,GAA2D7M,KAAK,CAA/E6M,eAAe;IAAEC,aAAa,GAA4C9M,KAAK,CAA9D8M,aAAa;IAAEC,YAAY,GAA8B/M,KAAK,CAA/C+M,YAAY;IAAEvQ,IAAI,GAAwBwD,KAAK,CAAjCxD,IAAI;IAAEwQ,SAAS,GAAahN,KAAK,CAA3BgN,SAAS;IAAEC,MAAM,GAAKjN,KAAK,CAAhBiN,MAAM;EACzF,IAAAhN,kBAAA,GAA0BpL,iBAAiB,EAAE;IAArCqE,aAAa,GAAA+G,kBAAA,CAAb/G,aAAa;EAErB,IAAMgU,WAAW,GAAGnY,iBAAiB,CACnC,UAAC8C,cAAsB,EAAEsI,eAAuB;IAC9C,IAAMgN,UAAU,GAAIL,aAAa,IAAI,OAAO;IAC5C,IAAMM,YAAY,GAAGpU,UAAU,GAAG6T,eAAe,GAAG,OAAO;IAE3D,IAAMQ,SAAS,GAAoCrU,UAAU,GACzD;MAAEsU,QAAQ,EAAE9Q,IAAI,GAAG,UAAU,GAAG,YAAY;MAAE3C,MAAM,EAAE;KAAQ,GAC9D;MAAEA,MAAM,EAAE,MAAM;MAAEC,SAAS,EAAE;KAAQ;IAEzC,IAAMsG,UAAU,GAAGlH,aAAa,CAAC8G,KAAK,EAAEnI,cAAc,EAAEsI,eAAe,CAAC;IAExE,OAAAhF,QAAA;MACE6R,SAAS,EAAEA,SAAS;MACpBO,MAAM,EAAEN,MAAM;MACd3M,OAAO,EAAE,MAAM;MACfC,aAAa,EAAEvH,UAAU,GAAG,KAAK,GAAG,QAAQ;MAC5CyH,UAAU,EAAE0M,UAAU;MACtB3M,cAAc,EAAE4M;OACbC,SAAS;MACZxT,MAAM,EAAEkT,YAAY,GAAG,MAAM,GAAG3M,UAAU,CAACvG;OACxCuG,UAAU,EACVJ,KAAK,CAAC3F,MAAM;GAElB,EACD,CAACnB,aAAa,EAAEF,UAAU,EAAE6T,eAAe,EAAE7M,KAAK,EAAE8M,aAAa,EAAEC,YAAY,EAAEvQ,IAAI,CAAC,CACvF;EAED,OAAO;IAAE0Q,WAAW,EAAXA;GAAa;AACxB,CAAC;;ICjCYM,KAAK,GAAI,SAATA,KAAKA,CAChBxN,KAA2C;EAE3C,IAAQiI,QAAQ,GAAkBjI,KAAK,CAA/BiI,QAAQ;IAAEtH,SAAS,GAAOX,KAAK,CAArBW,SAAS;EAC3B,IAAA8M,eAAA,GAAwBb,cAAc,CAAC5M,KAAK,CAAC;IAArCkN,WAAW,GAAAO,eAAA,CAAXP,WAAW;EACnB,IAAMvL,GAAG,GAAG5M,YAAY,CAAiB,IAAI,CAAC;EAC9C,IAAA6M,eAAA,GAA0B7M,cAAc,CAAC,CAAC,CAAC;IAApC4E,KAAK,GAAAiI,eAAA;IAAEC,QAAQ,GAAAD,eAAA;EACtB,IAAAE,gBAAA,GAA4B/M,cAAc,CAAC,CAAC,CAAC;IAAtC8E,MAAM,GAAAiI,gBAAA;IAAEC,SAAS,GAAAD,gBAAA;EAGxB/M,eAAe,CAAC;IACd,IAAIiN,gBAA8B;IAClC,IAAIL,GAAG,CAACM,OAAO,EAAE;;MAEbD,gBAAc,GAAG,IAAIE,6BAAc,CAAC,UAACC,OAAO;QAC5C,SAAAC,SAAA,GAAAC,+BAAA,CAAoBF,OAAO,GAAAG,KAAA,IAAAA,KAAA,GAAAF,SAAA,IAAAG,IAAA,GAAE;UAAA,IAAlBC,KAAK,GAAAF,KAAA,CAAA9M,KAAA;UACd,IAAAiN,kBAAA,GAA0BD,KAAK,CAACE,WAAW;YAAnC/I,MAAK,GAAA8I,kBAAA,CAAL9I,KAAK;YAAEE,OAAM,GAAA4I,kBAAA,CAAN5I,MAAM;UACrBgI,QAAQ,CAAClI,MAAK,CAAC;UACfoI,SAAS,CAAClI,OAAM,CAAC;;OAEpB,CAAC;MACFmI,gBAAc,CAACW,OAAO,CAAChB,GAAG,CAACM,OAAO,CAAC;;IAErC,OAAO;MACL,IAAID,gBAAc,EAAE;QAClBA,gBAAc,CAACY,UAAU,EAAE;;KAE9B;GACF,EAAE,EAAE,CAAC;EACN,OACE7N,0CACEA;IAAK4L,SAAS,EAAEA,SAAS;IAAEmC,KAAK,EAAEoK,WAAW,CAACvT,KAAK,EAAEE,MAAM,CAAC;IAAE8H,GAAG,EAAEA;KAChEsG,QAAQ,CACL,CACL;AAEP,CAAC;;IC1BYyF,SAAS,GAAI,SAAbA,SAASA,CACpB1N,KAA+C;EAE/C,IAAQiI,QAAQ,GAAkEjI,KAAK,CAA/EiI,QAAQ;IAAE0F,IAAI,GAA4D3N,KAAK,CAArE2N,IAAI;IAAEC,aAAa,GAA6C5N,KAAK,CAA/D4N,aAAa;IAAEC,MAAM,GAAqC7N,KAAK,CAAhD6N,MAAM;IAAEC,KAAK,GAA8B9N,KAAK,CAAxC8N,KAAK;IAAEC,SAAS,GAAmB/N,KAAK,CAAjC+N,SAAS;IAAEhB,YAAY,GAAK/M,KAAK,CAAtB+M,YAAY;EAC7E,IAAA9M,kBAAA,GAA0BpL,iBAAiB,EAAE;IAArCqE,aAAa,GAAA+G,kBAAA,CAAb/G,aAAa;EACrB,IAAMyI,GAAG,GAAG5M,YAAY,CAAiB,IAAI,CAAC;EAC9C,IAAA6M,eAAA,GAA0B7M,cAAc,CAAC,CAAC,CAAC;IAApC4E,KAAK,GAAAiI,eAAA;IAAEC,QAAQ,GAAAD,eAAA;EACtB,IAAAE,gBAAA,GAA4B/M,cAAc,CAAC,CAAC,CAAC;IAAtC8E,MAAM,GAAAiI,gBAAA;IAAEC,SAAS,GAAAD,gBAAA;EAExB,IAAM1B,UAAU,GAAGlH,aAAa,CAAC8G,KAAK,EAAErG,KAAK,EAAEE,MAAM,CAAC;EAEtD9E,eAAe,CAAC;IACd,IAAIiN,gBAA8B;IAClC,IAAIL,GAAG,CAACM,OAAO,EAAE;;MAEfD,gBAAc,GAAG,IAAIE,6BAAc,CAAC,UAACC,OAAO;QAC1C,SAAAC,SAAA,GAAAC,+BAAA,CAAoBF,OAAO,GAAAG,KAAA,IAAAA,KAAA,GAAAF,SAAA,IAAAG,IAAA,GAAE;UAAA,IAAlBC,KAAK,GAAAF,KAAA,CAAA9M,KAAA;UACd,IAAAiN,kBAAA,GAA0BD,KAAK,CAACE,WAAW;YAAnC/I,MAAK,GAAA8I,kBAAA,CAAL9I,KAAK;YAAEE,OAAM,GAAA4I,kBAAA,CAAN5I,MAAM;UACrBgI,QAAQ,CAAClI,MAAK,CAAC;UACfoI,SAAS,CAAClI,OAAM,CAAC;;OAEpB,CAAC;MACFmI,gBAAc,CAACW,OAAO,CAAChB,GAAG,CAACM,OAAO,CAAC;;IAErC,OAAO;MACL,IAAID,gBAAc,EAAE;QAClBA,gBAAc,CAACY,UAAU,EAAE;;KAE9B;GACF,EAAE,EAAE,CAAC;EAEN,IAAMvI,MAAM,GAAAc,QAAA,KACPiF,UAAU;IACb2N,SAAS,EAAEA,SAAS;IACpBD,KAAK,EAAEA,KAAK;IACZjU,MAAM,EAAEkT,YAAY,GAAG,MAAM,GAAG,MAAM;IACtCiB,QAAQ,EAAEL,IAAI,GAAI,OAAOA,IAAI,KAAK,SAAS,GAAG,CAAC,GAAGA,IAAI,GAAIzZ,SAAS;IACnE+Z,UAAU,EAAEL,aAAa,IAAK,CAACD,IAAI,IAAI,CAACE,MAAO,GAAG,CAAC,GAAG,CAAC;IACvDlI,QAAQ,EAAE,CAAC;IACXuI,SAAS,EAAE,CAAC;IACZvU,KAAK,EAAE;IAER;EAED,OACE5E,0CACEA;IAAK4M,GAAG,EAAEA,GAAG;IAAEmB,KAAK,EAAEzI;KACnB4N,QAAQ,CACL,CACL;AAEP,CAAC;;ACnED;AACA,AA2BA;AACA,IAAMgE,WAAS,GAAG,SAAZA,SAASA;EACb,OAAO;IACLkC,SAAS,EAAE/I,OAAG,CAAC;MACb9E,OAAO,EAAE,MAAM;MACf8N,QAAQ,EAAE,QAAQ;MAClBzI,QAAQ,EAAE,CAAC;MACXtK,QAAQ,EAAE,QAAQ;MAClBD,GAAG,EAAE,EAAE;MACPlB,YAAY,EAAE,EAAE;MAChBP,KAAK,EAAE;KACR,CAAC;IACF0U,cAAc,EAAEjJ,OAAG,CAAC;MAClB9E,OAAO,EAAE,aAAa;MACtBgO,eAAe,EAAE,CAAC;MAClBC,eAAe,EAAE,UAAU;MAC3BlT,QAAQ,EAAE,QAAQ;MAClBgL,SAAS,EAAE,OAAO;MAClBD,YAAY,EAAE,UAAU;MACxBoI,SAAS,EAAE;KACZ,CAAC;IACFC,MAAM,EAAErJ,OAAG,CAAC;MACVsJ,MAAM,EAAE,SAAS;MACjB/I,QAAQ,EAAE;KACX;GACF;AACH,CAAC;AAiBD;AACA,IAAagJ,gBAAgB,GAAoD,SAApEA,gBAAgBA,CAAA5S,IAAA;MAC3BwK,KAAK,GAAAxK,IAAA,CAALwK,KAAK;IACLqI,cAAc,GAAA7S,IAAA,CAAd6S,cAAc;IACdC,cAAc,GAAA9S,IAAA,CAAd8S,cAAc;IACdC,aAAa,GAAA/S,IAAA,CAAb+S,aAAa;IACbC,KAAK,GAAAhT,IAAA,CAALgT,KAAK;EAEL,IAAM1U,MAAM,GAAG4R,WAAS,EAAE;EAC1B,IAAM+C,YAAY,GAAGja,iBAAiB,CACpC,UAACka,MAAc;IACb,IAAIJ,cAAc,EAAE;MAClBA,cAAc,CAACI,MAAM,CAAC;;GAEzB,EACD,CAACJ,cAAc,CAAC,CACjB;EAED,OACE9Z,oBAACma,wBAAQ,QACPna,oBAACoa,8BAAc;IAACJ,KAAK,EAAEA;KACpB,GAAG,EAEJha;IAAK4L,SAAS,EAAE0C,4BAAY,CAAChJ,MAAM,CAAC8T,SAAS;KAC1C5H,KAAK,CAACmB,GAAG,CAAC,UAACC,IAAI;IACd,IAAMyH,UAAU,GAAGzH,IAAI,CAACV,EAAE,KAAK2H,cAAc;IAC7C,OACE7Z,oBAACsa,4BAAY;MAACra,GAAG,EAAE2S,IAAI,CAACV,EAAE;MAAEA,EAAE,EAAEU,IAAI,CAACV,EAAE;MAAEqI,QAAQ,EAAEF,UAAU,GAAG,CAAC,GAAG;OACjEN,aAAa,CAACnH,IAAI,EAAEyH,UAAU,EAAE;MAAA,OAAMJ,YAAY,CAACrH,IAAI,CAACV,EAAE,CAAC;MAAC,CAChD;GAElB,CAAC,EACFlS,oBAACwa,YAAY;IAAChJ,KAAK,EAAEA,KAAK;IAAEsI,cAAc,EAAEG,YAAY;IAAED,KAAK,EAAEA;IAAS,MACtE,CACS,CACR;AAEf,CAAC;AAED;AACA,IAAMS,gBAAgB,GAA8F,SAA9GA,gBAAgBA,CAAA/R,KAAA;MACpBkK,IAAI,GAAAlK,KAAA,CAAJkK,IAAI;IACJkH,cAAc,GAAApR,KAAA,CAAdoR,cAAc;EAEd,IAAMY,SAAS,GAAGC,wCAAwB,CAAC/H,IAAI,CAACV,EAAE,CAAC;EACnD,IAAIwI,SAAS,EAAE;IACb,OAAO,IAAI;;EAGb,OACE1a,oBAAC4a,wBAAQ;IAAC3a,GAAG,EAAE2S,IAAI,CAACV,EAAE;IAAEM,IAAI,EAAEI,IAAI,CAACJ,IAAI;IAAEH,OAAO,EAAE,SAATA,OAAOA;MAAA,OAAQyH,cAAc,CAAClH,IAAI,CAACV,EAAE,CAAC;;KAC7ElS,iCAAM4S,IAAI,CAACiI,IAAI,CAAO,CACb;AAEf,CAAC;AAED,IAAML,YAAY,GAAgG,SAA5GA,YAAYA,CAAAM,KAAA;MAChBtJ,KAAK,GAAAsJ,KAAA,CAALtJ,KAAK;IACLsI,cAAc,GAAAgB,KAAA,CAAdhB,cAAc;IACdE,KAAK,GAAAc,KAAA,CAALd,KAAK;EAEL,IAAAe,gBAAA,GAA8CC,+BAAe,EAAqB;IAA1EpO,GAAG,GAAAmO,gBAAA,CAAHnO,GAAG;IAAEqO,aAAa,GAAAF,gBAAA,CAAbE,aAAa;IAAEC,aAAa,GAAAH,gBAAA,CAAbG,aAAa;EACzC,IAAMC,cAAc,GAAGnb,aAAa,CAAC;IAAA,OAAMob,qBAAU,CAACC,+BAAoB,EAAEC,gCAAqB,CAAC;KAAE,EAAE,CAAC;EAEvG,IAAI,CAACJ,aAAa,EAAE;IAClB,OAAO,IAAI;;EAGb,OACElb,oBAACub,gCAAgB;IAAC9a,KAAK,EAAC;KACtBT,oBAACoa,8BAAc;IAACJ,KAAK,EAAEA;KAErBha,oBAACwb,oBAAI,QACHxb,oBAACyb,2BAAW;IAACC,wBAAwB;KACnC1b,oBAAC2b,0BAAU;IACTpJ,UAAU,EAAC,aAAa;IACxB3F,GAAG,EAAEA,GAAG;IACR4F,IAAI,EAAExS,oBAACmb,cAAc,OAAG;kBACTF,aAAa,kBAAe;IAC3CW,IAAI,EAAC;IACL,CACU,EACd5b,oBAAC6b,2BAAW,QACV7b,oBAAC8b,wBAAQ,QACNtK,KAAK,CAACmB,GAAG,CAAC,UAACC,IAAI;IAAA,OACd5S,oBAACya,gBAAgB;MAACxa,GAAG,EAAE2S,IAAI,CAACV,EAAE;MAAEU,IAAI,EAAEA,IAAI;MAAEkH,cAAc,EAAEA;MAAkB;GAC/E,CAAC,CACO,CACC,CACT,CACQ,CACA;AAEvB,CAAC;;ACpKD;AACA,AASO,IAAMiC,eAAe,GAAa,SAA5BA,eAAeA;EAC1B,OACE/b,oBAACgc,wBAAQ,QACRhc,oBAACwU,IAAI;IAACP,IAAI,EAAE,CAAC;IAAElQ,OAAO,EAAE,GAAG;IAAEO,eAAe,EAAE,GAAG;IAAEC,iBAAiB,EAAE;KACnEvE,oBAACic,4BAAY;IAAC3E,IAAI,EAAE;IAAM,EAC1BtX,oBAACic,4BAAY;IAAC3E,IAAI,EAAE;IAAM,EAC1BtX,oBAACic,4BAAY;IAAC3E,IAAI,EAAE;IAAM,EAC1BtX,oBAACic,4BAAY;IAAC3E,IAAI,EAAE;IAAM,EAC1BtX,oBAACic,4BAAY;IAAC3E,IAAI,EAAE;IAAM,EAC1BtX,oBAACic,4BAAY;IAAC3E,IAAI,EAAE;IAAM,EAC1BtX,oBAACic,4BAAY;IAAC3E,IAAI,EAAE;IAAM,EAC1BtX,oBAACic,4BAAY;IAAC3E,IAAI,EAAE;IAAM,EAC1BtX,oBAACic,4BAAY;IAAC3E,IAAI,EAAE;IAAM,CACvB,CACI;AAEf,CAAC;;ICjBY4E,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAQjR,KAAwB;EAC5D,IAAQ3F,MAAM,GAAK2F,KAAK,CAAhB3F,MAAM;EACd,IAAA4F,kBAAA,GAA0BpL,iBAAiB,EAAE;IAArCqE,aAAa,GAAA+G,kBAAA,CAAb/G,aAAa;EAErB,IAAMgY,cAAc,GAAGnc,iBAAiB,CACtC,UAAC8C,cAAsB,EAAEsI,eAAuB;IAC9C,IAAMC,UAAU,GAAGlH,aAAa,CAAC8G,KAAK,EAAEnI,cAAc,EAAEsI,eAAe,CAAC;IACxE,OAAO;MACLgR,cAAc,EAAE/L,OAAG,CAAAjK,QAAA,KACdiF,UAAU,EACV/F,MAAM,CAEV,CAAC;MACF+W,YAAY,EAAEhM,OAAG,CAAC;QAChB,QAAQ,EAAE;UACRsJ,MAAM,EAAE;;OAEX;KACF;GACF,EACD,CAACxV,aAAa,EAAE8G,KAAK,EAAE3F,MAAM,CAAC,CAC/B;EAID,OAAO;IAAE6W,cAAc,EAAdA;GAAgB;AAC3B,CAAC;;ACVD;AACA,IAAaG,QAAQ,GAAG,SAAXA,QAAQA,CAAQrR,KAAwB;EACnD,IACEuG,KAAK,GAaHvG,KAAK,CAbPuG,KAAK;IACL0D,OAAO,GAYLjK,KAAK,CAZPiK,OAAO;IAAAqH,qBAAA,GAYLtR,KAAK,CAXPuR,oBAAoB;IAApBA,oBAAoB,GAAAD,qBAAA,cAAG,EAAE,GAAAA,qBAAA;IAAAE,oBAAA,GAWvBxR,KAAK,CAVPyR,aAAa;IAAbA,aAAa,GAAAD,oBAAA,cAAG,KAAK,GAAAA,oBAAA;IAAAE,oBAAA,GAUnB1R,KAAK,CATP2R,aAAa;IAAbA,aAAa,GAAAD,oBAAA,cAAG,MAAM,GAAAA,oBAAA;IACtBE,iBAAiB,GAQf5R,KAAK,CARP4R,iBAAiB;IACjBC,YAAY,GAOV7R,KAAK,CAPP6R,YAAY;IACZC,gBAAgB,GAMd9R,KAAK,CANP8R,gBAAgB;IAChBC,mBAAmB,GAKjB/R,KAAK,CALP+R,mBAAmB;IAAAC,qBAAA,GAKjBhS,KAAK,CAJPiS,cAAc;IAAdA,cAAc,GAAAD,qBAAA,cAAG,KAAK,GAAAA,qBAAA;IACtBE,cAAc,GAGZlS,KAAK,CAHPkS,cAAc;IACdC,aAAa,GAEXnS,KAAK,CAFPmS,aAAa;IACbC,oBAAoB,GAClBpS,KAAK,CADPoS,oBAAoB;EAGtB,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAI1K,IAAO;IAAA,OAAapB,KAAK,CAAC+L,SAAS,CAAC,UAACC,CAAC;MAAA,OAAKA,CAAC,KAAK5K,IAAI;MAAC;;EAC5E,IAAA6K,kBAAA,GAA2BvB,iBAAiB,CAAIjR,KAAK,CAAC;IAA9CkR,cAAc,GAAAsB,kBAAA,CAAdtB,cAAc;EAEtB,IAAAtP,eAAA,GAA0C7M,cAAc,CACtD,IAAI0d,GAAG,CAAClB,oBAAoB,CAAC7J,GAAG,CAAC,UAACC,IAAI;MAAA,OAAK0K,YAAY,CAAC1K,IAAI,CAAC;MAAC,CAAC,CAChE;IAFM+K,aAAa,GAAA9Q,eAAA;IAAE+Q,gBAAgB,GAAA/Q,eAAA;EAItC,IAAMD,GAAG,GAAG5M,YAAY,CAAiB,IAAI,CAAC;EAE9C,IAAA+M,gBAAA,GAA0B/M,cAAc,CAAC,CAAC,CAAC;IAApC4E,KAAK,GAAAmI,gBAAA;IAAED,QAAQ,GAAAC,gBAAA;EACtB,IAAA8Q,gBAAA,GAA4B7d,cAAc,CAAC,CAAC,CAAC;IAAtC8E,MAAM,GAAA+Y,gBAAA;IAAE7Q,SAAS,GAAA6Q,gBAAA;EAGxB7d,eAAe,CAAC;IACd,IAAIiN,gBAA8B;;IAGlC,IAAM6G,YAAY,GAAGV,eAAQ,CAAC,UAAChG,OAAc;MAC3C,SAAAC,SAAA,GAAAC,+BAAA,CAAoBF,OAAO,GAAAG,KAAA,IAAAA,KAAA,GAAAF,SAAA,IAAAG,IAAA,GAAE;QAAA,IAAlBC,KAAK,GAAAF,KAAA,CAAA9M,KAAA;QACd,IAAAiN,kBAAA,GAA0BD,KAAK,CAACE,WAAW;UAAnC/I,MAAK,GAAA8I,kBAAA,CAAL9I,KAAK;UAAEE,OAAM,GAAA4I,kBAAA,CAAN5I,MAAM;QACrBgI,QAAQ,CAAClI,MAAK,CAAC;QACfoI,SAAS,CAAClI,OAAM,CAAC;;KAEpB,EAAE,GAAG,CAAC,CAAC;IAER,IAAI8H,GAAG,CAACM,OAAO,EAAE;MACfD,gBAAc,GAAG,IAAIE,6BAAc,CAAC2G,YAAY,CAAC;MACjD7G,gBAAc,CAACW,OAAO,CAAChB,GAAG,CAACM,OAAO,CAAC;;IAGrC,OAAO;MACL,IAAID,gBAAc,EAAE;QAClBA,gBAAc,CAACY,UAAU,EAAE;;MAE7BiG,YAAY,CAACgK,MAAM,EAAE,CAAC;KACvB;GACF,EAAE,EAAE,CAAC;EAGN9d,eAAe,CAAC;IACd,IAAIwc,oBAAoB,CAAC5b,MAAM,GAAG,CAAC,EAAE;MACnCgd,gBAAgB,CAAC,IAAIF,GAAG,CAAClB,oBAAoB,CAAC7J,GAAG,CAAC,UAACC,IAAI;QAAA,OAAK0K,YAAY,CAAC1K,IAAI,CAAC;QAAC,CAAC,CAAC;;GAEpF,EAAE,CAAC4J,oBAAoB,EAAEhL,KAAK,CAAC,CAAC;;EAGjC,IAAMuM,YAAY,GAA+B7I,OAAO,CAACvC,GAAG,CAAC,UAACqL,SAAS;IAAA,OACrEC,iCAAiB,CAAI;MACnBC,QAAQ,EAAEF,SAAS,CAACG,MAAgB;MACpCC,gBAAgB,EAAE,SAAlBA,gBAAgBA;QAAA,OAAQpe,oBAACqe,2BAAW,QAAEL,SAAS,CAAC7P,MAAM,CAAe;;MACrEmQ,UAAU,EAAE,SAAZA,UAAUA,CAAG1L,IAAI;QAAA,IAAA2L,qBAAA;QAAA,OACfve,oBAACwe,+BAAe;UAACC,KAAK,EAAET,SAAS,CAACS,KAAK,GAAGT,SAAS,CAACS,KAAK,CAAC7L,IAAI,CAAC,GAAGzT;WAC/D6e,SAAS,CAACU,QAAQ,GAAGV,SAAS,CAACU,QAAQ,CAAC9L,IAAI,CAAC,GAAG+L,MAAM,EAAAJ,qBAAA,GAAC3L,IAAI,CAACoL,SAAS,oBAATA,SAAS,CAAEG,MAAM,CAAC,YAAAI,qBAAA,GAAI,EAAE,CAAC,CACtE;OACnB;MACDK,OAAO,EAAEZ,SAAS,CAACjF;KACpB,CAAC;IACH;;EAGD,IAAM8F,qBAAqB,GAAG,SAAxBA,qBAAqBA,CACzBC,EAAwE,EACxEvU,IAAwC;IAExC,IAAMwU,gBAAgB,GAAG,IAAIrB,GAAG,EAAU;IAC1CnT,IAAI,CAACoT,aAAa,CAACqB,OAAO,CAAC,UAAC9M,EAAE;MAC5B,IAAMW,KAAK,GAAG3P,MAAM,CAACgP,EAAE,CAAC;MACxB,IAAI,CAAC+M,KAAK,CAACpM,KAAK,CAAC,EAAE;QACjBkM,gBAAgB,CAACG,GAAG,CAACrM,KAAK,CAAC;;KAE9B,CAAC;IACF+K,gBAAgB,CAACmB,gBAAgB,CAAC;IAClC,IAAIlC,iBAAiB,EAAE;MACrB,IAAMsC,eAAe,GAAG1L,KAAK,CAAC2L,IAAI,CAACL,gBAAgB,CAAC,CAACpM,GAAG,CAAC,UAACE,KAAK;QAAA,OAAKrB,KAAK,CAACqB,KAAK,CAAC;QAAC;MACjFgK,iBAAiB,CAACsC,eAAe,CAAC;;GAErC;;EAGD,IAAME,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIP,EAA6B,EAAEQ,SAAqB;IAC5E,IAAIxC,YAAY,EAAE;MAChBA,YAAY,CAACwC,SAAS,CAAC;;GAE1B;EAED,IAAMC,UAAU,GAAGvf,iBAAiB,CAClC,UAACO,CAAwC,EAAEqS,IAAO;IAChDrS,CAAC,CAACif,eAAe,EAAE;IACnB,IAAI5C,aAAa,KAAK,KAAK,EAAE;MAC3B,IAAIC,iBAAiB,EAAE;QACrBA,iBAAiB,CAAC,CAACjK,IAAI,CAAC,CAAC;;;GAG9B,EACD,CAACgK,aAAa,EAAEC,iBAAiB,CAAC,CACnC;EAED,IAAMvX,MAAM,GAAGtF,aAAa,CAAC;IAAA,OAAMmc,cAAc,CAACvX,KAAK,EAAEE,MAAM,CAAC;KAAE,CAACF,KAAK,EAAEE,MAAM,CAAC,CAAC;EAElF,IAAM2a,kBAAkB,GAAGzf,aAAa,CAAC;IACvC,IAAI4c,aAAa,KAAK,KAAK,EAAE;MAC3B,OAAOtX,MAAM,CAAC+W,YAAY;;IAE5B,OAAO,EAAE;GACV,EAAE,CAACO,aAAa,EAAEtX,MAAM,CAAC+W,YAAY,CAAC,CAAC;EAExC,IAAMqD,kBAAkB,GAAG1f,iBAAiB,CAAC;IAC3C,OACEA,oBAAC2f,4BAAY,QACV,UAAA3Y,IAAA;MAAA,IAAG4L,IAAI,GAAA5L,IAAA,CAAJ4L,IAAI;QAAEgN,KAAK,GAAA5Y,IAAA,CAAL4Y,KAAK;MAAA,OACb5f,oBAAC6f,2BAAW;QACV5f,GAAG,EAAE2f,KAAK;QACVhU,SAAS,EAAE6T,kBAAkB;QAC7BpN,OAAO,EAAE,SAATA,OAAOA,CAAG9R,CAAwC;UAAA,OAAKgf,UAAU,CAAChf,CAAC,EAAEqS,IAAI,CAAC;;SAEzE,UAAAlK,KAAA;QAAA,IAAG4V,UAAU,GAAA5V,KAAA,CAAV4V,UAAU;QAAA,OACZte,oBAAC8f,4BAAY,QAAExB,UAAU,CAAC1L,IAAI,CAAC,CAAgB;OAChD,CACW;KACf,CACY;GAElB,EAAE,CAAC2M,UAAU,EAAEE,kBAAkB,CAAC,CAAC;EAEpC,IAAMM,OAAO,GAAG/f,aAAa,CAAC;IAAA,OAAMwR,KAAK,CAAC5Q,MAAM,IAAI,CAACwc,aAAa;KAAE,CAAC5L,KAAK,EAAE4L,aAAa,CAAC,CAAC;EAE3F,IAAM4C,iBAAiB,GAAGhgB,iBAAiB,CAAC;IAC1C,IAAIod,aAAa,EAAE;MACjB,OAAOpd,0CAAIqd,oBAAoB,WAApBA,oBAAoB,GAAKrd,oBAAC+b,eAAe,OAAG,CAAI;;IAE7D,IAAIgE,OAAO,EAAE;MACX,OAAO/f,oBAAC0f,kBAAkB,OAAG;KAC9B,MAAM,IAAI,CAACtC,aAAa,IAAI,CAAC5L,KAAK,CAAC5Q,MAAM,EAAE;MAC1C,OAAOZ,0CAAGmd,cAAc,CAAI;;IAE9B,OAAOnd,yCAAK;GACb,EAAE,CAAC+f,OAAO,EAAE3C,aAAa,EAAE5L,KAAK,EAAE2L,cAAc,CAAC,CAAC;EAEnD,OACEnd;IAAK4M,GAAG,EAAEA,GAAG;IAAEhB,SAAS,EAAEtG,MAAM,CAAC8W;KAC/Bpc,oBAACigB,wBAAW;IACVC,EAAE,EAAC,KAAK;IACR1O,KAAK,EAAEA,KAAK;IACZqL,iBAAiB,EACfgC,qBAGS;IAEXsB,QAAQ,EAAEzD,aAAa;IACvBxH,OAAO,EAAE6I,YAAY;IACrBnB,aAAa,EAAEA,aAAa,KAAK,MAAM,IAAIA,aAAa,KAAK,KAAK,GAAGzd,SAAS,GAAIyd,aAAqB;IACvGe,aAAa,EAAEA,aAAa;IAC5BZ,gBAAgB,EAAEA,gBAAgB;IAClCD,YAAY,EAAEuC,gBAAgB;IAC9BrC,mBAAmB,EAAEA,mBAAmB;IACxCoD,gBAAgB,EAAElD,cAAc;IAChCmD,uBAAuB,EAAE;MAAEC,cAAc,EAAE;;KAE3CtgB,oBAACugB,8BAAc,QACbvgB,oBAAC6f,2BAAW,QACT,UAAA/E,KAAA;IAAA,IAAGsD,gBAAgB,GAAAtD,KAAA,CAAhBsD,gBAAgB;IAAA,OAAOpe,oBAACwgB,kCAAkB,QAAEpC,gBAAgB,EAAE,CAAsB;IAC5E,CACC,EACjBpe,oBAACggB,iBAAiB,OAAG,CAET,CACV;AAEV,CAAC;;ICnMYS,aAAa,GAAkC,SAA/CA,aAAaA,CAAAzZ,IAAA;MACxB0Z,OAAO,GAAA1Z,IAAA,CAAP0Z,OAAO;IACPC,QAAQ,GAAA3Z,IAAA,CAAR2Z,QAAQ;IACRC,UAAU,GAAA5Z,IAAA,CAAV4Z,UAAU;IACVC,QAAQ,GAAA7Z,IAAA,CAAR6Z,QAAQ;IACRlK,KAAK,GAAA3P,IAAA,CAAL2P,KAAK;IACLmK,WAAW,GAAA9Z,IAAA,CAAX8Z,WAAW;IACX7W,OAAO,GAAAjD,IAAA,CAAPiD,OAAO;IACP8W,WAAW,GAAA/Z,IAAA,CAAX+Z,WAAW;IACXC,QAAQ,GAAAha,IAAA,CAARga,QAAQ;IACR1J,IAAI,GAAAtQ,IAAA,CAAJsQ,IAAI;IACJ2J,IAAI,GAAAja,IAAA,CAAJia,IAAI;EAEJ,IAAAvS,SAAA,GAA0CC,cAAQ,CAAS,EAAE,CAAC;IAAvDuS,aAAa,GAAAxS,SAAA;IAAEyS,gBAAgB,GAAAzS,SAAA;EACtC,IAAAI,UAAA,GAA0BH,cAAQ,CAAS,EAAE,CAAC;IAAvCzR,KAAK,GAAA4R,UAAA;IAAEsS,QAAQ,GAAAtS,UAAA;EAEtB,IAAM+P,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAIwC,MAA0C,EAAEC,MAAgB;IACzF,IAAM7gB,KAAK,GAAG,CAAA6gB,MAAM,oBAANA,MAAM,CAAE7gB,KAAK,KAAI,EAAE,CAAC;IAClC0gB,gBAAgB,CAAC1gB,KAAK,CAAC;;IAGvB,IAAM8gB,eAAe,GAAGV,QAAQ,GAAGA,QAAQ,CAACpgB,KAAK,CAAC,GAAG,EAAE;IACvD2gB,QAAQ,CAACG,eAAe,CAAC;;IAGzB,IAAI,CAACA,eAAe,IAAIZ,QAAQ,EAAE;MAChCA,QAAQ,CAAClgB,KAAK,CAAC;;GAElB;;EAGD,IAAM+gB,eAAe,GAAGxhB,aAAa,CAAC;IACpC,OAAO9C,KAAK,GAAG,OAAO,GAAG6jB,WAAW,KAAK,SAAS,GAAG,SAAS,GAAGA,WAAW,KAAK,MAAM,GAAG,SAAS,GAAG,MAAM;GAC7G,EAAE,CAAC7jB,KAAK,EAAE6jB,WAAW,CAAC,CAAC,CAAC;;EAGzB,IAAMU,iBAAiB,GAAGzhB,aAAa,CAAC;IAAA,OAAM9C,KAAK,IAAI+M,OAAO;KAAE,CAAC/M,KAAK,EAAE+M,OAAO,CAAC,CAAC,CAAC;EAElF,IAAMyX,iBAAiB,GAAG1hB,iBAAiB,CAAC;IAC1C,QAAQwhB,eAAe;MACrB,KAAK,OAAO;QACV,OAAOxhB,oBAAC2hB,8BAAmB,OAAG;MAChC,KAAK,SAAS;QACZ,OAAO3hB,oBAAC4hB,0BAAe,OAAG;MAC5B,KAAK,SAAS;QACZ,OAAO5hB,oBAAC6hB,kCAAuB,OAAG;MACpC;QACE,OAAO,IAAI;;GAEhB,EAAE,CAACL,eAAe,CAAC,CAAC;EAErB,OACExhB,oBAAC8hB,qBAAK;IACJnL,KAAK,EAAEA,KAAK;IACZqK,QAAQ,EAAEA,QAAQ;IAClBS,iBAAiB,EAAEA,iBAAiB;IACpCM,qBAAqB,EAAEL,iBAAiB,EAAE;IAC1CpK,IAAI,EAAEA,IAAI;IACV2J,IAAI,EAAEA,IAAI;IACVO,eAAe,EAAEA;KAEjBxhB,oBAACgiB,wBAAQ;IACPlB,WAAW,EAAEA,WAAW;IACxBH,QAAQ,EAAE9B,qBAAqB;IAC/Bpe,KAAK,EAAEygB;KAENR,OAAO,CAAC/N,GAAG,CAAC,UAAC2O,MAAM;IAAA,OAClBthB,oBAACiiB,sBAAM;MACLhiB,GAAG,EAAEqhB,MAAM,CAAC7gB,KAAK;MACjBA,KAAK,EAAE6gB,MAAM,CAAC7gB,KAAK;MACnB6R,QAAQ,EAAEgP,MAAM,CAAChP,QAAQ;MACzB4P,SAAS,EAAEZ,MAAM,CAACY,SAA+B;MACjDhC,EAAE,EAAEoB,MAAM,CAACpB,EAAE;MACbjY,IAAI,EAAEqZ,MAAM,CAACrZ,IAAI,IAAI;OAEpB2Y,UAAU,IAAIA,UAAU,CAACU,MAAM,CAAC,MAC1B;GACV,CAAC,CACO,CACL;AAEZ,CAAC;;AClGD;AACA,AAqBA,IAAM7G,kBAAgB,GAAG,SAAnBA,gBAAgBA,CAAAzT,IAAA;MAAMkL,EAAE,GAAAlL,IAAA,CAAFkL,EAAE;IAAEgB,QAAQ,GAAAlM,IAAA,CAARkM,QAAQ;EACtC,IAAMwH,SAAS,GAAGC,wCAAwB,CAACzI,EAAE,CAAC;EAE9C,IAAIwI,SAAS,EAAE;IACb,OAAO,IAAI;;EAGb,OAAO1a,oBAAC4a,wBAAQ,QAAE1H,QAAQ,CAAY;AACxC,CAAC;AAED,IAAaiP,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAAzZ,KAAA;MAC9B8I,KAAK,GAAA9I,KAAA,CAAL8I,KAAK;IACLoP,UAAU,GAAAlY,KAAA,CAAVkY,UAAU;IACVwB,YAAY,GAAA1Z,KAAA,CAAZ0Z,YAAY;EAEZ,IAAArH,gBAAA,GAA8CC,+BAAe,EAAqB;IAA1EpO,GAAG,GAAAmO,gBAAA,CAAHnO,GAAG;IAAEqO,aAAa,GAAAF,gBAAA,CAAbE,aAAa;IAAEC,aAAa,GAAAH,gBAAA,CAAbG,aAAa;EAEzC,IAAI,CAACA,aAAa,EAAE;IAClB,OAAO,IAAI;;EAGb,OACElb,oBAACwb,oBAAI,QACHxb,oBAACyb,2BAAW;IAACC,wBAAwB;KACnC1b,oBAAC2b,0BAAU;IAAC/O,GAAG,EAAEA;UAAOqO,aAAa,WAAoB,CAC7C,EACdjb,oBAAC6b,2BAAW,QACV7b,oBAAC8b,wBAAQ,QACNtK,KAAK,CAACmB,GAAG,CAAC,UAACC,IAAI;IAAA,OACd5S,oBAACya,kBAAgB;MAACxa,GAAG,EAAEmiB,YAAY,CAACxP,IAAI,CAAC;MAAEV,EAAE,EAAEkQ,YAAY,CAACxP,IAAI;OAC7DgO,UAAU,CAAChO,IAAI,CAAC,CACA;GACpB,CAAC,CACO,CACC,CACT;AAEX,CAAC;;ACjCD,IAAMyP,iBAAiB,GAAG,GAAG;AAE7B,IAAMC,kBAAkB,GAAG,GAAG;AAE9B,IAAMpL,WAAS,gBAAG/F,0BAAU,CAAC;EAC3BoR,MAAM,EAAE;IACN3d,KAAK,EAAE,MAAM;IACbE,MAAM,EAAE,MAAM;IACdwB,QAAQ,EAAE,QAAQ;IAClBvB,SAAS,EAAE,OAAO;IAClBhB,OAAO,EAAE;GACV;EACDye,UAAU,EAAE;IACV1d,MAAM,EAAE;;CAEX,CAAC;AAEF,IAAa2d,YAAY,GAAgD,SAA5DA,YAAYA,CACvBxX,KAAkD;EAElD,IAAQyX,MAAM,GAAgGzX,KAAK,CAA3GyX,MAAM;IAAEC,WAAW,GAAmF1X,KAAK,CAAnG0X,WAAW;IAAEC,aAAa,GAAoE3X,KAAK,CAAtF2X,aAAa;IAAE1P,QAAQ,GAA0DjI,KAAK,CAAvEiI,QAAQ;IAAErO,QAAQ,GAAgDoG,KAAK,CAA7DpG,QAAQ;IAAE+G,SAAS,GAAqCX,KAAK,CAAnDW,SAAS;IAAEuN,SAAS,GAA0BlO,KAAK,CAAxCkO,SAAS;IAAEvI,QAAQ,GAAgB3F,KAAK,CAA7B2F,QAAQ;IAAE7L,SAAS,GAAKkG,KAAK,CAAnBlG,SAAS;EACzG,IAAMO,MAAM,GAAG4R,WAAS,EAAE;EAC1B,IAAI,CAACwL,MAAM,EAAE,OAAO1iB,yCAAK;EACzB,OACEA,oBAAC6iB,sBAAM;IAACC,IAAI,EAAEJ,MAAM;IAAEK,SAAS,EAAC;KAC9B/iB,oBAACgjB,6BAAa;IACZpX,SAAS,EAAE0C,4BAAY,CAAChJ,MAAM,CAACid,MAAM,EAAE3W,SAAS,CAAC;IACjDmC,KAAK,EAAE;MACLlJ,QAAQ,EAAEA,QAAQ;MAClB+L,QAAQ,EAAEA,QAAQ,WAARA,QAAQ,GAAIyR,iBAAiB;MACvClJ,SAAS,EAAEA,SAAS,WAATA,SAAS,GAAImJ,kBAAkB;MAC1Cxd,MAAM,EAAE,aAAa;MACrBC,SAAS,EAAEA,SAAS,WAATA,SAAS,GAAI;;KAG1B/E,oBAACijB,2BAAW,QAAEN,WAAW,CAAe,EACxC3iB,oBAACkjB,0BAAU;IAACtX,SAAS,EAAEtG,MAAM,CAACkd;KAC5BxiB,oBAACmjB,6BAAa,QAAEjQ,QAAQ,CAAiB,CAC9B,EACblT,oBAACojB,6BAAa;IAACC,KAAK;IAACC,QAAQ,EAAC;KAC3BV,aAAa,CACA,CACF,CACT;AAEb,CAAC;;ICjEYW,qBAAqB,gBAAGpS,0BAAU,CAAC;EAC9CqS,WAAW,EAAE;IACXxe,UAAU,EAAE,MAAM;IAClBse,QAAQ,EAAE,UAAU;IACpBG,GAAG,EAAE,MAAM;IACXC,KAAK,EAAE,MAAM;IACbC,MAAM,EAAE;GACT;EAEDC,OAAO,EAAE;IACPhf,KAAK,EAAE,MAAM;IACbE,MAAM,EAAE,KAAK;IACb+e,eAAe,EAAE3f,sBAAM,CAAC4f,mBAAmB;IAC3C5e,SAAS,EAAE;GACZ;EAED6e,mBAAmB,EAAE;IACnBxY,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,QAAQ;IACvBC,cAAc,EAAE,YAAY;IAC5BC,UAAU,EAAE,SAAS;IAErB9G,KAAK,EAAE;GACR;EACDof,kBAAkB,eAAA5d,QAAA;IAGhBmF,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,QAAQ;IACvBC,cAAc,EAAE;kBACb+K,0BAAU,CAACzS,OAAO,CAAC,MAAM,CAAC;IAC7BsC,GAAG,EAAE;IACN;EACD4d,kBAAkB,eAAA7d,QAAA;IAChBmF,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,KAAK;IACpBC,cAAc,EAAE;kBACb+K,0BAAU,CAACzS,OAAO,CAAC,MAAM,CAAC;IAC7BsC,GAAG,EAAE;IACN;EACD6d,gBAAgB,eAAA9d,QAAA;IACdmF,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,QAAQ;IACvBC,cAAc,EAAE;kBACb+K,0BAAU,CAACzS,OAAO,CAAC,MAAM,CAAC;IAC7BsC,GAAG,EAAE;IACN;EACD8d,0BAA0B,EAAE;IAC1B5Y,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,KAAK;IACpBC,cAAc,EAAE,YAAY;IAC5BC,UAAU,EAAE;GACb;EACD0Y,iBAAiB,EAAE;IACjB7Y,OAAO,EAAE,aAAa;IACtB,oBAAoB,EAAE,GAAG;IACzB,oBAAoB,EAAE,UAAU;IAEhC+F,SAAS,EAAE,OAAO;IAClBD,YAAY,EAAE,UAAU;IACxBjM,UAAU,EAAE,MAAM;IAClBqU,SAAS,EAAE;GACZ;EACD4K,uBAAuB,EAAE;IACvB9Y,OAAO,EAAE,aAAa;IACtB,oBAAoB,EAAE,GAAG;IACzB,oBAAoB,EAAE,UAAU;IAEhC+F,SAAS,EAAE,OAAO;IAClBD,YAAY,EAAE,UAAU;IACxBoI,SAAS,EAAE;GACZ;EACD6K,kCAAkC,EAAE;IAClC/Y,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,QAAQ;IACvBC,cAAc,EAAE,OAAO;IACvBC,UAAU,EAAE,OAAO;IACnBlH,WAAW,EAAE,MAAM;IACnBC,YAAY,EAAE;;CAEjB,CAAC;;ICnEW8f,YAAY,GAAgD,SAA5DA,YAAYA,CACvBtZ,KAAkD;EAElD,IAAQuZ,SAAS,GAA+BvZ,KAAK,CAA7CuZ,SAAS;IAAE/S,KAAK,GAAwBxG,KAAK,CAAlCwG,KAAK;IAAErD,WAAW,GAAWnD,KAAK,CAA3BmD,WAAW;IAAEoE,IAAI,GAAKvH,KAAK,CAAduH,IAAI;EAC3C,IAAMlN,MAAM,GAAGie,qBAAqB,EAAE;EAEtC,OACEvjB,0CACEA;IAAK4L,SAAS,EAAEtG,MAAM,CAACye;KACrB/jB;IACE4L,SAAS,EAAEtG,MAAM,CAAC0e;KAClBhkB,oBAACoS,sBAAM;IACLG,UAAU,EAAC,QAAQ;IACnB3G,SAAS,EAAEtG,MAAM,CAACke,WAAW;IAC7BnR,OAAO,EAAE,SAATA,OAAOA,CAAGoS,EAAuC;MAC/CA,EAAE,CAACjF,eAAe,EAAE;MACpBiF,EAAE,CAACC,cAAc,EAAE;MACnBF,SAAS,CAAC,KAAK,CAAC;KAAC;IACnBhS,IAAI,EAAExS,oBAAC2kB,2BAAgB;IACvB,EAEF3kB;IAAK4L,SAAS,EAAEtG,MAAM,CAAC6e;KACpBnkB,oBAAoB,CAACwS,IAAI,CAAC,GAAGA,IAAI,GAAGxS,oBAAC6W,UAAI;IAACrE,IAAI,EAAEA;IAAkB,EACnExS;IAAK4L,SAAS,EAAEtG,MAAM,CAACgf;KACpBtkB,oBAAoB,CAACyR,KAAK,CAAC,GAC1BA,KAAK,GAELzR,oBAAC4kB,yBAAS;IAAChZ,SAAS,EAAEtG,MAAM,CAAC8e;KAAoB3S,KAAK,CACvD,EACAzR,oBAAoB,CAACoO,WAAW,CAAC,GAChCA,WAAW,GAEXpO,oBAACgX,wBAAQ;IAACpL,SAAS,EAAEtG,MAAM,CAAC+e;KAA0BjW,WAAW,CAClE,CACG,CACF,CACF,EACNpO;IAAK4L,SAAS,EAAEtG,MAAM,CAACse;IAAW,CAC9B,CACL;AAEP,CAAC;;IC9BYiB,WAAW,GAA+B,SAA1CA,WAAWA,CAAA7d,IAAA;MAAkC0b,MAAM,GAAA1b,IAAA,CAAN0b,MAAM;IAAEhC,OAAO,GAAA1Z,IAAA,CAAP0Z,OAAO;IAAEoE,OAAO,GAAA9d,IAAA,CAAP8d,OAAO;EAChF,IAAApW,SAAA,GAAkCC,cAAQ,CAAqBxP,SAAS,CAAC;IAAlE4lB,SAAS,GAAArW,SAAA;IAAEsW,YAAY,GAAAtW,SAAA;EAC9BzR,OAAO,CAACgoB,GAAG,CAACF,SAAS,CAAC;EACtB,IAAMG,SAAS,GAAGC,YAAM,CAAoB,IAAI,CAAC;EACjD,IAAArW,UAAA,GAAwCH,cAAQ,CAAS,GAAG,CAAC;IAAtDyW,YAAY,GAAAtW,UAAA;IAAEuW,eAAe,GAAAvW,UAAA;EAEpC,IAAQwW,OAAO,GAA2B5E,OAAO,CAAzC4E,OAAO;IAAEC,MAAM,GAAmB7E,OAAO,CAAhC6E,MAAM;IAAErL,MAAM,GAAWwG,OAAO,CAAxBxG,MAAM;IAAEW,IAAI,GAAK6F,OAAO,CAAhB7F,IAAI;EAErC,IAAM2K,WAAW,GAAGze,iBAAW,CAAC;IAC9B+d,OAAO,EAAE;GACV,EAAE,CAACA,OAAO,CAAC,CAAC;EAEb,IAAMW,mBAAmB,GAAG1e,iBAAW,CACrC,UAAC2e,KAAmB;IAClB,IAAIA,KAAK,CAACC,MAAM,KAAKnkB,MAAM,CAACC,QAAQ,CAACkkB,MAAM,EAAE;IAE7C1oB,OAAO,CAACgoB,GAAG,CAAC,sBAAsB,EAAES,KAAK,CAACnb,IAAI,CAAC;IAC/C,IAAAqb,WAAA,GAAyBC,IAAI,CAACC,KAAK,CAACJ,KAAK,CAACnb,IAAI,CAAe;MAArDsQ,IAAI,GAAA+K,WAAA,CAAJ/K,IAAI;MAAE/V,MAAM,GAAA8gB,WAAA,CAAN9gB,MAAM;IACpB,QAAQ+V,IAAI;MACV,KAAK,eAAe;QAClB2K,WAAW,EAAE;QACb;MACF,KAAK,cAAc;QACjBH,eAAe,CAACvgB,MAAM,CAAC;QACvB;;GAUL,EACD,CAAC0gB,WAAW,CAAC,CACd;EAEDhW,eAAS,CAAC;IACRhO,MAAM,CAAC+H,gBAAgB,CAAC,SAAS,EAAEkc,mBAAmB,CAAC;IACvD,OAAO;MACLjkB,MAAM,CAACukB,mBAAmB,CAAC,SAAS,EAAEN,mBAAmB,CAAC;KAC3D;GACF,EAAE,CAACA,mBAAmB,CAAC,CAAC;EAEzBjW,eAAS,CAAC;IACR,IAAIkT,MAAM,EAAE;MACV,IAAMsD,QAAQ,GAAG,YAAY;MAC7B,IAAMC,SAAS,GAAG,CAAC;MACnB,IAAMC,WAAW,GAAG,EAAE;MACtB,IAAMC,SAAS,GAAG,IAAIjnB,IAAI,EAAE,CAACknB,OAAO,EAAE;MACtC,IAAMC,cAAc,GAAG,KAAK;MAC5B,IAAMV,MAAM,GAAGxjB,kBAAkB,CAACX,MAAM,CAACC,QAAQ,CAACkkB,MAAM,CAAC;MACzD,IAAMW,UAAU,GAAGnkB,kBAAkB,CAAC0Y,IAAc,CAAC;MAErD,IAAMza,GAAG,GACJklB,OAAO,mDACCC,MAAM,CAAE,qBACJrL,MAAM,CAAE,mBACV8L,QAAQ,CAAE,oBACTC,SAAS,CAAE,sBACTC,WAAW,CAAE,oBACfC,SAAS,CAAE,UAClB,yBACYE,cAAc,CAAE,oBACrBC,UAAU,CAAE,gBACb,iBACFX,MAAM,CAAE;MACnB1oB,OAAO,CAACgoB,GAAG,CAAC7kB,GAAG,CAAC;MAClB4kB,YAAY,CAAC5kB,GAAG,CAAC;KAClB,MAAM;MACL4kB,YAAY,CAAC7lB,SAAS,CAAC;;GAE1B,EAAE,CAACujB,MAAM,EAAE4C,OAAO,EAAEC,MAAM,EAAErL,MAAM,CAAC,CAAC;EAErC,OACEla,oBAACyiB,YAAY;IAACC,MAAM,EAAEA,MAAM;IAAE8B,SAAS,EAAEgB,WAAW;IAAEzgB,SAAS,EAAE;KAE/D/E;IACE4M,GAAG,EAAEsY,SAAS;IACdhb,GAAG,EAAE6a,SAAS,IAAI,EAAE;IACpBhX,KAAK,EAAE;MAAEnJ,KAAK,EAAE,MAAM;MAAEE,MAAM,EAAEsgB,YAAY;MAAEmB,MAAM,EAAE;KAAQ;IAC9DC,MAAM,EAAE,SAARA,MAAMA;MAAA,OAAQvpB,OAAO,CAACgoB,GAAG,CAAC,eAAe,CAAC;;IAC1C,CACW;AAEnB,CAAC;;IC7GYwB,oBAAoB,gBAAGtV,0BAAU,CAAC;EAC7CgG,IAAI,eAAA/Q,QAAA;IACFmF,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,KAAK;IACpBC,cAAc,EAAE,QAAQ;IACxBC,UAAU,EAAE;kBACT8K,0BAAU,CAACzS,OAAO,CAAC,MAAM,CAAC;IAC7BsC,GAAG,EAAE;IACC;EACRqgB,SAAS,EAAE;IACT9hB,KAAK,EAAE,MAAM;IACbE,MAAM,EAAE;GACF;EACR6hB,cAAc,eAAAvgB,QAAA;IACZmF,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,KAAK;IACpBC,cAAc,EAAE,OAAO;IACvBC,UAAU,EAAE,QAAQ;IACrBrF,GAAG,EAAE;kBACDmQ,0BAAU,CAACzS,OAAO,CAAC,MAAM,CAAC;IAC7B8f,eAAe,EAAE3f,sBAAM,CAAC0iB;IAClB;EACRC,SAAS,EAAE;IACT/hB,MAAM,EAAE;;CAEX,CAAC;;ICfWgiB,WAAW,GAA+C,SAA1DA,WAAWA,CACtB7b,KAAiD;EAEjD,IAAQ8V,WAAW,GAAwB9V,KAAK,CAAxC8V,WAAW;IAAE7N,QAAQ,GAAcjI,KAAK,CAA3BiI,QAAQ;IAAEjJ,OAAO,GAAKgB,KAAK,CAAjBhB,OAAO;EACtC,IAAM3E,MAAM,GAAGmhB,oBAAoB,EAAE;EACrC,IAAA5Z,eAAA,GAAkD7M,cAAc,CAAqB,IAAI,CAAC;IAAnF+mB,iBAAiB,GAAAla,eAAA;IAAEma,oBAAoB,GAAAna,eAAA;EAE9C,IAAMoa,WAAW,GAAGjnB,iBAAiB,CAAC;IACpC,OACEA,0CACEA;MAAK4L,SAAS,EAAEtG,MAAM,CAACqhB;OACrB3mB;MAAK4L,SAAS,EAAEtG,MAAM,CAACuhB;OACrB7mB,oBAAC6W,UAAI;MACHrE,IAAI,EAAC,gCAAgC;MACrC5N,KAAK,EAAC,IAAI;MACVE,MAAM,EAAC,IAAI;MACXgS,KAAK,EAAE5S,sBAAM,CAACgjB;MACd,CACE,EACNlnB,oBAACmnB,qBAAK,QAAEld,OAAO,CAAS,CACpB,CACL;GAEN,EAAE,CAACA,OAAO,EAAE3E,MAAM,CAACqhB,cAAc,EAAErhB,MAAM,CAACuhB,SAAS,CAAC,CAAC;EAEtD7mB,eAAe,CAAC;IACd,QAAQ+gB,WAAW;MACjB,KAAKlhB,YAAY,CAACunB,OAAO;QACvBJ,oBAAoB,CAClBhnB,oBAACqnB,mCAAwB;UAACC,WAAW,EAAEpjB,sBAAM,CAACqjB;UAAiC,CAChF;QACD;MACF,KAAK1nB,YAAY,CAAC2nB,IAAI;QACpBR,oBAAoB,CAAChnB,oBAACynB,wBAAa;UAACH,WAAW,EAAEpjB,sBAAM,CAACwjB;UAAiC,CAAC;QAC1F;;GAIL,EAAE,CAAC3G,WAAW,CAAC,CAAC;EAEjB,IAAIA,WAAW,KAAKlhB,YAAY,CAAC8nB,KAAK,EAAE;IACtC,OAAO3nB,oBAACinB,WAAW,OAAG;;EAGxB,OACEjnB,0CACEA;IAAK4L,SAAS,EAAEtG,MAAM,CAAC6R;KACpB4P,iBAAiB,EAClB/mB,oBAACqe,2BAAW,QAAEpU,OAAO,CAAe,EACnCiJ,QAAQ,CACL,CACL;AAEP,CAAC;;AClEM,IAAM0U,kBAAkB,GAAG,SAArBA,kBAAkBA;EAC7B,IAAMtiB,MAAM,GAAG;IACb8T,SAAS,EAAE/I,OAAG,CAAC;MACb9E,OAAO,EAAE,MAAM;MACfG,UAAU,EAAE,QAAQ;MACpBmc,YAAY,EAAE,QAAQ;MACtBvhB,QAAQ,EAAE,QAAQ;MAClBwhB,UAAU,EAAE,QAAQ;MACpB/jB,OAAO,EAAE,KAAK;MACd8f,eAAe,EAAE;KAClB,CAAC;IACFkE,cAAc,EAAE1X,OAAG,CAAC;MAClBO,QAAQ,EAAE,aAAa;MACvB7M,OAAO,EAAE,CAAC;MACVsB,MAAM,EAAE;KACT,CAAC;IACF2iB,SAAS,EAAE3X,OAAG,CAAC;MACbpL,WAAW,EAAE;KACd;GACF;EACD,IAAMgjB,SAAS,GAAG,SAAZA,SAASA,CACbhd,KAAsB,EACtBqM,IAA8C;IAE9C,IAAQ9E,IAAI,GAAKvH,KAAK,CAAduH,IAAI;IACZ,QAAQ8E,IAAI;MACV,KAAK,OAAO;QACV,OAAOjH,OAAG,CAAC;UACT6X,QAAQ,EAAE,MAAM;UAChBnkB,OAAO,EAAE,KAAK;UACdS,WAAW,EAAEgO,IAAI,GAAG,KAAK,GAAG;SAC7B,CAAC;MACJ,KAAK,QAAQ;QACX,OAAOnC,OAAG,CAAC;UACT6X,QAAQ,EAAE,MAAM;UAChBnkB,OAAO,EAAE,KAAK;UACdS,WAAW,EAAEgO,IAAI,GAAG,KAAK,GAAG;SAC7B,CAAC;MACJ,KAAK,OAAO;QACV,OAAOnC,OAAG,CAAC;UACT6X,QAAQ,EAAE,MAAM;UAChBnkB,OAAO,EAAE,KAAK;UACdS,WAAW,EAAEgO,IAAI,GAAG,KAAK,GAAG;SAC7B,CAAC;MACJ,KAAK,SAAS;QACZ,OAAOnC,OAAG,CAAC;UACT8X,UAAU,EAAEjkB,sBAAM,CAACkkB,cAAc;UACjCzO,MAAM,EAAE,SAAS;UACjBpO,OAAO,EAAE,aAAa;UACtB,oBAAoB,EAAE,GAAG;UACzB,oBAAoB,EAAE,UAAU;UAChCjF,QAAQ,EAAE,QAAQ;UAClBgL,SAAS,EAAE,OAAO;UAClBD,YAAY,EAAE,UAAU;UACxBoI,SAAS,EAAE,YAAY;UACvB4O,UAAU,EAAEnkB,sBAAM,CAACokB;SACpB,CAAC;MAEJ;QACE,OAAOjY,OAAG,CAAC;UACT6X,QAAQ,EAAE,MAAM;UAChBnkB,OAAO,EAAE,KAAK;UACdS,WAAW,EAAEgO,IAAI,GAAG,KAAK,GAAG;SAC7B,CAAC;;GAEP;EACD,OAAO;IAAElN,MAAM,EAANA,MAAM;IAAE2iB,SAAS,EAATA;GAAW;AAC9B,CAAC;;ACnDQ,IAAMzN,cAAY,GAAgC,SAA5CA,YAAYA,CAAAxT,IAAA;MAAmCwK,KAAK,GAAAxK,IAAA,CAALwK,KAAK;IAAEwI,KAAK,GAAAhT,IAAA,CAALgT,KAAK;IAAAuO,SAAA,GAAAvhB,IAAA,CAAGsQ,IAAI;IAAJA,IAAI,GAAAiR,SAAA,cAAC,QAAQ,GAAAA,SAAA;EACtF,IAAA7Z,SAAA,GAAwCC,cAAQ,CAAC,KAAK,CAAC;IAAhD6Z,YAAY,GAAA9Z,SAAA;IAAE+Z,eAAe,GAAA/Z,SAAA;EACpC,IAAMga,SAAS,GAAGvD,YAAM,CAAoB,IAAI,CAAC;EACjD,IAAMwD,WAAW,GAAGxD,YAAM,CAAiB,IAAI,CAAC;EAChD,IAAArW,UAAA,GAA4CH,cAAQ,CAAsB;MACxE8U,GAAG,EAAE,CAAC;MACNmF,IAAI,EAAE,CAAC;MACPtF,QAAQ,EAAE;KACX,CAAC;IAJKuF,cAAc,GAAA/Z,UAAA;IAAEga,iBAAiB,GAAAha,UAAA;EAMxC,IAAAia,mBAAA,GAAqBnB,kBAAkB,EAAE;IAAjCK,SAAS,GAAAc,mBAAA,CAATd,SAAS;EAEjB,IAAMe,iBAAiB,GAAG,SAApBA,iBAAiBA;IACrB,IAAIN,SAAS,CAACxb,OAAO,EAAE;MAAA,IAAA+b,oBAAA,EAAAC,qBAAA;MACrB,IAAMC,UAAU,GAAGT,SAAS,CAACxb,OAAO,CAACkc,qBAAqB,EAAE;MAC5D,IAAMC,aAAa,GAAG7nB,MAAM,CAAC8nB,UAAU;MACvC,IAAMC,cAAc,GAAG/nB,MAAM,CAACgoB,WAAW;MAEzC,IAAMC,aAAa,GAAG,EAAAR,oBAAA,GAAAN,WAAW,CAACzb,OAAO,qBAAnB+b,oBAAA,CAAqBS,WAAW,KAAI,GAAG,CAAC;MAC9D,IAAMC,cAAc,GAAG,EAAAT,qBAAA,GAAAP,WAAW,CAACzb,OAAO,qBAAnBgc,qBAAA,CAAqBU,YAAY,KAAI,GAAG,CAAC;MAEhE,IAAInG,GAAG,GAAG0F,UAAU,CAACU,MAAM,GAAGroB,MAAM,CAACsoB,OAAO;MAC5C,IAAIlB,IAAI,GAAGO,UAAU,CAACP,IAAI,GAAGpnB,MAAM,CAACuoB,OAAO;;MAG3C,IAAInB,IAAI,GAAGa,aAAa,GAAGJ,aAAa,EAAE;QACxCT,IAAI,GAAGS,aAAa,GAAGI,aAAa,GAAG,EAAE,CAAC;;;MAI5C,IAAIhG,GAAG,GAAGkG,cAAc,GAAGJ,cAAc,EAAE;QACzC9F,GAAG,GAAG0F,UAAU,CAAC1F,GAAG,GAAGjiB,MAAM,CAACsoB,OAAO,GAAGH,cAAc,CAAC;;MAGzDb,iBAAiB,CAAC;QAChBrF,GAAG,EAAHA,GAAG;QACHmF,IAAI,EAAJA,IAAI;QACJtF,QAAQ,EAAE;OACX,CAAC;MAEFmF,eAAe,CAAC,UAAC7gB,IAAI;QAAA,OAAK,CAACA,IAAI;QAAC;;GAEnC;EAED4H,eAAS,CAAC;IACR,IAAMwa,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAItE,KAAiB;;MAC3C,IACE,GAAAuE,kBAAA,GAACvB,SAAS,CAACxb,OAAO,aAAjB+c,kBAAA,CAAmBC,QAAQ,CAACxE,KAAK,CAACyE,MAAc,CAAC,KAClD,GAAAC,qBAAA,GAACzB,WAAW,CAACzb,OAAO,aAAnBkd,qBAAA,CAAqBF,QAAQ,CAACxE,KAAK,CAACyE,MAAc,CAAC,KACpD3B,YAAY,EACZ;QACAC,eAAe,CAAC,KAAK,CAAC;;KAEzB;IAEDhf,QAAQ,CAACF,gBAAgB,CAAC,WAAW,EAAEygB,kBAAkB,CAAC;IAC1D,OAAO;MACLvgB,QAAQ,CAACsc,mBAAmB,CAAC,WAAW,EAAEiE,kBAAkB,CAAC;KAC9D;GACF,EAAE,CAACxB,YAAY,CAAC,CAAC;EAElB,OACExoB,4DACEA,6BAACoS,sBAAM;IACLxF,GAAG,EAAE8b,SAAS;IACdlW,IAAI,EAAExS,6BAACsb,gCAAqB,OAAG;IAC/B/I,UAAU,EAAC,aAAa;IACxBF,OAAO,EAAE2W;IACT,EACDR,YAAY,IACX6B,qBAAY,CACVrqB,6BAACoa,8BAAc;IAACJ,KAAK,EAAEA;KACrBha,6BAAC2L,oBAAI;IACHiB,GAAG,EAAE+b,WAAW;IAChB5a,KAAK,EAAA3H,QAAA,KACAyiB,cAAc;MACjBlF,MAAM,EAAE,IAAI;MACZ5f,OAAO,EAAE,KAAK;MACd6M,QAAQ,EAAE;;KAGXY,KAAK,CAACmB,GAAG,CAAC,UAACC,IAAI,EAAEC,KAAK;IAAA,OACrB7S,6BAACoS,sBAAM;MACPI,IAAI,EAAEI,IAAI,CAACJ,IAAI,GAAGI,IAAI,CAACJ,IAAI,GAAG,IAAI;MAChCvS,GAAG,gBAAc4S,KAAO;MACxBN,UAAU,EAAC,aAAa;MACxBF,OAAO,EAAE,SAATA,OAAOA;QACLO,IAAI,CAACP,OAAO,YAAZO,IAAI,CAACP,OAAO,EAAI;QAChBoW,eAAe,CAAC,KAAK,CAAC;;OAGzBzoB,6BAACsqB,oBAAI;MAAC1e,SAAS,EAAEqc,SAAS,CAACrV,IAAI,EAAE0E,IAAI;OAAI1E,IAAI,CAAC+D,KAAK,CAAQ,CACnD;GACV,CAAC,CACG,CACQ,EACjBlN,QAAQ,CAAC8gB,IAAI;GACd,CACF;AAEP,CAAC;;ACzGH;AACE,IAAMnX,QAAQ,GAAG,SAAXA,QAAQA,CAAIC,IAA8B,EAAEC,KAAa;EAC7D,IAAIC,OAAuB;EAC3B,OAAO;sCAAIC,IAAW,OAAAC,KAAA,CAAAC,IAAA,GAAAC,IAAA,MAAAA,IAAA,GAAAD,IAAA,EAAAC,IAAA;MAAXH,IAAW,CAAAG,IAAA,IAAAnL,SAAA,CAAAmL,IAAA;;IACpBC,YAAY,CAACL,OAAO,CAAC;IACrBA,OAAO,GAAGM,UAAU,CAAC;MAAA,OAAMR,IAAI,CAAA9K,KAAA,SAAIiL,IAAI,CAAC;OAAEF,KAAK,CAAC;GACjD;AACH,CAAC;AAED,IAAakX,UAAU,GAA+B,SAAzCA,UAAUA,CAAAxjB,IAAA;MACrBwK,KAAK,GAAAxK,IAAA,CAALwK,KAAK;IAAAiZ,aAAA,GAAAzjB,IAAA,CACLnC,QAAQ;IAARA,QAAQ,GAAA4lB,aAAA,cAAG,MAAM,GAAAA,aAAA;IACTC,YAAY,GAAA1jB,IAAA,CAApB1B,MAAM;IACN0U,KAAK,GAAAhT,IAAA,CAALgT,KAAK;IAAAuO,SAAA,GAAAvhB,IAAA,CACLsQ,IAAI;IAAJA,IAAI,GAAAiR,SAAA,cAAG,QAAQ,GAAAA,SAAA;IAAAoC,iBAAA,GAAA3jB,IAAA,CACf4jB,YAAY;IAAZA,YAAY,GAAAD,iBAAA,cAAGnZ,KAAK,CAAC5Q,MAAM,GAAG,CAAC,GAAA+pB,iBAAA;IAC/B/e,SAAS,GAAA5E,IAAA,CAAT4E,SAAS;EAET,IAAAmd,mBAAA,GAA8BnB,kBAAkB,EAAE;IAA1CtiB,MAAM,GAAAyjB,mBAAA,CAANzjB,MAAM;IAAE2iB,SAAS,GAAAc,mBAAA,CAATd,SAAS;EACzB,IAAM4C,YAAY,GAAG1F,YAAM,CAAiB,IAAI,CAAC;EACjD,IAAAzW,SAAA,GAAwCC,cAAQ,CAAoB,EAAE,CAAC;IAAhEmc,YAAY,GAAApc,SAAA;IAAEqc,eAAe,GAAArc,SAAA;EACpC,IAAAI,UAAA,GAA0CH,cAAQ,CAAoB,EAAE,CAAC;IAAlEqc,aAAa,GAAAlc,UAAA;IAAEmc,gBAAgB,GAAAnc,UAAA;EAEtCU,eAAS,CAAC;IACR,IAAM0b,kBAAkB,GAAG,SAArBA,kBAAkBA;MACtB,IAAI,CAACL,YAAY,CAAC3d,OAAO,EAAE;MAE3B,IAAMpK,cAAc,GAAG+nB,YAAY,CAAC3d,OAAO,CAACwc,WAAW;MACvD,IAAIyB,YAAY,GAAG,CAAC;MACpB,IAAMC,OAAO,GAAsB,EAAE;MACrC,IAAM9kB,QAAQ,GAAsB,EAAE;MAEtCkL,KAAK,CAACwN,OAAO,CAAC,UAAApM,IAAI;QAChB,IAAMyY,cAAc,GAAG,EAAE,CAAC;QAC1B,IAAIF,YAAY,GAAGE,cAAc,IAAIvoB,cAAc,GAAG,EAAE,EAAE;UACxDsoB,OAAO,CAACE,IAAI,CAAC1Y,IAAI,CAAC;UAClBuY,YAAY,IAAIE,cAAc;SAC/B,MAAM;UACL/kB,QAAQ,CAACglB,IAAI,CAAC1Y,IAAI,CAAC;;OAEtB,CAAC;MAEFmY,eAAe,CAACK,OAAO,CAAC;MACxBH,gBAAgB,CAAC3kB,QAAQ,CAAC;KAC3B;IAED,IAAMwN,YAAY,GAAGV,QAAQ,CAAC8X,kBAAkB,EAAE,GAAG,CAAC;;IAGtD,IAAMje,gBAAc,GAAG,IAAIE,6BAAc,CAAC;MACxC2G,YAAY,EAAE;KACf,CAAC;IAEF,IAAI+W,YAAY,CAAC3d,OAAO,EAAE;MACxBD,gBAAc,CAACW,OAAO,CAACid,YAAY,CAAC3d,OAAO,CAAC;;;IAI9Cge,kBAAkB,EAAE;;IAGpB,OAAO;MACLje,gBAAc,CAACY,UAAU,EAAE;KAC5B;GACF,EAAE,CAAC2D,KAAK,CAAC,CAAC;EAEX,OAEIxR;IACE4M,GAAG,EAAEie,YAAY;IACjBjf,SAAS,EAAE0C,4BAAY,CAAChJ,MAAM,CAAC8T,SAAS,EAAExN,SAAS,CAAC;IACpDmC,KAAK,EAAA3H,QAAA;MAAIvB,QAAQ,EAARA;OAAa6lB,YAAY;KAElC1qB,6BAACyY,KAAK;IAACxU,UAAU;IAAC8T,aAAa,EAAC,QAAQ;IAACD,eAAe,EAAC;KACtDgT,YAAY,CAACnY,GAAG,CAAC,UAACC,IAAI,EAAEC,KAAK;IAC5B,OACE7S,4DACG6S,KAAK,KAAK+X,YAAY,GAC5B5qB,6BAACyY,KAAK;MACNxU,UAAU;MACV8T,aAAa,EAAC,QAAQ;MACtBD,eAAe,EAAC,OAAO;MACvBG,SAAS,EAAE,CAAC;MACZ3S,MAAM,EAAE;QAAEgB,QAAQ,EAAE;;OAEnBsM,IAAI,CAACJ,IAAI,GACNxS,cAAK,CAACurB,YAAY,CAAC3Y,IAAI,CAACJ,IAAI,EAAE;MAC5BzE,KAAK,EAAE;QAAEma,QAAQ,EAAE5Q,IAAI,KAAK,OAAO,GAAG,MAAM,GAAGA,IAAI,KAAK,QAAQ,GAAG,MAAM,GAAG;;KAC7E,CAAC,GACF,IAAI,EACRtX,6BAACsqB,oBAAI;MACHrqB,GAAG,EAAE2S,IAAI,CAAC+D,KAAK;MACf/K,SAAS,EAAE0C,4BAAY,CACrBhJ,MAAM,CAACyiB,cAAc,EACrBE,SAAS,CAACrV,IAAI,EAAE0E,IAAI,CAAC,EACrB2Q,SAAS,CAACrV,IAAI,EAAE,SAAS,CAAC,CAC3B;sBACY;OAEZA,IAAI,CAAC+D,KAAK,CACN,CACD,GAEC3W,6BAACoS,sBAAM;MACLI,IAAI,EAAEI,IAAI,CAACJ,IAAI,GAAGI,IAAI,CAACJ,IAAI,GAAG,IAAI;MAClCvS,GAAG,EAAE2S,IAAI,CAAC+D,KAAK;MACfpE,UAAU,EAAC,aAAa;MACxB3G,SAAS,OAAKtG,MAAM,CAACyiB,cAAgB;MACrC1V,OAAO,EAAEO,IAAI,CAACP;OAEdrS,6BAACsqB,oBAAI;MAAC1e,SAAS,EAAEqc,SAAS,CAACrV,IAAI,EAAE0E,IAAI;OAClC1E,IAAI,CAAC+D,KAAK,CACN,CAEV,EACA9D,KAAK,GAAGiY,YAAY,CAAClqB,MAAM,GAAG,CAAC,IAC9BZ,6BAAC0S,8BAAmB;MAClB3E,KAAK,EAAE;QACLma,QAAQ,EACN5Q,IAAI,KAAK,OAAO,GACZ,MAAM,GACNA,IAAI,KAAK,QAAQ,GACjB,MAAM,GACN;;MAGX,CACA;GAEN,CAAC,EAED0T,aAAa,CAACpqB,MAAM,GAAG,CAAC,IACvBZ,6BAACwa,cAAY;IAAChJ,KAAK,EAAEwZ,aAAa;IAAEhR,KAAK,EAAEA;IAC5C,CACK,CACJ;AAGZ,CAAC;;;ACzJH,IAWawR,WAAW,GAA+B,SAA1CA,WAAWA,CAAAxkB,IAAA;MAAkCykB,KAAK,GAAAzkB,IAAA,CAALykB,KAAK;IAAEvY,QAAQ,GAAAlM,IAAA,CAARkM,QAAQ;IAAErO,QAAQ,GAAAmC,IAAA,CAARnC,QAAQ;IAAEE,SAAS,GAAAiC,IAAA,CAATjC,SAAS;IAAA2mB,UAAA,GAAA1kB,IAAA,CAAE+G,KAAK;IAALA,KAAK,GAAA2d,UAAA,cAAG,EAAE,GAAAA,UAAA;IAAKzgB,KAAK,GAAA0gB,6BAAA,CAAA3kB,IAAA,EAAA4kB,SAAA;EAClH,IAAMC,WAAW,GAAAzlB,QAAA;IACfkd,QAAQ,EAAE,UAAU;IACpB1e,KAAK,EAAE,MAAM;IACbQ,UAAU,EAAK,GAAG,GAAGqmB,KAAK,MAAG;IAC7B5mB,QAAQ,EAAEA,QAAQ,IAAI,MAAM;IAC5BE,SAAS,EAAEA,SAAS,IAAI;KACrBgJ,KAAK,CACT;EAED,IAAM+d,UAAU,GAAwB;IACtCxI,QAAQ,EAAE,UAAU;IACpBG,GAAG,EAAE,CAAC;IACNmF,IAAI,EAAE,CAAC;IACPhkB,KAAK,EAAE,MAAM;IACbE,MAAM,EAAE;GACT;EAED,OACE9E;IAAK+N,KAAK,EAAE8d;KAAiB5gB,KAAK,GAChCjL;IAAK+N,KAAK,EAAE+d;KAAa5Y,QAAQ,CAAO,CACpC;AAEV,CAAC;;IC5BY6Y,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAI9gB,KAAwB;EAC3D,IAAQ3F,MAAM,GAAK2F,KAAK,CAAhB3F,MAAM;EAEd,IAAA4F,kBAAA,GAA0BpL,iBAAiB,EAAE;IAArCqE,aAAa,GAAA+G,kBAAA,CAAb/G,aAAa;EACrB,IAAM6nB,iBAAiB,GAAGhsB,iBAAiB,CACzC,UAAC8C,cAAsB,EAAEsI,eAAuB;IAE9C,IAAMC,UAAU,GAAGlH,aAAa,CAAC8G,KAAK,EAAEnI,cAAc,EAAEsI,eAAe,CAAC;IACxE,OAAAhF,QAAA,KACKiF,UAAU,EACV/F,MAAM;GAGZ,EACD,CAACnB,aAAa,EAAE8G,KAAK,EAAE3F,MAAM,CAAC,CAC/B;EAED,OAAO;IAAE0mB,iBAAiB,EAAjBA;GAAmB;AAC9B,CAAC;;ACxBD;AACA,AAsBA,IAAM9U,WAAS,GAAG,SAAZA,SAASA,CAAIvH,MAAe;EAChC,IAAMrK,MAAM,GAAG;IACb2mB,MAAM,EAAE5b,OAAG,CAAC;MACV9E,OAAO,EAAE,MAAM;MACfE,cAAc,EAAE,QAAQ;MACxBoc,YAAY,EAAE,QAAQ;MACtBnc,UAAU,EAAE,QAAQ;MACpB3H,OAAO;KACR,CAAC;IACFmoB,cAAc,EAAE7b,OAAG,CAAC;MAClB7L,WAAW,EAAE;KACd;GACF;EACD,OAAO;IAAEc,MAAM,EAANA;GAAQ;AACnB,CAAC;AAED,IAAM6mB,cAAc,GAIf,SAJCA,cAAcA,CAAAnlB,IAAA;MAIZolB,UAAU,GAAAplB,IAAA,CAAVolB,UAAU;IAAEC,UAAU,GAAArlB,IAAA,CAAVqlB,UAAU;IAAE7Z,IAAI,GAAAxL,IAAA,CAAJwL,IAAI;EAClC,IAAA8Z,UAAA,GAAmBpV,WAAS,EAAE;IAAtB5R,MAAM,GAAAgnB,UAAA,CAANhnB,MAAM;EACd,OACEtF,oBAACyY,KAAK,QACJzY,oBAAC0W,WAAW;IAACC,KAAK,EAAEyV,UAAU;IAAE5Z,IAAI,EAAEA;IAAQ,EAC9CxS;IAAK4L,SAAS,EAAEtG,MAAM,CAAC4mB;KACrBlsB,oBAACmnB,qBAAK,QAAEkF,UAAU,MAAU,CACxB,CACA;AAEZ,CAAC;AAED,AAAO,IAAME,mBAAmB,GAE5B,SAFSA,mBAAmBA,CAE3BthB,KAAyD;EAC5D,IAAQya,KAAK,GAAOza,KAAK,CAAjBya,KAAK;EACb,IAAQjU,KAAK,GAAqCiU,KAAK,CAA/CjU,KAAK;IAAE+a,KAAK,GAA8B9G,KAAK,CAAxC8G,KAAK;IAAEC,GAAG,GAAyB/G,KAAK,CAAjC+G,GAAG;IAAEhrB,QAAQ,GAAeikB,KAAK,CAA5BjkB,QAAQ;IAAEirB,QAAQ,GAAKhH,KAAK,CAAlBgH,QAAQ;EAE7C,IAAAC,WAAA,GAAmBzV,WAAS,CAACwO,AAAK,CAAC;IAA3BpgB,MAAM,GAAAqnB,WAAA,CAANrnB,MAAM;EACd,IAAMsnB,iBAAiB,GAAG5tB,cAAM,CAAC6tB,gBAAQ,CAACL,KAAK,CAAC,EAAE,KAAK,CAAC;EACxD,IAAMM,eAAe,GAAG9tB,cAAM,CAAC6tB,gBAAQ,CAACJ,GAAG,CAAC,EAAE,KAAK,CAAC;EAEpD,OACEzsB,0CACEA,oBAAC2L,IAAI;IACH4G,UAAU,EAAC,QAAQ;IACnBxO,OAAO,EAAC,GAAG;IACXqB,UAAU,EAAE,GAAG;IACfR,KAAK,EAAC,OAAO;IACbiH,QAAQ,EACN7L,oBAACyY,KAAK;MAACP,MAAM,EAAE;OACblY;MAAK4L,SAAS,EAAEtG,MAAM,CAAC2mB;OACrBjsB,oBAAC4kB,yBAAS,QAAEnT,KAAK,CAAa,CAC1B,EACNzR,oBAAC+sB,uBAAO,OAAG,EACX/sB,oBAACyY,KAAK;MAACxU,UAAU;MAAC6T,eAAe,EAAC,KAAK;MAAClT,KAAK,EAAE;OAC7C5E,oBAACgtB,qBAAK;MAACza,UAAU,EAAC;OAAUma,QAAQ,CAAS,CACvC,EACR1sB,oBAACmsB,cAAc;MACbC,UAAU,EAAC,OAAO;MAClBC,UAAU,EAAEO,iBAAiB;MAC7Bpa,IAAI,EAAE;MACN,EACFxS,oBAACmsB,cAAc;MACbC,UAAU,EAAC,KAAK;MAChBC,UAAU,EAAES,eAAe;MAC3Bta,IAAI,EAAE;MACN,EACFxS,oBAACmsB,cAAc;MACbC,UAAU,EAAC,UAAU;MACrBC,UAAU,EAAE5qB,QAAkB;MAC9B+Q,IAAI,EAAE;MACN,CACI;IAEVlG,iBAAiB,EACftM,oBAACyY,KAAK;MAACxU,UAAU;MAAC6T,eAAe,EAAC,KAAK;MAAClT,KAAK,EAAC;OAC5C5E,oBAACoS,sBAAM;MAACG,UAAU,EAAC,QAAQ;MAACF,OAAO,EAAE,SAATA,OAAOA;QAAUpV,OAAO,CAACgoB,GAAG,CAAC,cAAc,CAAC;;iBAE/D;IAGb,CACD;AAEP,CAAC;;AC5GD;AAIA,AAKO,IAAMgI,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAItd,MAAqB;EACrD,IAAMrK,MAAM,GAAG;IACb4nB,eAAe,EAAE7c,OAAG,CAAC;MACnBtM,OAAO,EAAE,MAAM;MACfqB,UAAU,EAAE,MAAM;MAClBkB,QAAQ,EAAE,MAAM;MAChBuK,IAAI,EAAE,CAAC;MACPtF,OAAO,EAAE,MAAM;MACfwF,mBAAmB,EAAE,gBAAgB;MACrC+E,gBAAgB,EAAE,MAAM;MACxBqX,YAAY,EAAE,oBAAoB;MAClC9mB,GAAG,EAAE,KAAK;MACVzB,KAAK,EAAE;KACR,CAAC;IACFuJ,MAAM,EAAEkC,OAAG,CAAC;MACV9E,OAAO,EAAE,MAAM;MACfE,cAAc,EAAE,OAAO;MACvBpF,GAAG,EAAE,MAAM;MACXqF,UAAU,EAAE,QAAQ;MACpB3H,OAAO,EAAE;KACV,CAAC;IACFqpB,SAAS,EAAE/c,OAAG,CAAC;MACbiB,SAAS,EAAE,OAAO;MAClBvN,OAAO,EAAE,KAAK;MACdspB,YAAY,iBAAenpB,sBAAM,CAAC4f;KACnC,CAAC;IACFwJ,GAAG,EAAEjd,OAAG,CAAC;MACP9E,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAQ;MACvBE,UAAU,EAAE,QAAQ;MACpBD,cAAc,EAAE,QAAQ;MACxB8a,MAAM,iBAAeriB,sBAAM,CAAC4f,mBAAqB;MACjDD,eAAe,EAAE3f,sBAAM,CAACqpB,uBAAuB;MAC/CjK,QAAQ,EAAE;KACX,CAAC;IACFkK,aAAa,EAAEnd,OAAG,CAAC;MACjByG,KAAK,EAAE5S,sBAAM,CAACupB,mBAAmB;MACjC5J,eAAe,EAAE3f,sBAAM,CAACwpB;KACzB,CAAC;IACFC,OAAO,EAAEtd,OAAG,CAAC;MACXvL,MAAM,EAAE,MAAM;MACdqU,SAAS,EAAE,GAAG;MACdyU,YAAY,EAAE,CAAC;MACftnB,QAAQ,EAAE;KACX,CAAC;IACFunB,cAAc,EAAExd,OAAG,CAAC;MAClB,QAAQ,EAAE;QACRwT,eAAe,EAAE3f,sBAAM,CAACwpB;;KAE3B,CAAC;IAEFI,UAAU,EAAEzd,OAAG,CAAC;MACd0d,SAAS,iBAAe7pB,sBAAM,CAAC8pB;KAChC,CAAC;IACFC,eAAe,EAAE5d,OAAG,CAAC;MACnByG,KAAK,EAAE5S,sBAAM,CAAC8pB,oBAAoB;MAClC7F,UAAU,EAAE;KACb,CAAC;IACF+F,SAAS,EAAE7d,OAAG,CAAC;;MAEb9E,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAQ;MACvBE,UAAU,EAAE,YAAY;MAExBiY,MAAM,EAAE;KACT,CAAC;IACFwK,cAAc,EAAE9d,OAAG,CAAC;MAClB9E,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAQ;MACvB4iB,SAAS,EAAE,MAAM;MACjBhpB,UAAU,EAAE,KAAK;MACjBV,aAAa,EAAE,KAAK;MACpBF,WAAW,EAAE,KAAK;MAClBC,YAAY,EAAE,KAAK;;MAEnB,qBAAqB,EAAE;QACrBG,KAAK,EAAE,KAAK;QACZE,MAAM,EAAE;OACT;MACD,2BAA2B,EAAE;QAC3BH,UAAU,EAAET,sBAAM,CAACmqB,uBAAuB;QAC1CT,YAAY,EAAE;OACf;MACD,2BAA2B,EAAE;QAC3BjpB,UAAU,EAAET,sBAAM,CAACoqB,sBAAsB;QACzCV,YAAY,EAAE;OACf;MACD,iCAAiC,EAAE;QACjCjpB,UAAU,EAAET,sBAAM,CAACupB;;KAEtB,CAAC;IACFc,iBAAiB,EAAEle,OAAG,CAAC;MACrBwT,eAAe,EAAE3f,sBAAM,CAAC8pB,oBAAoB;MAC5ClX,KAAK,EAAE5S,sBAAM,CAACsqB,6BAA6B;MAC3CZ,YAAY,EAAE,KAAK;MACnB7pB,OAAO,EAAE,KAAK;MACdsB,MAAM,EAAE,KAAK;MACbiB,QAAQ,EAAE,QAAQ;MAClB+K,YAAY,EAAE,UAAU;MACxByW,UAAU,EAAE,QAAQ;MACpBhjB,MAAM,EAAE;KACT,CAAC;IACF2pB,cAAc,EAAEpe,OAAG,CAAC;MAClBtM,OAAO,EAAE,CAAC;MACV2qB,cAAc,EAAE,EAAE;MAClBC,cAAc,EAAE;KACjB;GACF;EACD,IAAMC,0BAA0B,GAAG,SAA7BA,0BAA0BA,CAC9B/K,eAAuB,EACvBgL,WAAmB;IAEnB,OAAOxe,OAAG,CAAC;MACTwT,eAAe,EAAEA,eAAe,WAAfA,eAAe,GAAI3f,sBAAM,CAAC8pB,oBAAoB;MAC/D,QAAQ,EAAE;QACRnK,eAAe,EAAEgL,WAAW,WAAXA,WAAW,GAAI3qB,sBAAM,CAAC4qB;;KAE1C,CAAC;GACH;EAED,OAAO;IAAExpB,MAAM,EAANA,MAAM;IAAEspB,0BAA0B,EAA1BA;GAA4B;AAC/C,CAAC;;AClID;AACA,AAKO,IAAMG,QAAQ,GAAG,SAAXA,QAAQA;EACnB,IAAMC,YAAY,GAAGhvB,iBAAiB,CAAC,UAACwsB,KAAW,EAAEC,GAAS;IAC5D,IAAMwC,SAAS,GAAG,IAAI/vB,IAAI,CAACstB,KAAK,CAAC;IACjC,IAAM0C,OAAO,GAAG,IAAIhwB,IAAI,CAACutB,GAAG,CAAC;;IAG7B,IAAM0C,SAAS,GAAGF,SAAS,CAACG,QAAQ,EAAE;IACtC,IAAMC,WAAW,GAAGJ,SAAS,CAACK,UAAU,EAAE;IAC1C,IAAMC,SAAS,GAAGJ,SAAS,GAAG,CAAC,IAAIE,WAAW,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IAC7D,IAAMG,OAAO,GAAGN,OAAO,CAACE,QAAQ,EAAE;IAClC,IAAMK,SAAS,GAAGP,OAAO,CAACI,UAAU,EAAE;IACtC,IAAMI,OAAO,GAAGF,OAAO,GAAG,CAAC,IAAIC,SAAS,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IAEvD,IAAME,SAAS,GAAGD,OAAO,GAAGH,SAAS;IACrC,OAAO;MAAEI,SAAS,EAATA,SAAS;MAAEJ,SAAS,EAATA,SAAS;MAAEG,OAAO,EAAPA;KAAS;GACzC,EAAE,EAAE,CAAC;EACN,IAAME,2BAA2B,GAAG5vB,iBAAiB,CACnD,UACE6vB,SAAiB,EACjBC;;EACAC;;QADAD;MAAAA,oBAA4B,EAAE;;IAAA,IAC9BC;MAAAA,gBAAwB,EAAE;;;IAG1B,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAIC,GAAW;MAC3B,IAAMC,CAAC,GAAGC,QAAQ,CAACF,GAAG,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,GAAG;MAC7C,IAAMC,CAAC,GAAGF,QAAQ,CAACF,GAAG,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,GAAG;MAC7C,IAAME,CAAC,GAAGH,QAAQ,CAACF,GAAG,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,GAAG;MAE7C,IAAMG,GAAG,GAAGjc,IAAI,CAACic,GAAG,CAACL,CAAC,EAAEG,CAAC,EAAEC,CAAC,CAAC;MAC7B,IAAM/b,GAAG,GAAGD,IAAI,CAACC,GAAG,CAAC2b,CAAC,EAAEG,CAAC,EAAEC,CAAC,CAAC;MAC7B,IAAME,KAAK,GAAGD,GAAG,GAAGhc,GAAG;MAEvB,IAAIkc,CAAC,GAAG,CAAC;MACT,IAAIC,CAAC,GAAG,CAAC;MACT,IAAMC,CAAC,GAAG,CAACJ,GAAG,GAAGhc,GAAG,IAAI,CAAC;MAEzB,IAAIic,KAAK,KAAK,CAAC,EAAE;QACfE,CAAC,GAAGC,CAAC,GAAG,GAAG,GAAGH,KAAK,IAAI,CAAC,GAAGD,GAAG,GAAGhc,GAAG,CAAC,GAAGic,KAAK,IAAID,GAAG,GAAGhc,GAAG,CAAC;QAC3D,QAAQgc,GAAG;UACT,KAAKL,CAAC;YACJO,CAAC,GAAG,CAACJ,CAAC,GAAGC,CAAC,IAAIE,KAAK,IAAIH,CAAC,GAAGC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACrC;UACF,KAAKD,CAAC;YACJI,CAAC,GAAG,CAACH,CAAC,GAAGJ,CAAC,IAAIM,KAAK,GAAG,CAAC;YACvB;UACF,KAAKF,CAAC;YACJG,CAAC,GAAG,CAACP,CAAC,GAAGG,CAAC,IAAIG,KAAK,GAAG,CAAC;YACvB;;QAEJC,CAAC,IAAI,CAAC;;MAGR,OAAO;QAAEA,CAAC,EAAEA,CAAC,GAAG,GAAG;QAAEC,CAAC,EAAEA,CAAC,GAAG,GAAG;QAAEC,CAAC,EAAEA,CAAC,GAAG;OAAK;KAC9C;;IAGD,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAIH,CAAS,EAAEC,CAAS,EAAEC,CAAS;MAC/C,IAAME,CAAC,GAAIH,CAAC,GAAGpc,IAAI,CAACC,GAAG,CAACoc,CAAC,EAAE,GAAG,GAAGA,CAAC,CAAC,GAAI,GAAG;MAC1C,IAAMG,CAAC,GAAG,SAAJA,CAACA,CAAIC,CAAS;QAClB,IAAMC,CAAC,GAAG,CAACD,CAAC,GAAGN,CAAC,GAAG,EAAE,IAAI,EAAE;QAC3B,IAAM3Z,KAAK,GAAG6Z,CAAC,GAAGE,CAAC,GAAGvc,IAAI,CAACic,GAAG,CAACjc,IAAI,CAACC,GAAG,CAACyc,CAAC,GAAG,CAAC,EAAE,CAAC,GAAGA,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC7D,OAAO1c,IAAI,CAAC2c,KAAK,CAAC,GAAG,GAAGna,KAAK,CAAC,CAC3BpZ,QAAQ,CAAC,EAAE,CAAC,CACZwzB,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;OACpB;MACD,aAAWJ,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC;KAC9B;;IAGD,IAAAK,SAAA,GAAoBnB,QAAQ,CAACH,SAAS,CAAC;MAA/BY,CAAC,GAAAU,SAAA,CAADV,CAAC;MAAEC,CAAC,GAAAS,SAAA,CAADT,CAAC;MAAEC,CAAC,GAAAQ,SAAA,CAADR,CAAC;;IAGf,IAAMS,UAAU,GAAGR,QAAQ,CAACH,CAAC,EAAEC,CAAC,EAAEpc,IAAI,CAACC,GAAG,CAACoc,CAAC,GAAGb,iBAAiB,EAAE,GAAG,CAAC,CAAC;IACvE,IAAMuB,UAAU,GAAGT,QAAQ,CAACH,CAAC,EAAEC,CAAC,EAAEpc,IAAI,CAACC,GAAG,CAACoc,CAAC,GAAGZ,aAAa,EAAE,GAAG,CAAC,CAAC;IAEnE,OAAO;MAAEqB,UAAU,EAAVA,UAAU;MAAEC,UAAU,EAAVA;KAAY;GAClC,EACD,EAAE,CACH;EAED,IAAMC,cAAc,GAAGtxB,iBAAiB,CAAC,UAAC0sB,QAAgB;;IAExD,IAAM6E,QAAQ,GAAiC;MAC7CC,OAAO,EAAE;QAAE3N,eAAe,EAAE,SAAS;QAAEwN,UAAU,EAAE;OAAW;MAC9DI,WAAW,EAAE;QAAE5N,eAAe,EAAE,SAAS;QAAEwN,UAAU,EAAE;OAAW;MAClEK,IAAI,EAAE;QAAE7N,eAAe,EAAE,SAAS;QAAEwN,UAAU,EAAE;OAAW;MAC3DM,QAAQ,EAAE;QAAE9N,eAAe,EAAE,SAAS;QAAEwN,UAAU,EAAE;OAAW;MAC/DO,OAAO,EAAE;QAAE/N,eAAe,EAAE,SAAS;QAAEwN,UAAU,EAAE;OAAW;MAC9DQ,WAAW,EAAE;QAAEhO,eAAe,EAAE,SAAS;QAAEwN,UAAU,EAAE;OAAW;MAClES,QAAQ,EAAE;QAAEjO,eAAe,EAAE,SAAS;QAAEwN,UAAU,EAAE;OAAW;MAC/DU,QAAQ,EAAE;QAAElO,eAAe,EAAE,SAAS;QAAEwN,UAAU,EAAE;OAAW;MAC/DW,OAAO,EAAE;QAAEnO,eAAe,EAAE,SAAS;QAAEwN,UAAU,EAAE;OAAW;MAC9DY,UAAU,EAAE;QAAEpO,eAAe,EAAE,SAAS;QAAEwN,UAAU,EAAE;;KACvD;;IAGD,IAAMa,aAAa,GAAiB;MAClCrO,eAAe,EAAC3f,sBAAM,CAACiuB,uBAAuB;MAC9Cd,UAAU,EAAEntB,sBAAM,CAACkuB;KACpB;;IAGD,OAAOb,QAAQ,CAAC7E,QAAQ,CAAC9pB,WAAW,EAAE,CAAC,IAAIsvB,aAAa;GACzD,EAAE,EAAE,CAAC;EAEN,IAAMG,aAAa,GAAGryB,iBAAiB,CAAC,UAACc,GAAW;IAClD,IAAIwxB,IAAI,GAAG,CAAC;IACZ,KAAK,IAAI9U,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG1c,GAAG,CAACF,MAAM,EAAE4c,CAAC,EAAE,EAAE;MACnC8U,IAAI,GAAGxxB,GAAG,CAACyxB,UAAU,CAAC/U,CAAC,CAAC,IAAI,CAAC8U,IAAI,IAAI,CAAC,IAAIA,IAAI,CAAC;;IAEjD,IAAME,CAAC,GAAG,CAACF,IAAI,GAAG,UAAU,EAAE50B,QAAQ,CAAC,EAAE,CAAC,CAAC+0B,WAAW,EAAE;IAExD,cAAW,OAAO,CAAC9xB,SAAS,CAAC,CAAC,EAAE,CAAC,GAAG6xB,CAAC,CAAC5xB,MAAM,CAAC,GAAG4xB,CAAC;GAClD,EAAE,EAAE,CAAC;EAGN,OAAO;IAAExD,YAAY,EAAZA,YAAY;IAAEY,2BAA2B,EAA3BA,2BAA2B;IAAE0B,cAAc,EAAdA,cAAc;IAAEe,aAAa,EAAbA;GAAe;AACrF,CAAC;;AC3HD;AACA,AA4BO,IAAMK,uBAAuB,GAEhC,SAFSA,uBAAuBA,CAE/BznB,KAA6D;EAChE,IAAM0nB,QAAQ,GAAGC,qBAAK,EAAE;EACxB,IAAQC,MAAM,GAA4C5nB,KAAK,CAAvD4nB,MAAM;IAAEn0B,IAAI,GAAsCuM,KAAK,CAA/CvM,IAAI;IAAEo0B,iBAAiB,GAAmB7nB,KAAK,CAAzC6nB,iBAAiB;IAAEC,YAAY,GAAK9nB,KAAK,CAAtB8nB,YAAY;EACrD,IAAAC,kBAAA,GAA+C/F,iBAAiB,CAC9DhiB,AAAc,CACf;IAFO3F,MAAM,GAAA0tB,kBAAA,CAAN1tB,MAAM;IAAEspB,0BAA0B,GAAAoE,kBAAA,CAA1BpE,0BAA0B;EAI1C,IAAMqE,cAAc,GAAGjzB,YAAY,CAA2B,IAAI,CAAC;EACnE,IAAAkzB,SAAA,GAA2BnE,QAAQ,EAAE;IAA7BuC,cAAc,GAAA4B,SAAA,CAAd5B,cAAc;EAEtB,IAAM6B,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,UAAkB;IAC1C,IAAIN,iBAAiB,EAAE;MACrBA,iBAAiB,CAAC,IAAI,EAAEM,UAAU,CAAC;;GAEtC;EAED,IAAMC,gBAAgB,GAAGrzB,iBAAiB,CACxC,UAACozB,UAAkB;IACjB,IAAIN,iBAAiB,EAAE;MACrBA,iBAAiB,CAAC,KAAK,EAAEM,UAAU,CAAC;;GAEvC,EACD,CAACN,iBAAiB,CAAC,CACpB;;EAGD,IAAMpK,SAAS,GAAG1oB,iBAAiB,CACjC,UAACzD,EAAyB;;IACxB,CAAA+2B,qBAAA,GAAAL,cAAc,CAAC/lB,OAAO,aAAtBomB,qBAAA,CAAwBC,SAAS,CAACh3B,EAAE,CAAC;GACtC,EACD,CAAC02B,cAAc,CAAC,CACjB;;EAGD,IAAMO,UAAU,GAAGxzB,iBAAiB,CAClC,UAAC6S,KAAa,EAAE4gB,QAAgB,EAAEC,MAAoB;IACpD,OACE1zB;MAAK4M,GAAG,EAAE8b;OACR1oB,oBAAC2L,IAAI;MACH1L,GAAG,EAAE4S,KAAK;MACVjH,SAAS,EAAE0C,4BAAY,CACrBhJ,MAAM,CAAC4oB,SAAS,EAChBU,0BAA0B,CACxB8E,MAAM,CAAC7P,eAAe,EACtB6P,MAAM,CAACrC,UAAU,CAClB,CACF;MACDjsB,UAAU,EAAC,KAAK;MAChBV,aAAa,EAAC,KAAK;MACnBF,WAAW,EAAC,KAAK;MACjBC,YAAY,EAAC,KAAK;MAClBS,SAAS,EAAE2N,KAAK,KAAK,CAAC,GAAG,KAAK,GAAG,KAAK;MACtC9G,UAAU,EAAE/L,oBAACgX,wBAAQ,QAAEyc,QAAQ,CAAChiB,KAAK,CAAY;MACjDkiB,YAAY,EAAE,SAAdA,YAAYA;QAAA,OAAQR,gBAAgB,CAACM,QAAQ,CAAChiB,KAAK,CAAC;;MACpDmiB,YAAY,EAAE,SAAdA,YAAYA;QAAA,OAAQP,gBAAgB,CAACI,QAAQ,CAAChiB,KAAK,CAAC;;MAC9C,CACJ;GAET,EACD,CAAC0hB,gBAAgB,EAAEE,gBAAgB,EAAEzE,0BAA0B,CAAC,CACjE;EAED,IAAMiF,qBAAqB,GAAG7zB,iBAAiB,CAC7C,UAACyzB,QAAgB,EAAE5gB,KAAa,EAAE6gB,MAAoB;IACpD,OACE1zB,0CACEA,oBAAC8zB,uBAAO;MAENC,SAAS;MACT9zB,GAAG,EAAE4S,KAAK;MACVmhB,eAAe,EAAE,EAAE;MACnBC,aAAa,EAAE,IAAI;MACnBC,kBAAkB,EAAE,IAAI;MACxBC,WAAW;OAEXn0B,oBAACo0B,8BAAc,QACZZ,UAAU,CAAC3gB,KAAK,EAAE4gB,QAAQ,EAAEC,MAAM,CAAC,CACrB,EACjB1zB,oBAACq0B,8BAAc;yBACI1B,QAAQ;MACzB/mB,SAAS,EAAE0C,4BAAY,CACrBhJ,MAAM,CAACmpB,cAAc,EACrBG,0BAA0B,CACxB8E,MAAM,CAAC7P,eAAe,EACtB6P,MAAM,CAACrC,UAAU,CAClB;OAGHrxB,oBAACusB,mBAAmB;MAAC7G,KAAK,EAAE+N;MAAY,CACzB,CACT,CACT;GAEN,EACD,CAACD,UAAU,CAAC,CACb;EAED,IAAI,CAACX,MAAM,IAAI,EAACA,MAAM,YAANA,MAAM,CAAEjyB,MAAM,GAAE,OAAOZ,8CAAM;EAE7C,OACEA,0CACEA;IAAK+N,KAAK,EAAE;MAAEjJ,MAAM,EAAEiuB;KAAc;IAAEnnB,SAAS,EAAEtG,MAAM,CAAC6oB;KACrD0E,MAAM,CAAClgB,GAAG,CAAC,UAAC8gB,QAAQ,EAAE5gB,KAAK;IAC1B,IAAMyhB,UAAU,GAAGC,kBAAU,CAAC,IAAIr1B,IAAI,CAACu0B,QAAQ,CAACjH,KAAK,CAAC,CAAC;IACvD,IAAMgI,QAAQ,GAAGC,gBAAQ,CAAC,IAAIv1B,IAAI,CAACu0B,QAAQ,CAAChH,GAAG,CAAC,CAAC;IAEjD,IAAMiI,YAAY,GAAGC,wBAAgB,CAACj2B,IAAI,EAAE;MAC1C8tB,KAAK,EAAE8H,UAAU;MACjB7H,GAAG,EAAE+H;KACN,CAAC;IAEF,IAAI,CAACE,YAAY,EAAE,OAAO,IAAI;IAC9B,IAAMhB,MAAM,GAAGpC,cAAc,CAACmC,QAAQ,CAAC/G,QAAkB,CAAC;IAC1D,IAAMkI,YAAY,GAAGnB,QAAQ,CAACoB,mBAAmB;;IAEjD,IAAI70B,oBAAoB,CAAC40B,YAAY,CAAC,EAAE;MACtC,OAAO50B,kBAAkB,CAAC40B,YAAkC,EAAE;QAC5DhpB,SAAS,EAAE0C,4BAAY,CACpBsmB,YAAY,CAAC3pB,KAAa,CAACW,SAAS,EACrCtG,MAAM,CAAC4oB,SAAS;OAEnB,CAAC;;IAEJ,OAAOuF,QAAQ,CAACqB,cAAc,GAC1BjB,qBAAqB,CAACJ,QAAQ,EAAE5gB,KAAK,EAAE6gB,MAAM,CAAC,GAC9CF,UAAU,CAAC3gB,KAAK,EAAE4gB,QAAQ,EAAEC,MAAM,CAAC;GACxC,CAAC,CACE,CACL;AAEP,CAAC;;AC9IM,IAAMqB,GAAG,GAAuC,SAA1CA,GAAGA,CACd9pB,KAAyC;EAEzC,IAAQqiB,GAAG,GAA+CriB,KAAK,CAAvDqiB,GAAG;IAAE0H,YAAY,GAAiC/pB,KAAK,CAAlD+pB,YAAY;IAAEnC,MAAM,GAAyB5nB,KAAK,CAApC4nB,MAAM;IAAEn0B,IAAI,GAAmBuM,KAAK,CAA5BvM,IAAI;IAAEq0B,YAAY,GAAK9nB,KAAK,CAAtB8nB,YAAY;EACrD,IAAAC,kBAAA,GAAmB/F,iBAAiB,CAAChiB,AAAK,CAAC;IAAnC3F,MAAM,GAAA0tB,kBAAA,CAAN1tB,MAAM;EACd,IAAM2vB,WAAW,GAAG,IAAI/1B,IAAI,EAAE;EAC9B,IAAA2N,eAAA,GAA4C7M,cAAc,CAAC,KAAK,CAAC;IAA1Dk1B,cAAc,GAAAroB,eAAA;IAAEsoB,iBAAiB,GAAAtoB,eAAA;EAExC,IAAMuoB,oBAAoB,GAAGp1B,aAAa,CAAC;IACzC,OAAOq1B,iBAAS,CAAC32B,IAAI,EAAEu2B,WAAW,CAAC;GACpC,EAAE,CAACv2B,IAAI,EAAEu2B,WAAW,CAAC,CAAC;EAEvB,IAAMK,qBAAqB,GAAGt1B,aAAa,CAAC;IAC1C,OACEA,oBAACyY,KAAK;MACJxU,UAAU;MACV6T,eAAe,EAAC,OAAO;MACvBC,aAAa,EAAC,QAAQ;MACtBG,MAAM,EAAE;OAERlY,oBAACu1B,qBAAK;MAAC3pB,SAAS,EAAEtG,MAAM,CAAC2oB;OACtBX,GAAG,OAAG2H,WAAW,CAACO,cAAc,CAAC,SAAS,EAAE;MAAEC,KAAK,EAAE;KAAS,CAAC,CAC1D,CACF;GAEX,EAAE,CAACnI,GAAG,CAAC,CAAC;EAET,IAAMoI,qBAAqB,GAAG11B,iBAAiB,CAC7C,UAAC21B,SAAkB;IACjBR,iBAAiB,CAACQ,SAAS,CAAC;GAC7B,EACD,EAAE,CACH;EAED,OACE31B,0CACEA,oBAAC2L,IAAI;IACHC,SAAS,EAAE0C,4BAAY,CACrBhJ,MAAM,CAACqoB,OAAO,EACdqH,YAAY,GAAG,EAAE,GAAG1vB,MAAM,CAACkoB,aAAa,EACxC4H,oBAAoB,GAAG9vB,MAAM,CAACwoB,UAAU,GAAG,EAAE,EAC7C,CAACoH,cAAc,GAAG5vB,MAAM,CAACuoB,cAAc,GAAG,EAAE,CAC7C;IACD9hB,UAAU,EACRqpB,oBAAoB,GAAGE,qBAAqB,GAAGt1B,oBAACu1B,qBAAK,QAAEjI,GAAG,CAAS;IAErEvpB,OAAO,EAAC,QAAQ;IAChB8H,QAAQ,EACN7L,oBAAC0yB,uBAAuB;MACtBG,MAAM,EAAEA,MAAM;MACdn0B,IAAI,EAAEA,IAAI;MACVo0B,iBAAiB,EAAE4C,qBAAqB;MACxC3C,YAAY,EAAEA,YAAY,GAAG;;IAGjC,CACD;AAEP,CAAC;;AC7ED;AACA,AAGO,IAAM6C,iBAAiB,GAAG,SAApBA,iBAAiBA;EAE5B,IAAMtwB,MAAM,GAAG;IACb8T,SAAS,EAAE/I,OAAG,CAAC;MACb9E,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAQ;MACvB5G,KAAK,EAAE,mBAAmB;MAC1BE,MAAM,EAAE,OAAO;MACfwB,QAAQ,EAAE,QAAQ;MAClBvC,OAAO,EAAE;KACV,CAAC;IACFoK,MAAM,EAAEkC,OAAG,CAAC;MACV9E,OAAO,EAAE,MAAM;MACfE,cAAc,EAAE,eAAe;MAC/BC,UAAU,EAAE,QAAQ;MACpBvG,YAAY,EAAE,MAAM;MACpBkoB,YAAY,iBAAenpB,sBAAM,CAAC4f;KACnC,CAAC;IACF+R,QAAQ,EAAExlB,OAAG,CAAC;MACZ9E,OAAO,EAAE,MAAM;MACfwF,mBAAmB,EAAE,qBAAqB;MAC1C+E,gBAAgB,EAAE,4BAA4B;MAC9ChR,MAAM,EAAE,aAAa;MACrBspB,SAAS,EAAE,MAAM;MACjB7H,MAAM,iBAAeriB,sBAAM,CAAC4f,mBAAqB;MACjD/e,SAAS,EAAE,qBAAqB;MAChC+wB,cAAc,EAAE,MAAM;MACtBC,cAAc,EAAK7xB,sBAAM,CAAC8pB,oBAAoB,SAAI9pB,sBAAM,CAACqpB,uBAAyB;MAClF,sBAAsB,EAAE;QACtB3oB,KAAK,EAAE;OACR;MACD,4BAA4B,EAAE;QAC5BD,UAAU,EAAET,sBAAM,CAACqpB;OACpB;MACD,4BAA4B,EAAE;QAC5B5oB,UAAU,EAAET,sBAAM,CAAC8pB,oBAAoB;QACvCJ,YAAY,EAAE;OACf;MACD,kCAAkC,EAAE;QAClCjpB,UAAU,EAAET,sBAAM,CAAC4qB;;KAEtB,CAAC;IACFkH,WAAW,EAAE3lB,OAAG,CAAC;MACf4lB,UAAU,EAAE,GAAG;MACfpS,eAAe,EAAE3f,sBAAM,CAACiuB,uBAAuB;MAC/C9E,YAAY,iBAAenpB,sBAAM,CAACgyB;KACnC,CAAC;IACFC,UAAU,EAAE9lB,OAAG,CAAC;MACd4lB,UAAU,EAAE,GAAG;MACfG,OAAO,EAAE,aAAa;MACtB7qB,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAQ;MACvBqY,eAAe,EAAE3f,sBAAM,CAACqpB,uBAAuB;MAC/C8I,WAAW,iBAAenyB,sBAAM,CAAC4f;KAClC,CAAC;IACFwS,QAAQ,EAAEjmB,OAAG,CAAC;MACZvL,MAAM,EAAE,MAAM;MACdyG,OAAO,EAAE,MAAM;MACfG,UAAU,EAAE,QAAQ;MACpBwc,QAAQ,EAAE,MAAM;MAChBpR,KAAK,EAAE5S,sBAAM,CAACqyB,uBAAuB;MACrClJ,YAAY,iBAAenpB,sBAAM,CAAC4f,mBAAqB;MACvDrY,cAAc,EAAE;KACjB,CAAC;IACF+qB,UAAU,EAAEnmB,OAAG,CAAC;MACd+lB,OAAO,EAAE,GAAG;MACZ7qB,OAAO,EAAE,MAAM;MACfwF,mBAAmB,EAAE,qBAAqB;MAC1C1K,GAAG,EAAE,GAAG;MACRtC,OAAO,EAAE,GAAG;MACZ8f,eAAe,EAAE3f,sBAAM,CAACwpB,uBAAuB;MAC/CL,YAAY,iBAAenpB,sBAAM,CAACupB;KACnC,CAAC;IACFgJ,YAAY,EAAEpmB,OAAG,CAAC;MAChB4lB,UAAU,EAAE,GAAG;MACf1qB,OAAO,EAAE,MAAM;MACfG,UAAU,EAAE,QAAQ;MACpBD,cAAc,EAAE,QAAQ;MACxBoc,YAAY,EAAE,QAAQ;MACtB/Q,KAAK,EAAE5S,sBAAM,CAAC8pB,oBAAoB;MAClCjqB,OAAO,EAAE,KAAK;MACdsyB,WAAW,iBAAenyB,sBAAM,CAAC4f,mBAAqB;MACtDuJ,YAAY,iBAAenpB,sBAAM,CAACupB;KACnC,CAAC;IACFiJ,WAAW,EAAErmB,OAAG,CAAC;MACfgmB,WAAW,iBAAenyB,sBAAM,CAAC4f,mBAAqB;MACtDvY,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,KAAK;MACpBnF,GAAG,EAAE,KAAK;MACVtC,OAAO,EAAE,KAAK;MACdspB,YAAY,iBAAenpB,sBAAM,CAACupB,mBAAqB;MACvDnnB,QAAQ,EAAE;KACX,CAAC;IACFqwB,YAAY,EAAEtmB,OAAG,CAAC;MAChBQ,IAAI,EAAE,UAAU;MAChBD,QAAQ,EAAE,MAAM;MAChB9L,MAAM,EAAE,MAAM;MACdf,OAAO,EAAE,SAAS;MAClB8f,eAAe,EAAE3f,sBAAM,CAAC8pB,oBAAoB;MAC5ClX,KAAK,EAAE5S,sBAAM,CAACsqB,6BAA6B;MAC3CZ,YAAY,EAAE,KAAK;MACnBtnB,QAAQ,EAAE,QAAQ;MAElBiF,OAAO,EAAE,MAAM;MACfG,UAAU,EAAE,QAAQ;MACpBD,cAAc,EAAE;KACjB,CAAC;IACFmrB,aAAa,EAAEvmB,OAAG,CAAC;MACjBiB,SAAS,EAAE,QAAQ;MACnBuS,eAAe,EAAE3f,sBAAM,CAACwpB,uBAAuB;MAC/C3pB,OAAO,EAAE,KAAK;MACdokB,UAAU,EAAE,MAAM;MAClBkF,YAAY,iBAAenpB,sBAAM,CAAC4f;KACnC,CAAC;IACF+S,eAAe,EAAExmB,OAAG,CAAC;MACnB0d,SAAS,iBAAe7pB,sBAAM,CAAC8pB;KAChC,CAAC;IACFE,SAAS,EAAE7d,OAAG,CAAC;MACdtM,OAAO,EAAC,CAAC;MACR2H,UAAU,EAAE,QAAQ;MACpBD,cAAc,EAAE,QAAQ;MACxBxG,WAAW,EAAE,KAAK;MAClB0e,MAAM,EAAE,CAAC;MACTL,QAAQ,EAAE,UAAU;MACpBuE,YAAY,EAAE,QAAQ;MACtBvhB,QAAQ,EAAE,QAAQ;MAClB,QAAQ,EAAE;QACRwwB,aAAa,EAAE,MAAM;QACrBnd,MAAM,EAAE;;KAGX,CAAC;IACF+L,KAAK,EAAErV,OAAG,CAAC;MACTvL,MAAM,EAAE,MAAM;MACd+e,eAAe,EAAE3f,sBAAM,CAAC8pB,oBAAoB;MAC5ClX,KAAK,EAAE5S,sBAAM,CAACsqB,6BAA6B;MAC3CZ,YAAY,EAAE,KAAK;MACnBvc,YAAY,EAAE,UAAU;MACxByW,UAAU,EAAE,QAAQ;MACpBxhB,QAAQ,EAAE,QAAQ;MAClBiF,OAAO,EAAE,MAAM;MACfG,UAAU,EAAE,QAAQ;MACpBD,cAAc,EAAE,QAAQ;MACxBxG,WAAW,EAAE,KAAK;MAClB0e,MAAM,EAAE,CAAC;MACTL,QAAQ,EAAE,UAAU;MACpBuE,YAAY,EAAE,QAAQ;MACtB,QAAQ,EAAE;QACRiP,aAAa,EAAE,MAAM;QACrBnd,MAAM,EAAE;;KAGX,CAAC;IACFod,OAAO,EAAE1mB,OAAG,CAAC;MACXgd,YAAY,iBAAenpB,sBAAM,CAAC4f,mBAAqB;MACvDuS,WAAW,iBAAenyB,sBAAM,CAAC4f,mBAAqB;MACtDR,QAAQ,EAAE,UAAU;MACpBhd,QAAQ,EAAE,SAAS;MACnB0wB,aAAa,EAAE,QAAQ;MACvB3wB,GAAG,EAAE;KAEN,CAAC;IACF4wB,oBAAoB,EAAE5mB,OAAG,CAAC;MACxBiT,QAAQ,EAAE,UAAU;MACpBsF,IAAI,EAAE,CAAC;MACP9jB,MAAM,EAAE,KAAK;MACb+e,eAAe,EAAE3f,sBAAM,CAACgzB,2BAA2B;MACnDtyB,KAAK,EAAE,MAAM;MACb+e,MAAM,EAAE;KACT,CAAC;IACFwT,mBAAmB,EAAE9mB,OAAG,CAAC;MACvBkW,MAAM,iBAAeriB,sBAAM,CAACgzB;KAC7B,CAAC;IACF9D,UAAU,EAAE/iB,OAAG,CAAC;MACd9E,OAAO,EAAE,aAAa;MACtB,oBAAoB,EAAE,GAAG;MACzB,oBAAoB,EAAE,UAAU;MAChC+F,SAAS,EAAE,OAAO;MAClBD,YAAY,EAAE,UAAU;MACxB7M,WAAW,EAAE,KAAK;MAClBiV,SAAS,EAAE,YAAY;MACrBnT,QAAQ,EAAE;KACb,CAAC;IACAmoB,cAAc,EAAEpe,OAAG,CAAC;MACpBtM,OAAO,EAAE,CAAC;MACV2qB,cAAc,EAAE,EAAE;MAClBC,cAAc,EAAE;KACjB;GACF;EAGD,IAAMC,0BAA0B,GAAG,SAA7BA,0BAA0BA,CAAI/K,eAAsB,EAAEuT,UAAiB;IAC3E,OAAO/mB,OAAG,CAAC;MACTwT,eAAe,EAACA,eAAe,WAAfA,eAAe,GAAI3f,sBAAM,CAAC8pB,oBAAoB;MAC9D,QAAQ,EAAE;QACRnK,eAAe,EAACuT,UAAU,WAAVA,UAAU,GAAIlzB,sBAAM,CAAC4qB;;KAExC,CAAC;GAEH;EACF,OAAO;IAACxpB,MAAM,EAANA,MAAM;IAAEspB,0BAA0B,EAA1BA;GAA2B;AAC5C,CAAC;;AC/KM,IAAMyI,gBAAgB,GAAoC,SAApDA,gBAAgBA,CAAArwB,IAAA;MAC3B0e,KAAK,GAAA1e,IAAA,CAAL0e,KAAK;IACLgO,MAAM,GAAA1sB,IAAA,CAAN0sB,MAAM;IACN/D,SAAS,GAAA3oB,IAAA,CAAT2oB,SAAS;IACT2H,SAAS,GAAAtwB,IAAA,CAATswB,SAAS;IACTC,UAAU,GAAAvwB,IAAA,CAAVuwB,UAAU;IACVC,UAAU,GAAAxwB,IAAA,CAAVwwB,UAAU;EAEV,IAAM7E,QAAQ,GAAGC,qBAAK,EAAE;EACxB,IAAA6E,kBAAA,GAA+C7B,iBAAiB,EAAE;IAA1DtwB,MAAM,GAAAmyB,kBAAA,CAANnyB,MAAM;IAAEspB,0BAA0B,GAAA6I,kBAAA,CAA1B7I,0BAA0B;EAC1C,IAAM8I,OAAO,GAAG13B,YAAY,CAAiB,IAAI,CAAC;EAElD,IAAM23B,WAAW,GAAG33B,aAAa,CAC/B;IAAA,OACEA,iCACEA,oBAACyY,KAAK;MAACR,SAAS,EAAE,CAAC;MAAEF,aAAa,EAAC;OACjC/X,oBAACqe,2BAAW;MAACzS,SAAS,EAAEtG,MAAM,CAAC8tB;OAAa1N,KAAK,CAACjU,KAAK,CAAe,EACtEzR,oBAACyY,KAAK;MACJR,SAAS,EAAE,CAAC;MACZhU,UAAU;MACV8T,aAAa,EAAC,QAAQ;MACtBD,eAAe,EAAC;OAEhB9X,oBAACmnB,qBAAK,QAAEnoB,cAAM,CAAC,IAAIE,IAAI,CAACwmB,KAAK,CAAC8G,KAAK,CAAC,EAAE,OAAO,CAAC,MAAU,EACvD,KAAK,EACNxsB,oBAACmnB,qBAAK,QAAEnoB,cAAM,CAAC,IAAIE,IAAI,CAACwmB,KAAK,CAAC+G,GAAG,CAAC,EAAE,OAAO,CAAC,MAAU,CAChD,CACF,CACJ;GACP,EACD,CAAC/G,KAAK,CAAC,CACR;EAED,OACE1lB,oBAAC2L,oBAAI;IACHiB,GAAG,EAAE8qB,OAAO;IACZz3B,GAAG,EAAEylB,KAAK,CAACxT,EAAE;IACbtG,SAAS,EAAE0C,4BAAY,CACrBhJ,MAAM,CAAC4oB,SAAS,EAChBU,0BAA0B,CAAC8E,MAAM,CAAC7P,eAAe,EAAE6P,MAAM,CAACrC,UAAU,CAAC,CACtE;IACDtjB,KAAK,EAAE;MACL8C,IAAI,uBAAqB2mB,UAAU,MAAG;MACtC1yB,MAAM,EAAKwyB,SAAS,GAAG3H,SAAS,OAAI;MACpC/G,IAAI,EAAK2O,UAAU,GAAG,EAAE,MAAG;MAC3B3yB,KAAK,aAAU,GAAG,GAAG2yB,UAAU,GAAG,EAAE,cAAU;MAC9ClyB,MAAM,EAAE;;KAGTqgB,KAAK,CAACoP,cAAc,GACnB90B,oBAAC8zB,uBAAO;IACNC,SAAS;IACTC,eAAe,EAAE,EAAE;IACnBC,aAAa,EAAE,IAAI;IACnBC,kBAAkB,EAAE,IAAI;IACxBC,WAAW;KAEXn0B,oBAACo0B,8BAAc,QAAEuD,WAAW,CAAkB,EAC9C33B,oBAACq0B,8BAAc;uBACI1B,QAAQ;IACzB/mB,SAAS,EAAE0C,4BAAY,CACrBhJ,MAAM,CAACmpB,cAAc,EACrBG,0BAA0B,CACxB8E,MAAM,CAAC7P,eAAe,EACtB6P,MAAM,CAACrC,UAAU,CAClB;KAGHrxB,oBAACusB,mBAAmB;IAAC7G,KAAK,EAAEA;IAAS,CACtB,CACT,GAEViS,WACD,CACI;AAEX,CAAC;;ACtFM,IAAMC,aAAa,GAAkC,SAA/CA,aAAaA,CAAA5wB,IAAA;MACxB0e,KAAK,GAAA1e,IAAA,CAAL0e,KAAK;IACL8R,UAAU,GAAAxwB,IAAA,CAAVwwB,UAAU;IACV7H,SAAS,GAAA3oB,IAAA,CAAT2oB,SAAS;IACT2H,SAAS,GAAAtwB,IAAA,CAATswB,SAAS;IACTC,UAAU,GAAAvwB,IAAA,CAAVuwB,UAAU;IACVM,IAAI,GAAA7wB,IAAA,CAAJ6wB,IAAI;EAEJ,IAAAJ,kBAAA,GAAmB7B,iBAAiB,EAAE;IAA9BtwB,MAAM,GAAAmyB,kBAAA,CAANnyB,MAAM;EACd,IAAA4tB,SAAA,GAA2BnE,QAAQ,EAAE;IAA7BuC,cAAc,GAAA4B,SAAA,CAAd5B,cAAc;EACtB,IAAMoC,MAAM,GAAGpC,cAAc,CAAC5L,KAAK,CAACgH,QAAkB,CAAC;;EAGvD,IAAMoL,mBAAmB,GAAG93B,iBAAiB,CAAC;IAC5C,OAAO63B,IAAI,KAAK,KAAK,GAAGnS,KAAK,CAACqS,iBAAiB,GAAGrS,KAAK,CAACsS,kBAAkB;GAC3E,EAAE,CAACtS,KAAK,EAAEmS,IAAI,CAAC,CAAC;EAEjB,IAAI73B,oBAAoB,CAAC83B,mBAAmB,CAAC,EAAE;IAC7C,OAAO93B,kBAAkB,CAAC83B,mBAAyC,EAAE;MACnEpS,KAAK,EAALA,KAAK;MACL9Z,SAAS,EAAE0C,4BAAY,CACpBwpB,mBAAmB,CAAC7sB,KAAa,CAACW,SAAS,EAC5CtG,MAAM,CAAC4oB,SAAS,CACjB;MACDngB,KAAK,EAAA3H,QAAA,KACC0xB,mBAAmB,CAAC7sB,KAAa,CAAC8C,KAAK;QAC3C8C,IAAI,uBAAqB2mB,UAAU,MAAG;QACtC1yB,MAAM,EAAKwyB,SAAS,GAAG3H,SAAS,OAAI;QACpC/G,IAAI,EAAK2O,UAAU,GAAG,EAAE,MAAG;QAC3B3yB,KAAK,aAAU,GAAG,GAAG2yB,UAAU,GAAG,EAAE,cAAU;QAC9ClyB,MAAM,EAAE;;KAEX,CAAC;;;EAIJ,OAEMrF,oBAACq3B,gBAAgB;IACfp3B,GAAG,EAAEylB,KAAK,CAACxT,EAAE;IACbwT,KAAK,EAAEA,KAAK;IACZgO,MAAM,EAAEA,MAAM;IACd/D,SAAS,EAAEA,SAAS;IACpB2H,SAAS,EAAEA,SAAS;IACpBC,UAAU,EAAEA,UAAU;IACtBC,UAAU,EAAEA;IACZ;AAIV,CAAC;;AChDM,IAAMS,WAAW,GAAG,SAAdA,WAAWA,CAAIC,aAAuB,EAAEC,QAAgB;;EAEnE,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAIvF,MAAgB;IAC9C,OAAOA,MAAM,CAAClgB,GAAG,CAAC,UAAC+S,KAAK;MAAA,OAAAtf,QAAA,KACnBsf,KAAK;QACRxT,EAAE,EAAEwT,KAAK,CAACxT,EAAE,IAAImmB,OAAM;;KACtB,CAAC;GACJ;EAED,IAAA3pB,SAAA,GAA4CC,cAAQ,CAClDypB,sBAAsB,CAACF,aAAa,IAAI,EAAE,CAAC,CAC5C;IAFMI,cAAc,GAAA5pB,SAAA;IAAE6pB,iBAAiB,GAAA7pB,SAAA;;EAKxC,IAAM8pB,WAAW,GAAG,SAAdA,WAAWA,CAAIC,UAAkB;IACrC,OAAO,IAAIv5B,IAAI,CACb,IAAIA,IAAI,CAACu5B,UAAU,CAAC,CAACjD,cAAc,CAACr2B,SAAS,EAAE;MAAE1B,QAAQ,EAAE06B;KAAU,CAAC,CACvE;GACF;;EAGD,IAAMO,gBAAgB,GAAG,SAAnBA,gBAAgBA,CACpBC,IAAY,EACZlD,KAAa;IAEb,IAAMmD,WAAW,GAAG,IAAI15B,IAAI,CAACy5B,IAAI,EAAElD,KAAK,GAAG,CAAC,EAAE,CAAC,CAAC,CAACoD,OAAO,EAAE,CAAC;IAE3D,IAAMC,mBAAmB,GAA6B,EAAE;;IAGxD,KAAK,IAAIxL,GAAG,GAAG,CAAC,EAAEA,GAAG,IAAIsL,WAAW,EAAEtL,GAAG,EAAE,EAAE;MAC3C,IAAM5uB,IAAI,GAAG,IAAIQ,IAAI,CAACy5B,IAAI,EAAElD,KAAK,EAAEnI,GAAG,CAAC;MACvC,IAAMmL,UAAU,GAAG/5B,IAAI,CAACq6B,WAAW,EAAE,CAAC33B,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MACnD03B,mBAAmB,CAACL,UAAU,CAAC,GAAG,EAAE;;;IAItCH,cAAc,CAACtZ,OAAO,CAAC,UAAC0G,KAAK;MAC3B,IAAM4O,UAAU,GAAGkE,WAAW,CAAC9S,KAAK,CAAC8G,KAAK,CAAC;MAC3C,IAAMgI,QAAQ,GAAGgE,WAAW,CAAC9S,KAAK,CAAC+G,GAAG,CAAC;MAEvC,IAAMwI,WAAW,GAAG,IAAI/1B,IAAI,CAACo1B,UAAU,CAAC;MAExC,OAAOW,WAAW,IAAIT,QAAQ,EAAE;QAC9B,IAAMiE,WAAU,GAAGxD,WAAW,CAAC8D,WAAW,EAAE,CAAC33B,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;;QAG1D,IAAI03B,mBAAmB,CAACL,WAAU,CAAC,EAAE;UACnCK,mBAAmB,CAACL,WAAU,CAAC,CAACnN,IAAI,CAAC5F,KAAK,CAAC;;;QAI7CuP,WAAW,CAAC+D,OAAO,CAAC/D,WAAW,CAAC4D,OAAO,EAAE,GAAG,CAAC,CAAC;;KAEjD,CAAC;IAEF,OAAOC,mBAAmB;GAC3B;;EAGD,IAAMG,QAAQ,GAAG,SAAXA,QAAQA,CAAIvT,KAAa;IAC7B,IAAMwT,WAAW,GAAA9yB,QAAA,KACZsf,KAAK;MACRxT,EAAE,EAAEwT,KAAK,CAACxT,EAAE,IAAImmB,OAAM;MACvB;IACDE,iBAAiB,CAAC,UAACY,UAAU;MAAA,UAAAC,MAAA,CAASD,UAAU,GAAED,WAAW;KAAC,CAAC;GAChE;;EAGD,IAAMG,aAAa,GAAG,SAAhBA,aAAaA,CAAIpK,SAAiB;IACtC,IAAMqK,UAAU,GAAgB,EAAE;IAClC,IAAM9M,KAAK,GAAGgM,WAAW,CAACvJ,SAAS,CAAC;IAAC,IAAAsK,KAAA,YAAAA,QAET;MAC1B,IAAMtE,WAAW,GAAG,IAAI/1B,IAAI,CAACstB,KAAK,CAAC;MACnCyI,WAAW,CAAC+D,OAAO,CAACxM,KAAK,CAACqM,OAAO,EAAE,GAAGrb,CAAC,CAAC;MACxC,IAAMib,UAAU,GAAGxD,WAAW,CAAC8D,WAAW,EAAE,CAAC33B,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MAE1D,IAAMo4B,YAAY,GAAe/lB,KAAK,CAAC2L,IAAI,CACzC;QAAExe,MAAM,EAAE;OAAI,EACd,UAAC64B,CAAC,EAAE5mB,KAAK;QAAA,OAAM;UACb6mB,IAAI,EAAK/a,MAAM,CAACrK,IAAI,CAACqlB,KAAK,CAAC9mB,KAAK,GAAG,CAAC,CAAC,CAAC,CAACqe,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,UACrDre,KAAK,GAAG,CAAC,KAAK,CAAC,GAAG,IAAI,GAAG,IAC3B,CAAE;UACFggB,MAAM,EAAE;SACT;OAAC,CACH;MAED,IAAM+G,aAAa,GAAa,EAAE;MAElCtB,cAAc,CAACtZ,OAAO,CAAC,UAAC0G,KAAK;QAC3B,IAAM4O,UAAU,GAAGkE,WAAW,CAAC9S,KAAK,CAAC8G,KAAK,CAAC;QAC3C,IAAMgI,QAAQ,GAAGgE,WAAW,CAAC9S,KAAK,CAAC+G,GAAG,CAAC;QAEvC,IAAI/G,KAAK,CAACmU,SAAS,EAAE;UACnB,IACEvF,UAAU,CAACyE,WAAW,EAAE,CAAC33B,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAIq3B,UAAU,IACpDjE,QAAQ,CAACuE,WAAW,EAAE,CAAC33B,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAIq3B,UAAU,EAClD;YACAmB,aAAa,CAACtO,IAAI,CAAC5F,KAAK,CAAC;;UAE3B,OAAO;;QAGT,IACE4O,UAAU,CAACyE,WAAW,EAAE,CAAC33B,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAIq3B,UAAU,IACpDjE,QAAQ,CAACuE,WAAW,EAAE,CAAC33B,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAIq3B,UAAU,EAClD;UACA,IAAMqB,WAAW,GAAG,IAAI56B,IAAI,CAACo1B,UAAU,CAAC;UAExC,OAAOwF,WAAW,IAAItF,QAAQ,EAAE;YAC9B,IAAMuF,cAAc,GAAGD,WAAW,CAACf,WAAW,EAAE,CAAC33B,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAC9D,IAAI24B,cAAc,KAAKtB,UAAU,EAAE;cACjC,IAAMuB,SAAS,GACbF,WAAW,CAAC1K,QAAQ,EAAE,GAAG,CAAC,IACzB0K,WAAW,CAACxK,UAAU,EAAE,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;cAC1C,IAAIkK,YAAY,CAACQ,SAAS,CAAC,EAAE;gBAC3BR,YAAY,CAACQ,SAAS,CAAC,CAACnH,MAAM,CAACvH,IAAI,CAAC5F,KAAK,CAAC;;;YAG9CoU,WAAW,CAACG,UAAU,CAACH,WAAW,CAACxK,UAAU,EAAE,GAAG,EAAE,CAAC;;;OAG1D,CAAC;MAEFgK,UAAU,CAAChO,IAAI,CAAC;QACd5sB,IAAI,EAAE+5B,UAAU;QAChBmB,aAAa,EAAbA,aAAa;QACbM,SAAS,EAAEV;OACZ,CAAC;KACH;IAzDD,KAAK,IAAIhc,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE;MAAA+b,KAAA;;IA2D1B,OAAOD,UAAU;GAClB;EAED,OAAO;IACLZ,gBAAgB,EAAhBA,gBAAgB;IAChBO,QAAQ,EAARA,QAAQ;IACRI,aAAa,EAAbA;GACD;AACH,CAAC;;AClKD;AACA,AAGO,IAAMc,gBAAgB,GAAG,SAAnBA,gBAAgBA;EAC3B,IAAM70B,MAAM,GAAG;IACb8T,SAAS,EAAE/I,OAAG,CAAC;MACb9E,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAQ;MACvB5G,KAAK,EAAE,mBAAmB;MAC1BE,MAAM,EAAE,OAAO;MACfwB,QAAQ,EAAE,QAAQ;MAClBvC,OAAO,EAAE;KACV,CAAC;IACFoK,MAAM,EAAEkC,OAAG,CAAC;MACV9E,OAAO,EAAE,MAAM;MACfE,cAAc,EAAE,eAAe;MAC/BC,UAAU,EAAE,QAAQ;MACpBvG,YAAY,EAAE,MAAM;MACpBkoB,YAAY,iBAAenpB,sBAAM,CAAC4f;KACnC,CAAC;IACFsW,OAAO,EAAE/pB,OAAG,CAAC;MACX9E,OAAO,EAAE,MAAM;MACfwF,mBAAmB,EAAE,UAAU;MAC/B+E,gBAAgB,EAAE,4BAA4B;MAC9ChR,MAAM,EAAE,qBAAqB;MAC7BspB,SAAS,EAAE,MAAM;MACjB7H,MAAM,iBAAeriB,sBAAM,CAAC4f,mBAAqB;MACjD/e,SAAS,EAAE,aAAa;MACxB+wB,cAAc,EAAE,MAAM;MACtBC,cAAc,EAAK7xB,sBAAM,CAAC8pB,oBAAoB,SAAI9pB,sBAAM,CAACqpB,uBAAyB;MAClF,sBAAsB,EAAE;QACtB3oB,KAAK,EAAE;OACR;MACD,4BAA4B,EAAE;QAC5BD,UAAU,EAAET,sBAAM,CAACqpB;OACpB;MACD,4BAA4B,EAAE;QAC5B5oB,UAAU,EAAET,sBAAM,CAAC8pB,oBAAoB;QACvCJ,YAAY,EAAE;OACf;MACD,kCAAkC,EAAE;QAClCjpB,UAAU,EAAET,sBAAM,CAAC4qB;;KAEtB,CAAC;IACFkH,WAAW,EAAE3lB,OAAG,CAAC;MACf4lB,UAAU,EAAE,GAAG;MACfpS,eAAe,EAAE3f,sBAAM,CAACiuB,uBAAuB;MAC/C9E,YAAY,iBAAenpB,sBAAM,CAACgyB;KACnC,CAAC;IACFC,UAAU,EAAE9lB,OAAG,CAAC;MACd4lB,UAAU,EAAE,GAAG;MACfG,OAAO,EAAE,aAAa;MACtB7qB,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAQ;MACvBqY,eAAe,EAAE3f,sBAAM,CAACqpB,uBAAuB;MAC/C8I,WAAW,iBAAenyB,sBAAM,CAAC4f;KAClC,CAAC;IACFwS,QAAQ,EAAEjmB,OAAG,CAAC;MACZvL,MAAM,EAAE,MAAM;MACdC,SAAS,EAAE,MAAM;MACjBoU,SAAS,EAAE,MAAM;MACjB5N,OAAO,EAAE,MAAM;MACfG,UAAU,EAAE,QAAQ;MACpBwc,QAAQ,EAAE,MAAM;MAChBpR,KAAK,EAAE5S,sBAAM,CAACqyB,uBAAuB;MACrClJ,YAAY,iBAAenpB,sBAAM,CAAC4f,mBAAqB;MACvDrY,cAAc,EAAE;KACjB,CAAC;IACF+qB,UAAU,EAAEnmB,OAAG,CAAC;MACd+lB,OAAO,EAAE,GAAG;MACZ7qB,OAAO,EAAE,MAAM;MACfwF,mBAAmB,EAAE,WAAW;MAChC1K,GAAG,EAAE,GAAG;MACRtC,OAAO,EAAE,GAAG;MACZ8f,eAAe,EAAE3f,sBAAM,CAACwpB,uBAAuB;MAC/CL,YAAY,iBAAenpB,sBAAM,CAACupB;KACnC,CAAC;IACFgJ,YAAY,EAAEpmB,OAAG,CAAC;MAChB4lB,UAAU,EAAE,GAAG;MACf1qB,OAAO,EAAE,MAAM;MACfG,UAAU,EAAE,QAAQ;MACpBD,cAAc,EAAE,QAAQ;MACxBoc,YAAY,EAAE,QAAQ;MACtB/Q,KAAK,EAAE5S,sBAAM,CAAC8pB,oBAAoB;MAClCjqB,OAAO,EAAE,KAAK;MACdsyB,WAAW,iBAAenyB,sBAAM,CAAC4f,mBAAqB;MACtDuJ,YAAY,iBAAenpB,sBAAM,CAACupB;KACnC,CAAC;IACFiJ,WAAW,EAAErmB,OAAG,CAAC;MACfgmB,WAAW,iBAAenyB,sBAAM,CAAC4f,mBAAqB;MACtDvY,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,KAAK;MACpBnF,GAAG,EAAE,KAAK;MACVtC,OAAO,EAAE,KAAK;MACdspB,YAAY,iBAAenpB,sBAAM,CAACupB,mBAAqB;MACvDnnB,QAAQ,EAAE;KACX,CAAC;IACFqwB,YAAY,EAAEtmB,OAAG,CAAC;MAChBQ,IAAI,EAAE,UAAU;MAChBD,QAAQ,EAAE,MAAM;MAChB9L,MAAM,EAAE,MAAM;MACdf,OAAO,EAAE,SAAS;MAClB8f,eAAe,EAAE3f,sBAAM,CAAC8pB,oBAAoB;MAC5ClX,KAAK,EAAE5S,sBAAM,CAACsqB,6BAA6B;MAC3CZ,YAAY,EAAE,KAAK;MACnBtnB,QAAQ,EAAE,QAAQ;MAElBiF,OAAO,EAAE,MAAM;MACfG,UAAU,EAAE,QAAQ;MACpBD,cAAc,EAAE;KACjB,CAAC;IACFmrB,aAAa,EAAEvmB,OAAG,CAAC;MACjBiB,SAAS,EAAE,QAAQ;MACnBuS,eAAe,EAAE3f,sBAAM,CAACwpB,uBAAuB;MAC/C3pB,OAAO,EAAE,KAAK;MACdokB,UAAU,EAAE,MAAM;MAClBkF,YAAY,iBAAenpB,sBAAM,CAAC4f;KACnC,CAAC;IACF+S,eAAe,EAAExmB,OAAG,CAAC;MACnB0d,SAAS,iBAAe7pB,sBAAM,CAAC8pB;KAChC,CAAC;IACFE,SAAS,EAAE7d,OAAG,CAAC;MACb3E,UAAU,EAAE,QAAQ;MACpBD,cAAc,EAAE,QAAQ;MACxBxG,WAAW,EAAE,KAAK;MAClB0e,MAAM,EAAE,CAAC;MACTL,QAAQ,EAAE,UAAU;MACpBuE,YAAY,EAAE,QAAQ;MAEtBvhB,QAAQ,EAAE;KAQX,CAAC;IAEFywB,OAAO,EAAE1mB,OAAG,CAAC;MACXgd,YAAY,iBAAenpB,sBAAM,CAAC4f,mBAAqB;MACvDuS,WAAW,iBAAenyB,sBAAM,CAAC4f,mBAAqB;MACtDR,QAAQ,EAAE,UAAU;MACpBhd,QAAQ,EAAE,SAAS;MACnB0wB,aAAa,EAAE,QAAQ;MACvB3wB,GAAG,EAAE;KACN,CAAC;IACF4wB,oBAAoB,EAAE5mB,OAAG,CAAC;MACxBiT,QAAQ,EAAE,UAAU;MACpBsF,IAAI,EAAE,CAAC;MACP9jB,MAAM,EAAE,KAAK;MACb+e,eAAe,EAAE3f,sBAAM,CAACgzB,2BAA2B;MACnDtyB,KAAK,EAAE,MAAM;MACb+e,MAAM,EAAE;KACT,CAAC;IACFwT,mBAAmB,EAAE9mB,OAAG,CAAC;MACvBkW,MAAM,iBAAeriB,sBAAM,CAACgzB;KAC7B,CAAC;IACF9D,UAAU,EAAE/iB,OAAG,CAAC;MACd9E,OAAO,EAAE,aAAa;MACtB,oBAAoB,EAAE,GAAG;MACzB,oBAAoB,EAAE,UAAU;MAChC+F,SAAS,EAAE,OAAO;MAClBD,YAAY,EAAE,UAAU;MACxB7M,WAAW,EAAE,KAAK;MAClBiV,SAAS,EAAE,YAAY;MACvBnT,QAAQ,EAAE;KACX;GACF;EAED,IAAMsoB,0BAA0B,GAAG,SAA7BA,0BAA0BA,CAC9B/K,eAAuB,EACvBuT,UAAkB;IAElB,OAAO/mB,OAAG,CAAC;MACTwT,eAAe,EAAEA,eAAe,WAAfA,eAAe,GAAI3f,sBAAM,CAAC8pB,oBAAoB;MAC/D,QAAQ,EAAE;QACRnK,eAAe,EAAEuT,UAAU,WAAVA,UAAU,GAAIlzB,sBAAM,CAAC4qB;;KAEzC,CAAC;GACH;EAED,OAAO;IAAExpB,MAAM,EAANA,MAAM;IAAEspB,0BAA0B,EAA1BA;GAA4B;AAC/C,CAAC;;AChKD,IAAMyL,UAAU,GAAG,EAAE;AAErB,AAAO,IAAMC,OAAO,GAA4B,SAAnCA,OAAOA,CAA6BrvB,KAAoB;EACnE,IAAQ4nB,MAAM,GAAyB5nB,KAAK,CAApC4nB,MAAM;IAAE/E,UAAU,GAAa7iB,KAAK,CAA5B6iB,UAAU;IAAEhpB,MAAM,GAAKmG,KAAK,CAAhBnG,MAAM;EAClC,IAAAy1B,iBAAA,GAAmBJ,gBAAgB,EAAE;IAA7B70B,MAAM,GAAAi1B,iBAAA,CAANj1B,MAAM;EACd,IAAAoJ,SAAA,GAAsBC,cAAQ,CAACmf,UAAU,CAAC;IAAnCmH,WAAW,GAAAvmB,SAAA;EAClB,IAAM8rB,WAAW,GAAGrV,YAAM,CAAiB,IAAI,CAAC;EAChD,IAAA+N,SAAA,GAAwCnE,QAAQ,EAAE;IAA1CC,YAAY,GAAAkE,SAAA,CAAZlE,YAAY;IAAEqD,aAAa,GAAAa,SAAA,CAAbb,aAAa;EACnC,IAAM50B,QAAQ,GAAGH,IAAI,CAACC,cAAc,EAAE,CAACC,eAAe,EAAE,CAACC,QAAQ;EACjE,IAAAg9B,YAAA,GAA0BxC,WAAW,CAACpF,MAAM,EAAEp1B,QAAQ,CAAC;IAA/C47B,aAAa,GAAAoB,YAAA,CAAbpB,aAAa;EACrB,IAAMqB,gBAAgB,GAAG16B,iBAAiB,CAAC;IACzC,OAAOyT,KAAK,CAAC2L,IAAI,CAAC;MAAExe,MAAM,EAAE;KAAI,EAAE,UAAC64B,CAAC,EAAEkB,IAAI;MAAA,OACxC36B,oBAACA,cAAc;QAACC,GAAG,EAAE06B;SACnB36B;QAAK4L,SAAS,EAAEtG,MAAM,CAACgxB;SACrBt2B,oBAACqe,2BAAW,aAAGsc,IAAI,SAAmB,CAClC,EACN36B;QAAK4L,SAAS,EAAEtG,MAAM,CAACgxB;QAAY,CACpB;KAClB,CAAC;GACH,EAAE,CAAChxB,MAAM,CAACgxB,QAAQ,CAAC,CAAC;EAErB,IAAMsE,gBAAgB,GAAG56B,iBAAiB,CAAC;IACzC,OACEA,0CAEEA;MAAK4L,SAAS,EAAEtG,MAAM,CAAC0wB;MAAe,EAErCviB,KAAK,CAAC2L,IAAI,CAAC;MAAExe,MAAM,EAAE;KAAG,EAAE,UAAC64B,CAAC,EAAEoB,QAAQ;MACrC,IAAMvN,GAAG,GAAGwN,eAAO,CAAC7F,WAAW,EAAE4F,QAAQ,CAAC;MAC1C,IAAME,YAAY,GAAGC,eAAO,CAAC1N,GAAG,CAAC,GAAGhoB,MAAM,CAACuxB,eAAe,GAAG,EAAE;MAE/D,OACE72B;QACEC,GAAG,EAAE46B,QAAQ;QACbjvB,SAAS,EAAE0C,4BAAY,CAAChJ,MAAM,CAACsxB,aAAa,EAAEmE,YAAY;SAE1D/6B,oBAACsqB,oBAAI;QAAC2Q,MAAM,EAAC,UAAU;QAAC3jB,IAAI,EAAE,GAAG;QAAEvJ,KAAK,EAAE;UAAEtJ,YAAY,EAAE;;SACvDzF,cAAM,CAACsuB,GAAG,EAAE,IAAI,CAAC,CACb,EACPttB,oBAAC4kB,yBAAS,QAAE5lB,cAAM,CAACsuB,GAAG,EAAE,YAAY,CAAC,CAAa,CAC9C;KAET,CAAC,CACD;GAEN,EAAE,CACD2H,WAAW,EACX3vB,MAAM,CAAC0wB,WAAW,EAClB1wB,MAAM,CAACsxB,aAAa,EACpBtxB,MAAM,CAACuxB,eAAe,CACvB,CAAC;EAEF,IAAMqE,mBAAmB,GAAGl7B,iBAAiB,CAAC;IAC5C,IAAMs5B,UAAU,GAAGD,aAAa,CAACpE,WAAW,CAAC8D,WAAW,EAAE,CAAC;IAC3D,OACE/4B,0CACEA;MAAK4L,SAAS,EAAEtG,MAAM,CAACmxB;OACrBz2B,oBAACmnB,qBAAK,kBAAgB,CAClB,EACL1T,KAAK,CAAC2L,IAAI,CAAC;MAAExe,MAAM,EAAE;KAAG,EAAE,UAAC64B,CAAC,EAAEoB,QAAQ;MACrC,IAAMM,OAAO,GAAGn8B,cAAM,CAAC87B,eAAO,CAAC7F,WAAW,EAAE4F,QAAQ,CAAC,EAAE,YAAY,CAAC;MACpE,IAAMO,SAAS,GAAG9B,UAAU,CAACx7B,IAAI,CAAC,UAACwvB,GAAG;QAAA,OAAKA,GAAG,CAAC5uB,IAAI,KAAKy8B,OAAO;QAAC;MAChE,IAAMvB,aAAa,GAAG,CAAAwB,SAAS,oBAATA,SAAS,CAAExB,aAAa,KAAI,EAAE;MACpD,OACE55B;QAAKC,GAAG,EAAE46B,QAAQ;QAAEjvB,SAAS,EAAEtG,MAAM,CAACoxB;SACnCkD,aAAa,CAACjnB,GAAG,CAAC,UAAC+S,KAAK;QAAA,OACvB1lB;UACEC,GAAG,EAAEylB,KAAK,CAACxT,EAAE;UACbtG,SAAS,EAAEtG,MAAM,CAACqxB,YAAY;UAC9B5oB,KAAK,EAAE;YACLkoB,UAAU,QAAK4E,QAAQ,GAAG,CAAC,CAAE;YAC7BhX,eAAe,EAAEwO,aAAa,CAAC3M,KAAK,CAACjU,KAAK;;WAG5CzR,oBAACmnB,qBAAK;UAACvb,SAAS,EAAEtG,MAAM,CAAC8tB;WAAa1N,KAAK,CAACjU,KAAK,CAAS,CACtD;OACP,CAAC,CACE;KAET,CAAC,CACD;GAEN,EAAE,CACDwjB,WAAW,EACX5C,aAAa,EACbgH,aAAa,EACb/zB,MAAM,CAACoxB,WAAW,EAClBpxB,MAAM,CAACqxB,YAAY,EACnBrxB,MAAM,CAACmxB,YAAY,EACnBnxB,MAAM,CAAC8tB,UAAU,CAClB,CAAC;;EAEF,IAAMiI,cAAc,GAAGr7B,iBAAiB,CAAC;IACvC,IAAMs5B,UAAU,GAAGD,aAAa,CAACpE,WAAW,CAAC8D,WAAW,EAAE,CAAC;;IAE3D,OAAOtlB,KAAK,CAAC2L,IAAI,CAAC;MAAExe,MAAM,EAAE;KAAG,EAAE,UAAC64B,CAAC,EAAEoB,QAAQ;MAC3C,IAAMM,OAAO,GAAGn8B,cAAM,CAAC87B,eAAO,CAAC7F,WAAW,EAAE4F,QAAQ,CAAC,EAAE,YAAY,CAAC;MACpE,IAAMO,SAAS,GAAG9B,UAAU,CAACx7B,IAAI,CAAC,UAACwvB,GAAG;QAAA,OAAKA,GAAG,CAAC5uB,IAAI,KAAKy8B,OAAO;QAAC;MAEhE,OACEn7B,0CACGo7B,SAAS,oBAATA,SAAS,CAAElB,SAAS,CAACvnB,GAAG,CAAC,UAAC2oB,QAAQ,EAAEtB,SAAS;QAC5C,IAAMxC,UAAU,GAAG8D,QAAQ,CAACzI,MAAM,CAACjyB,MAAM,CAAC;QAE1C,OACEZ;UACEC,GAAG,EAAE+5B,SAAS;UACdpuB,SAAS,EAAEtG,MAAM,CAACyxB,OAAO;UACzBhpB,KAAK,EAAE;YACLqoB,OAAO,EAAE4D,SAAS,GAAG;;WAGtBsB,QAAQ,CAACzI,MAAM,CAAClgB,GAAG,CAAC,UAAC+S,KAAK,EAAE6R,UAAU;UACrC,IAAMtI,SAAS,GAAG,IAAI/vB,IAAI,CAACwmB,KAAK,CAAC8G,KAAK,CAAC;UACvC,IAAM0C,OAAO,GAAG,IAAIhwB,IAAI,CAACwmB,KAAK,CAAC+G,GAAG,CAAC;;UAGnC,IAAA8O,aAAA,GAAiCvM,YAAY,CAC3CC,SAAS,EACTC,OAAO,CACR;YAHOS,SAAS,GAAA4L,aAAA,CAAT5L,SAAS;YAAEJ,SAAS,GAAAgM,aAAA,CAAThM,SAAS;;UAM5B,IAAIyK,SAAS,KAAKzK,SAAS,EAAE;YAC3B,IAAMqF,YAAY,GAAGlP,KAAK,oBAALA,KAAK,CAAEqS,iBAAiB;;YAE7C,IAAI/3B,oBAAoB,CAAC40B,YAAY,CAAC,EAAE;cACtC,OAAO50B,kBAAkB,CACvB40B,YAAkC,EAClC,EAAE,CACH;;;YAIH,OACE50B,oBAAC43B,aAAa;cACZ33B,GAAG,EAAEylB,KAAK,CAACxT,EAAE;cACbwT,KAAK,EAAEA,KAAK;cACZ8R,UAAU,EAAEA,UAAU;cACtB7H,SAAS,EAAEA,SAAS;cACpB2H,SAAS,EAAE+C,UAAU;cACrB9C,UAAU,EAAEA,UAAU;cACtBM,IAAI,EAAC;cACL;;UAIN,OAAO,IAAI,CAAC;SACb,CAAC,CACE;OAET,CAAC,CACD;KAEN,CAAC;GACH,EAAE,CAAC5C,WAAW,EAAEjG,YAAY,EAAEqK,aAAa,EAAE/zB,MAAM,CAACyxB,OAAO,CAAC,CAAC;EAE9D,OACE/2B;IAAK4L,SAAS,EAAEtG,MAAM,CAAC8T,SAAS;IAAErL,KAAK,EAAE;MAAEjJ,MAAM,EAAEA;;KAEjD9E;IAAK4M,GAAG,EAAE4tB,WAAW;IAAE5uB,SAAS,EAAEtG,MAAM,CAAC80B;KACvCp6B;IAAK4L,SAAS,EAAEtG,MAAM,CAAC6wB;KAAauE,gBAAgB,EAAE,CAAO,EAC5DE,gBAAgB,EAAE,EAClBM,mBAAmB,EAAE,EACrBG,cAAc,EAAE,CACb,CACF;AAEV,CAAC;;AChMD,IAAYG,cAIX;AAJD,WAAYA,cAAc;EACtBA,6BAAW;EACXA,+BAAa;EACbA,iCAAe;AACnB,CAAC,EAJWA,cAAc,KAAdA,cAAc;;ACA1B;AACA,AA+BO,IAAMC,kBAAkB,GAE3B,SAFSA,kBAAkBA,CAE1BxwB,KAAwD;EAC3D,IAAQywB,UAAU,GAAYzwB,KAAK,CAA3BywB,UAAU;IAAEj7B,KAAK,GAAKwK,KAAK,CAAfxK,KAAK;;EAGzB,IAAAoM,eAAA,GAAwC7M,cAAc,CACpDS,KAAK,WAALA,KAAK,GAAI+6B,cAAc,CAACG,KAAK,CAC9B;IAFMC,YAAY,GAAA/uB,eAAA;IAAEgvB,eAAe,GAAAhvB,eAAA;EAIpC,IAAAE,gBAAA,GAA0C/M,cAAc,CAEtD;MACA63B,IAAI,EAAE,CAACp3B,KAAK,WAALA,KAAK,GAAI+6B,cAAc,CAACG,KAAK;KACrC,CAAC;IAJKG,aAAa,GAAA/uB,gBAAA;IAAEgvB,gBAAgB,GAAAhvB,gBAAA;EAMtC,IAAMutB,OAAO,GAAGlf,qBAAU,CAAC4gB,4BAAiB,EAAEC,6BAAkB,CAAC;EACjE,IAAMC,SAAS,GAAG9gB,qBAAU,CAAC+gB,8BAAmB,EAAEC,+BAAoB,CAAC;EACvE,IAAMC,QAAQ,GAAGjhB,qBAAU,CAACkhB,iCAAsB,EAAEC,kCAAuB,CAAC;EAE5Ev8B,eAAe,CAAC;;IAEd,IAAIS,KAAK,KAAKtB,SAAS,EAAE;MACvB08B,eAAe,CAACp7B,KAAK,CAAC;MACtBs7B,gBAAgB,CAAC;QAAElE,IAAI,EAAE,CAACp3B,KAAK;OAAG,CAAC;;GAEtC,EAAE,CAACA,KAAK,CAAC,CAAC;EAEX,IAAAod,gBAAA,GAAwB7d,cAAc,CAAC,KAAK,CAAC;IAAtC8iB,IAAI,GAAAjF,gBAAA;IAAE2e,OAAO,GAAA3e,gBAAA;EACpB,IAAM4e,YAAY,GAA8B,SAA1CA,YAAYA,CAA+B3d,EAAE,EAAEvU,IAAI;IACvDiyB,OAAO,CAACjyB,IAAI,CAACuY,IAAI,CAAC;GACnB;EAED,IAAM4Z,QAAQ,GAAG18B,iBAAiB,CAAC;IACjC,QAAQ47B,YAAY;MAClB,KAAKJ,cAAc,CAACG,KAAK;QACvB,OAAO37B,oBAACk8B,SAAS,OAAG;MACtB,KAAKV,cAAc,CAACmB,IAAI;QACtB,OAAO38B,oBAACq8B,QAAQ,OAAG;MACrB,KAAKb,cAAc,CAACzG,GAAG;QACrB,OAAO/0B,oBAACs6B,OAAO,OAAG;MACpB;QACE,OAAOt6B,oBAACk8B,SAAS,OAAG;;GAEzB,EAAE,CAACN,YAAY,CAAC,CAAC;EAElB,IAAMgB,YAAY,GAAG58B,iBAAiB,CAAC,UAAC63B,IAAoB;IAC1D,QAAQA,IAAI;MACV,KAAK2D,cAAc,CAACG,KAAK;QACvB,OAAO,OAAO;MAChB,KAAKH,cAAc,CAACmB,IAAI;QACtB,OAAO,MAAM;MACf,KAAKnB,cAAc,CAACzG,GAAG;QACrB,OAAO,KAAK;MACd;QACE,OAAO,OAAO;;GAEnB,EAAE,EAAE,CAAC;EAEN,IAAM8H,oBAAoB,GACxB78B,iBAAiB,CACf,UACE8e,EAAW,EAAA9X,IAAA;QACT6T,IAAI,GAAA7T,IAAA,CAAJ6T,IAAI;MAAEiiB,YAAY,GAAA91B,IAAA,CAAZ81B,YAAY;IAEpB,IAAIjiB,IAAI,KAAK,MAAM,EAAE;MACnB,IAAMkiB,OAAO,GAAGD,YAAY,CAAC,CAAC,CAAmB;MACjDjB,eAAe,CAACkB,OAAO,CAAC;MACxBhB,gBAAgB,CAAC;QAAElE,IAAI,EAAEiF;OAAc,CAAC;MACxCpB,UAAU,CAACqB,OAAO,CAAC;;GAEtB,EACD,CAACrB,UAAU,CAAC,CACb;EAEH,OACE17B,0CAEEA,oBAACwb,oBAAI;IAACsH,IAAI,EAAEA,IAAI;IAAE2Z,YAAY,EAAEA;KAC9Bz8B,oBAACyb,2BAAW;IAACC,wBAAwB;KACnC1b,oBAAC2b,0BAAU;IACTqhB,KAAK,EAAC,UAAU;IAChBxqB,IAAI,EAAEkqB,QAAQ,EAAE;IAChB3uB,KAAK,EAAE;MAAE6C,QAAQ,EAAE;;KAElBgsB,YAAY,CAAChB,YAAY,CAAC,CAChB,CACD,EACd57B,oBAAC6b,2BAAW,QACV7b,oBAAC8b,wBAAQ;IACP+gB,oBAAoB,EAAEA,oBAAoB;IAC1Cf,aAAa,EAAEA;KAEf97B,oBAACi9B,6BAAa;IACZzqB,IAAI,EAAExS,oBAACs6B,OAAO,OAAG;IACjBzf,IAAI,EAAC,MAAM;IACXpa,KAAK,EAAE+6B,cAAc,CAACzG;WAGR,EAChB/0B,oBAACi9B,6BAAa;IACZzqB,IAAI,EAAExS,oBAACq8B,QAAQ,OAAG;IAClBxhB,IAAI,EAAC,MAAM;IACXpa,KAAK,EAAE+6B,cAAc,CAACmB;YAGR,EAChB38B,oBAACi9B,6BAAa;IACZzqB,IAAI,EAAExS,oBAACk8B,SAAS,OAAG;IACnBrhB,IAAI,EAAC,MAAM;IACXpa,KAAK,EAAE+6B,cAAc,CAACG;aAGR,CACP,CACC,CACT,CACN;AAEP,CAAC;;IC/HYuB,SAAS,gBAA6Cl9B,UAAU,CAC3E,UAACiL,KAA+C;EAC9C,IAAQywB,UAAU,GAAYzwB,KAAK,CAA3BywB,UAAU;IAAEj7B,KAAK,GAAKwK,KAAK,CAAfxK,KAAK;;EAGzB,IAAAoM,eAAA,GAAwC7M,cAAc,CACpDS,KAAK,WAALA,KAAK,GAAI,IAAIvB,IAAI,EAAE,CACpB;IAFMi+B,YAAY,GAAAtwB,eAAA;IAAEuwB,eAAe,GAAAvwB,eAAA;EAGpC,IAAAE,gBAAA,GAA0C/M,cAAc,CAAS;MAC/D,IAAMq9B,WAAW,GAAG58B,KAAK,WAALA,KAAK,GAAI,IAAIvB,IAAI,EAAE;MACvC,OAAOF,kBAAM,CAACq+B,WAAW,EAAE,cAAc,CAAC;KAC3C,CAAC;IAHKC,aAAa,GAAAvwB,gBAAA;IAAEwwB,gBAAgB,GAAAxwB,gBAAA;EAKtC,IAAA8Q,gBAAA,GAAwB7d,cAAc,CAAC,KAAK,CAAC;IAAtC8iB,IAAI,GAAAjF,gBAAA;IAAE2e,OAAO,GAAA3e,gBAAA;EAEpB,IAAM4e,YAAY,GAA8Bz8B,iBAAiB,CAC/D,UACE8e,EAAO,EACPvU,IAA2D;IAE3DiyB,OAAO,CAACjyB,IAAI,CAACuY,IAAI,CAAC;GACnB,EACD,EAAE,CACH;EAED,IAAM0a,SAAS,GAAGx9B,aAAa,CAC7B;IAAA,OAAMob,qBAAU,CAAC+gB,8BAAmB,EAAEC,+BAAoB,CAAC;KAC3D,EAAE,CACH;EAED,IAAMqB,YAAY,GAAGz9B,iBAAiB,CACpC,UAACtB,IAA6B;IAC5B,IAAIA,IAAI,EAAE;MACR,IAAMjB,QAAQ,GAAGH,IAAI,CAACC,cAAc,EAAE,CAACC,eAAe,EAAE,CAACC,QAAQ;MACjE,IAAMigC,SAAS,GAAGj/B,0BAAc,CAACC,IAAI,EAAEjB,QAAQ,CAAC;MAEhD2/B,eAAe,CAACM,SAAS,CAAC;MAC1BH,gBAAgB,CAACv+B,kBAAM,CAAC0+B,SAAS,EAAE,cAAc,CAAC,CAAC;MACnDhC,UAAU,CAACgC,SAAS,CAAC;MACrBlB,OAAO,CAAC,KAAK,CAAC;;GAEjB,EACD,CAACd,UAAU,CAAC,CACb;EAED,OACE17B,oBAACwb,oBAAI;IAACsH,IAAI,EAAEA,IAAI;IAAE2Z,YAAY,EAAEA;KAC9Bz8B,oBAACyb,2BAAW;IAACC,wBAAwB;KACnC1b,oBAAC2b,0BAAU;IACTqhB,KAAK,EAAC,UAAU;IAChBxqB,IAAI,EAAExS,oBAACw9B,SAAS,OAAG;IACnBzvB,KAAK,EAAE;MAAE6C,QAAQ,EAAE;;KAElB0sB,aAAa,CACH,CACD,EACdt9B,oBAAC6b,2BAAW;IAAC9N,KAAK,EAAE;MAAElJ,QAAQ,EAAE;;KAC9B7E,oBAAC8b,wBAAQ,QACP9b,oBAAC29B,4BAAQ;IAEPC,sBAAsB;IACtBC,aAAa;IACbJ,YAAY,EAAEA,YAAY;IAC1Bh9B,KAAK,EAAE08B;IACP,CACO,CACC,CACT;AAEX,CAAC,CACF;;ACxFD,IAAMlQ,mBAAiB,GAAG,SAApBA,iBAAiBA;EACrB,OAAO;IACL9V,IAAI,EAAE9G,OAAG,CAAC;MACRytB,YAAY,EAAE;KACf;GACF;AACH,CAAC;AAQD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA,IAAaC,aAAa,GAAiD,SAA9DA,aAAaA,CACxB9yB,KAAmD;EAEnD,IAAQ+yB,YAAY,GAAqC/yB,KAAK,CAAtD+yB,YAAY;IAAEC,mBAAmB,GAAgBhzB,KAAK,CAAxCgzB,mBAAmB;IAAEzZ,SAAS,GAAKvZ,KAAK,CAAnBuZ,SAAS;EACtD,IAAMlf,MAAM,GAAG2nB,mBAAiB,EAAE;EAChC,IAAApgB,eAAA,GAAwC7M,cAAc,CAAQi+B,mBAA4B,WAA5BA,mBAA4B,GAAI,IAAI/+B,IAAI,EAAE,CAAC;IAAlGi+B,YAAY,GAAAtwB,eAAA;IAAEuwB,eAAe,GAAAvwB,eAAA;EAEpC,IAAM4wB,YAAY,GAAGz9B,iBAAiB,CAAC,UAACtB,IAAU,EAAEw/B,uBAA4C;IAC9Fd,eAAe,CAAC1+B,IAAI,CAAC;IACrBs/B,YAAY,CAACt/B,IAAI,CAAC;IAClB8lB,SAAS,EAAE;GACZ,EAAE,EAAE,CAAC;EAEN,OACExkB,0CACEA,oBAAC29B,4BAAQ;IACP/xB,SAAS,EAAEtG,MAAM,CAAC6R,IAAI;IACtBgnB,aAAa,EAAEC,iCAAa,CAACzC,KAAK;IAClCiC,sBAAsB;IACtBS,kBAAkB,EAAE,KAAK;IACzBZ,YAAY,EAAEA,YAAY;IAC1Bh9B,KAAK,EAAE08B,YAAY;IACnB3Y,SAAS,EAAEA,SAAS;IACpBqZ,aAAa,EAAE,KAAK;IACpBS,YAAY,EAAE;IACd,CACD;AAEP,CAAC;;AClGD;AACA,IA6BaC,WAAW,GAA+C,SAA1DA,WAAWA,CACtBtzB,KAAiD;EAEjD,IAAQywB,UAAU,GAAYzwB,KAAK,CAA3BywB,UAAU;IAAEj7B,KAAK,GAAKwK,KAAK,CAAfxK,KAAK;EAGzB,IAAMk9B,QAAQ,GAAGviB,qBAAU,CAAC+gB,8BAAmB,EAAEC,+BAAoB,CAAC;EACtE,IAAAvvB,eAAA,GAAwC7M,cAAc,CAAOS,KAAK,WAALA,KAAK,GAAI,IAAIvB,IAAI,EAAE,CAAC;IAA1Ei+B,YAAY,GAAAtwB,eAAA;IAAEuwB,eAAe,GAAAvwB,eAAA;EAEpC7M,eAAe,CAAC;IACd07B,UAAU,CAACj7B,KAAK,WAALA,KAAK,GAAI,IAAIvB,IAAI,EAAE,CAAC;IAC/Bk+B,eAAe,CAAC38B,KAAK,WAALA,KAAK,GAAI,IAAIvB,IAAI,EAAE,CAAC;GACrC,EAAE,CAACuB,KAAK,CAAC,CAAC;EAEX,IAAAsM,gBAAA,GAAwB/M,cAAc,CAAC,KAAK,CAAC;IAAtC8iB,IAAI,GAAA/V,gBAAA;IAAEyvB,OAAO,GAAAzvB,gBAAA;EACpB,IAAM0vB,YAAY,GAA8B,SAA1CA,YAAYA,CAA+B3d,EAAE,EAAEvU,IAAI;IACvDiyB,OAAO,CAACjyB,IAAI,CAACuY,IAAI,CAAC;GACnB;EAED,IAAMkb,YAAY,GAAGh+B,iBAAiB,CAAC,UAACtB,IAAU;IAChDg9B,UAAU,CAACh9B,IAAI,CAAC;IAChB0+B,eAAe,CAAC1+B,IAAI,CAAC;GACtB,EAAE,EAAE,CAAC;EAEN,OACEsB,0CACEA,oBAACwb,oBAAI;IAACsH,IAAI,EAAEA,IAAI;IAAE2Z,YAAY,EAAEA;KAC9Bz8B,oBAACyb,2BAAW;IAACC,wBAAwB;KACnC1b,oBAAC2b,0BAAU;IAACqhB,KAAK,EAAC,UAAU;IAACxqB,IAAI,EAAExS,oBAAC29B,QAAQ,OAAG;IAAE5vB,KAAK,EAAE;MAAC6C,QAAQ,EAAE;;KAChE5R,cAAM,CAACm+B,YAAY,EAAE,WAAW,CAAE,CACxB,CACD,EACdn9B,oBAAC6b,2BAAW,QACV7b,oBAAC8b,wBAAQ,QACP9b,oBAAC+9B,aAAa;IACZC,YAAY,EAAEA,YAAY;IAC1BC,mBAAmB,EAAEd,YAAY;IACjC3Y,SAAS,EAAE,SAAXA,SAASA;MACPgY,OAAO,CAAC,KAAK,CAAC;;IAEhB,CACO,CACC,CACT,CACN;AAEP,CAAC;;ACrDD,IAAMgC,eAAe,GAAG,SAAlBA,eAAeA,CAAIC,IAAgC;EACvD,IAAMhhC,QAAQ,GAAGH,IAAI,CAACC,cAAc,EAAE,CAACC,eAAe,EAAE,CAACC,QAAQ;EACjE,IAAMihC,UAAU,GAAG1/B,kBAAM,CAACy/B,IAAI,CAACjS,KAAK,EAAE,KAAK,EAAE;IAAE/uB,QAAQ,EAARA;GAAU,CAAC;EAC1D,IAAMkhC,QAAQ,GAAG3/B,kBAAM,CAACy/B,IAAI,CAAChS,GAAG,EAAE,KAAK,EAAE;IAAEhvB,QAAQ,EAARA;GAAU,CAAC;EACtD,IAAMmhC,SAAS,GAAG5/B,kBAAM,CAACy/B,IAAI,CAACjS,KAAK,EAAE,MAAM,EAAE;IAAE/uB,QAAQ,EAARA;GAAU,CAAC;EAC1D,IAAMohC,OAAO,GAAG7/B,kBAAM,CAACy/B,IAAI,CAAChS,GAAG,EAAE,MAAM,EAAE;IAAEhvB,QAAQ,EAARA;GAAU,CAAC;EAEtD,IAAImhC,SAAS,KAAKC,OAAO,EAAE;IACzB,OAAU7/B,kBAAM,CAACy/B,IAAI,CAACjS,KAAK,EAAE,aAAa,EAAE;MAC1C/uB,QAAQ,EAARA;KACD,CAAC,WAAMuB,kBAAM,CAACy/B,IAAI,CAAChS,GAAG,EAAE,aAAa,EAAE;MAAEhvB,QAAQ,EAARA;KAAU,CAAC;GACtD,MAAM,IAAIihC,UAAU,KAAKC,QAAQ,EAAE;IAClC,OAAU3/B,kBAAM,CAACy/B,IAAI,CAACjS,KAAK,EAAE,QAAQ,EAAE;MACrC/uB,QAAQ,EAARA;KACD,CAAC,WAAMuB,kBAAM,CAACy/B,IAAI,CAAChS,GAAG,EAAE,aAAa,EAAE;MAAEhvB,QAAQ,EAARA;KAAU,CAAC;GACtD,MAAM;IACL,OAAUuB,kBAAM,CAACy/B,IAAI,CAACjS,KAAK,EAAE,IAAI,EAAE;MAAE/uB,QAAQ,EAARA;KAAU,CAAC,WAAMuB,kBAAM,CAC1Dy/B,IAAI,CAAChS,GAAG,EACR,aAAa,EACb;MAAEhvB,QAAQ,EAARA;KAAU,CACb;;AAEL,CAAC;AAED;AACA,IAAMqhC,YAAY,GAAG,SAAfA,YAAYA,CAAIpgC,IAAU;EAC9B,IAAMjB,QAAQ,GAAGH,IAAI,CAACC,cAAc,EAAE,CAACC,eAAe,EAAE,CAACC,QAAQ;EACjE,IAAMigC,SAAS,GAAGj/B,0BAAc,CAACC,IAAI,EAAEjB,QAAQ,CAAC;EAEhD,IAAM+uB,KAAK,GAAG,IAAIttB,IAAI,CAACw+B,SAAS,CAAC;EACjClR,KAAK,CAACwM,OAAO,CAAC0E,SAAS,CAAC7E,OAAO,EAAE,GAAG6E,SAAS,CAACqB,MAAM,EAAE,CAAC,CAAC;EAExD,IAAMtS,GAAG,GAAG,IAAIvtB,IAAI,CAACstB,KAAK,CAAC;EAC3BC,GAAG,CAACuM,OAAO,CAACxM,KAAK,CAACqM,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;EAEjC,OAAO;IACLrM,KAAK,EAAE/tB,0BAAc,CAAC+tB,KAAK,EAAE/uB,QAAQ,CAAC;IACtCgvB,GAAG,EAAEhuB,0BAAc,CAACguB,GAAG,EAAEhvB,QAAQ;GAClC;AACH,CAAC;AAED,IAAauhC,UAAU,gBAA8Ch/B,UAAU,CAC7E,UAACiL,KAAgD;EAC/C,IAAQywB,UAAU,GAAYzwB,KAAK,CAA3BywB,UAAU;IAAEj7B,KAAK,GAAKwK,KAAK,CAAfxK,KAAK;EAEzB,IAAM09B,aAAa,GAAkBC,iCAAa,CAACzB,IAAI;;EAGvD,IAAA9vB,eAAA,GAAwC7M,cAAc,CACpDS,KAAK,WAALA,KAAK,GAAI,IAAIvB,IAAI,EAAE,CACpB;IAFMi+B,YAAY,GAAAtwB,eAAA;IAAEuwB,eAAe,GAAAvwB,eAAA;EAGpC,IAAAE,gBAAA,GAAwC/M,cAAc,CAAS;MAC7D,IAAM0D,QAAQ,GAAGjD,KAAK,WAALA,KAAK,GAAI,IAAIvB,IAAI,EAAE;MACpC,IAAIwE,QAAQ,EAAE;QACZ,IAAMu7B,SAAS,GAAGH,YAAY,CAACp7B,QAAQ,CAAC;QACxC,OAAO86B,eAAe,CAACS,SAAS,CAAC;;MAEnC,OAAO,eAAe;KACvB,CAAC;IAPKC,YAAY,GAAAnyB,gBAAA;IAAEoyB,eAAe,GAAApyB,gBAAA;EASpC,IAAA8Q,gBAAA,GAAwB7d,cAAc,CAAC,KAAK,CAAC;IAAtC8iB,IAAI,GAAAjF,gBAAA;IAAE2e,OAAO,GAAA3e,gBAAA;EAEpB,IAAM4e,YAAY,GAA8Bz8B,iBAAiB,CAC/D,UACE8e,EAAO,EACPvU,IAA2D;IAE3DiyB,OAAO,CAACjyB,IAAI,CAACuY,IAAI,CAAC;GACnB,EACD,EAAE,CACH;EAED,IAAM0a,SAAS,GAAGx9B,aAAa,CAC7B;IAAA,OAAMob,qBAAU,CAAC+gB,8BAAmB,EAAEC,+BAAoB,CAAC;KAC3D,EAAE,CACH;EAED,IAAMqB,YAAY,GAAGz9B,iBAAiB,CACpC,UAACtB,IAA6B;IAC5B,IAAIA,IAAI,EAAE;MACR0+B,eAAe,CAAC1+B,IAAI,CAAC;MACrB,IAAMugC,SAAS,GAAGH,YAAY,CAACpgC,IAAI,CAAC;MACpC,IAAM0gC,SAAS,GAAGZ,eAAe,CAACS,SAAS,CAAC;MAE5CE,eAAe,CAACC,SAAS,CAAC;MAC1B1D,UAAU,CAAC;QAAEzM,SAAS,EAAEgQ,SAAS,CAACzS,KAAK;QAAE0C,OAAO,EAAE+P,SAAS,CAACxS;OAAK,CAAC;MAClE+P,OAAO,CAAC,KAAK,CAAC;;GAEjB,EACD,CAACsC,YAAY,EAAEN,eAAe,EAAE9C,UAAU,CAAC,CAC5C;EAED,IAAM2D,cAAc,GAAGr/B,aAAa,CAAC;IAAA,OAAM,CAAC;KAAE,EAAE,CAAC,CAAC;EAElD,OACEA,oBAACwb,oBAAI;IAACsH,IAAI,EAAEA,IAAI;IAAE2Z,YAAY,EAAEA;KAC9Bz8B,oBAACyb,2BAAW;IAACC,wBAAwB;KACnC1b,oBAAC2b,0BAAU;IACTqhB,KAAK,EAAC,UAAU;IAChBxqB,IAAI,EAAExS,oBAACw9B,SAAS,OAAG;IACnBzvB,KAAK,EAAE;MAAE6C,QAAQ,EAAE;;KAElBsuB,YAAY,CACF,CACD,EACdl/B,oBAAC6b,2BAAW;IAAC9N,KAAK,EAAE;MAAElJ,QAAQ,EAAE;;KAC9B7E,oBAAC8b,wBAAQ,QACP9b,oBAAC29B,4BAAQ;IACPQ,aAAa,EAAEA,aAAa;IAC5BP,sBAAsB;IACtBC,aAAa;IACbJ,YAAY,EAAEA,YAAY;IAC1Bh9B,KAAK,EAAE08B,YAAY;IACnBkC,cAAc,EAAEA;IAChB,CACO,CACC,CACT;AAEX,CAAC,CACF;;AChHM,IAAMC,OAAO,gBAA2Bt/B,UAAU,CACvD,UAAAgH,IAAA;MACE40B,YAAY,GAAA50B,IAAA,CAAZ40B,YAAY;IACZ2D,cAAc,GAAAv4B,IAAA,CAAdu4B,cAAc;IACdtK,WAAW,GAAAjuB,IAAA,CAAXiuB,WAAW;IACXuK,cAAc,GAAAx4B,IAAA,CAAdw4B,cAAc;IACdC,YAAY,GAAAz4B,IAAA,CAAZy4B,YAAY;IACZC,aAAa,GAAA14B,IAAA,CAAb04B,aAAa;IACbC,WAAW,GAAA34B,IAAA,CAAX24B,WAAW;EAEX,IAAMC,SAAS,GAAGxkB,qBAAU,CAACykB,0BAAe,EAAEC,2BAAgB,CAAC;EAC/D,IAAMC,OAAO,GAAG3kB,qBAAU,CAAC4kB,wBAAa,EAAEC,yBAAc,CAAC;EAEzD,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAIzB,IAAwC;IAC5DgB,YAAY,CAAChB,IAAI,CAACxP,SAAS,CAAC;IAC5BuQ,cAAc,CAACf,IAAI,CAACxP,SAAS,CAAC;GAC/B;EAED,IAAMkR,aAAa,GAAG,SAAhBA,aAAaA,CAAI1K,KAAW;IAChCiK,aAAa,CAACjK,KAAK,CAAC;IACpB+J,cAAc,CAAC/J,KAAK,CAAC;GACtB;EAED,IAAM2K,WAAW,GAAG,SAAdA,WAAWA,CAAI9S,GAAS;IAC5BqS,WAAW,CAACrS,GAAG,CAAC;IAChBkS,cAAc,CAAClS,GAAG,CAAC;GACpB;EAED,IAAM+S,gBAAgB,GAAG,SAAnBA,gBAAgBA;IACpB,QAAQzE,YAAY;MAClB,KAAKJ,cAAc,CAACG,KAAK;QACvB,OAAO37B,oBAACu+B,WAAW;UAAC7C,UAAU,EAAEyE,aAAa;UAAE1/B,KAAK,EAAEw0B;UAAe;MACvE,KAAKuG,cAAc,CAACmB,IAAI;QACtB,OAAO38B,oBAACg/B,UAAU;UAACtD,UAAU,EAAEwE,YAAY;UAAEz/B,KAAK,EAAEw0B;UAAe;MACrE,KAAKuG,cAAc,CAACzG,GAAG;QACrB,OAAO/0B,oBAACk9B,SAAS;UAACxB,UAAU,EAAE0E,WAAW;UAAE3/B,KAAK,EAAEw0B;UAAe;MACnE;QACE,OAAOj1B,oBAACu+B,WAAW;UAAC7C,UAAU,EAAEyE,aAAa;UAAE1/B,KAAK,EAAEw0B;UAAe;;GAE1E;EAED,IAAMqL,WAAW,GAAG,SAAdA,WAAWA;IAAA,OACftgC,oBAACugC,oBAAO;MAACC,OAAO,EAAC,OAAO;MAACC,YAAY,EAAC;OACpCzgC,oBAACoS,kBAAM;MACL4qB,KAAK,EAAC,UAAU;MAChBxqB,IAAI,EAAExS,oBAAC0gC,+BAAoB,OAAG;MAC9BppB,IAAI,EAAC,QAAQ;MACbjF,OAAO,EAAE,SAATA,OAAOA;QAAA,OAAQstB,WAAW,CAAC,IAAIzgC,IAAI,EAAE,CAAC;;eAG/B,CACD;GACX;EAED,IAAMyhC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,MAAc;IACtC,IAAMC,OAAO,GAAG,IAAI3hC,IAAI,CAAC+1B,WAAW,CAAC;IACrC,QAAQ2G,YAAY;MAClB,KAAKJ,cAAc,CAACG,KAAK;QACvBkF,OAAO,CAACC,QAAQ,CAACD,OAAO,CAACE,QAAQ,EAAE,GAAGH,MAAM,CAAC;QAC7ClB,aAAa,CAACmB,OAAO,CAAC;QACtB;MACF,KAAKrF,cAAc,CAACmB,IAAI;QACtBkE,OAAO,CAAC7H,OAAO,CAAC6H,OAAO,CAAChI,OAAO,EAAE,GAAG+H,MAAM,GAAG,CAAC,CAAC;QAC/CnB,YAAY,CAACoB,OAAO,CAAC;QACrB;MACF,KAAKrF,cAAc,CAACzG,GAAG;QACrB8L,OAAO,CAAC7H,OAAO,CAAC6H,OAAO,CAAChI,OAAO,EAAE,GAAG+H,MAAM,CAAC;QAC3CjB,WAAW,CAACkB,OAAO,CAAC;QACpB;;IAIJrB,cAAc,CAACqB,OAAO,CAAC;GACxB;EAED,OACE7gC,oBAACyY,KAAK;IACJ7T,KAAK,EAAC,mBAAmB;IACzBE,MAAM,EAAC,aAAa;IACpBb,UAAU;IACV6T,eAAe,EAAC,eAAe;IAC/BC,aAAa,EAAC,QAAQ;IACtBvT,WAAW,EAAC,MAAM;IAClBC,YAAY,EAAC,MAAM;IACnBC,aAAa,EAAC,MAAM;IACpBU,UAAU,EAAC,MAAM;IACjB6S,SAAS,EAAE,EAAE;IACb3S,MAAM,EAAE;MAAEgB,QAAQ,EAAE;;KAEpBtG,oBAACyY,KAAK;IACJxU,UAAU;IACV6T,eAAe,EAAC,OAAO;IACvBC,aAAa,EAAC,QAAQ;IACtBE,SAAS,EAAE;KAEXjY,oBAACsgC,WAAW,OAAG,EACftgC,oBAACqgC,gBAAgB,OAAG,EACpBrgC,oBAACugC,oBAAO;IAACC,OAAO,EAAC,UAAU;IAACC,YAAY,EAAC;KACvCzgC,oBAACoS,kBAAM;IACLkF,IAAI,EAAC,QAAQ;IACb9E,IAAI,EAAExS,oBAAC+/B,OAAO;MAAC7X,QAAQ,EAAE;MAAM;IAC/B7V,OAAO,EAAE,SAATA,OAAOA;MAAA,OAAQsuB,gBAAgB,CAAC,CAAC,CAAC,CAAC;;IACnC,CACM,EACV3gC,oBAACugC,oBAAO;IAACC,OAAO,EAAC,MAAM;IAACC,YAAY,EAAC;KACnCzgC,oBAACoS,kBAAM;IACLkF,IAAI,EAAC,QAAQ;IACb9E,IAAI,EAAExS,oBAAC4/B,SAAS;MAAC1X,QAAQ,EAAE;MAAM;IACjC7V,OAAO,EAAE,SAATA,OAAOA;MAAA,OAAQsuB,gBAAgB,CAAC,CAAC,CAAC;;IAClC,CACM,CACJ,EACR3gC,oBAACyY,KAAK;IACJxU,UAAU;IACV6T,eAAe,EAAC,OAAO;IACvBC,aAAa,EAAC,QAAQ;IACtBE,SAAS,EAAE;KAEXjY,oBAACy7B,kBAAkB;IACjBC,UAAU,EAAE6D,cAAc;IAC1B9+B,KAAK,EAAEm7B;IACP,CACI,CACF;AAEZ,CAAC,CACF;;ACrIM,IAAMS,QAAQ,GAA6B,SAArCA,QAAQA,CAA8BpxB,KAAqB;EACtE,IAAQ4nB,MAAM,GAAyB5nB,KAAK,CAApC4nB,MAAM;IAAE/E,UAAU,GAAa7iB,KAAK,CAA5B6iB,UAAU;IAAEhpB,MAAM,GAAKmG,KAAK,CAAhBnG,MAAM;EAClC,IAAA2yB,kBAAA,GAAmB7B,iBAAiB,EAAE;IAA9BtwB,MAAM,GAAAmyB,kBAAA,CAANnyB,MAAM;EACd,IAAAoJ,SAAA,GAAsBC,cAAQ,CAACmf,UAAU,CAAC;IAAnCmH,WAAW,GAAAvmB,SAAA;EAClB,IAAAI,UAAA,GAAkCH,cAAQ,CAAS,EAAE,CAAC;IAA/C2oB,SAAS,GAAAxoB,UAAA;IAAEkyB,YAAY,GAAAlyB,UAAA,IAAyB;EACvD,IAAM0rB,WAAW,GAAGrV,YAAM,CAAiB,IAAI,CAAC;EAChD,IAAA+N,SAAA,GAAyBnE,QAAQ,EAAE;IAA3BC,YAAY,GAAAkE,SAAA,CAAZlE,YAAY;EACpB,IAAMiS,SAAS,GAAGC,mBAAW,CAACjM,WAAW,EAAE;IAAEt1B,YAAY,EAAE;GAAG,CAAC;EAC/D,IAAMlC,QAAQ,GAAGH,IAAI,CAACC,cAAc,EAAE,CAACC,eAAe,EAAE,CAACC,QAAQ;EAEjE,IAAAg9B,YAAA,GAA0BxC,WAAW,CAACpF,MAAM,EAAEp1B,QAAQ,CAAC;IAA/C47B,aAAa,GAAAoB,YAAA,CAAbpB,aAAa;;EAGrB7pB,eAAS,CAAC;IACR,IAAMmG,QAAQ,GAAG,IAAIxI,6BAAc,CAAC;MAClC,IAAIqtB,WAAW,CAACttB,OAAO,EAAE;QACvB,IAAMi0B,YAAY,GAAG3G,WAAW,CAACttB,OAAO,CAACk0B,aAAa,CACpD,UAAU,CACO;QACnB,IAAID,YAAY,EAAE;UAChBH,YAAY,CAACG,YAAY,CAACvX,YAAY,CAAC;;;KAG5C,CAAC;IACF,IAAI4Q,WAAW,CAACttB,OAAO,EAAE;MACvByI,QAAQ,CAAC/H,OAAO,CAAC4sB,WAAW,CAACttB,OAAO,CAAC;;IAEvC,OAAO;MACLyI,QAAQ,CAAC9H,UAAU,EAAE;KACtB;GACF,EAAE,CAAC2sB,WAAW,CAAC,CAAC;EAEjB,IAAMnI,aAAa,GAAGryB,iBAAiB,CAAC,UAACc,GAAW;IAClD,IAAIwxB,IAAI,GAAG,CAAC;IACZ,KAAK,IAAI9U,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG1c,GAAG,CAACF,MAAM,EAAE4c,CAAC,EAAE,EAAE;MACnC8U,IAAI,GAAGxxB,GAAG,CAACyxB,UAAU,CAAC/U,CAAC,CAAC,IAAI,CAAC8U,IAAI,IAAI,CAAC,IAAIA,IAAI,CAAC;;IAEjD,IAAME,CAAC,GAAG,CAACF,IAAI,GAAG,UAAU,EAAE50B,QAAQ,CAAC,EAAE,CAAC,CAAC+0B,WAAW,EAAE;IACxD,cAAW,OAAO,CAAC9xB,SAAS,CAAC,CAAC,EAAE,CAAC,GAAG6xB,CAAC,CAAC5xB,MAAM,CAAC,GAAG4xB,CAAC;GAClD,EAAE,EAAE,CAAC;EAEN,IAAMkI,gBAAgB,GAAG16B,iBAAiB,CAAC;IACzC,OAAOyT,KAAK,CAAC2L,IAAI,CAAC;MAAExe,MAAM,EAAE;KAAI,EAAE,UAAC64B,CAAC,EAAEkB,IAAI;MAAA,OACxC36B,oBAACA,cAAc;QAACC,GAAG,EAAE06B;SACnB36B;QAAK4L,SAAS,EAAEtG,MAAM,CAACgxB;SACrBt2B,oBAACqe,2BAAW,aAAGsc,IAAI,SAAmB,CAClC,EACN36B;QAAK4L,SAAS,EAAEtG,MAAM,CAACgxB;QAAY,CACpB;KAClB,CAAC;GACH,EAAE,EAAE,CAAC;EAEN,IAAMsE,gBAAgB,GAAG56B,iBAAiB,CAAC;IACzC,OACEA,0CAEEA;MAAK4L,SAAS,EAAEtG,MAAM,CAAC0wB;MAAe,EAErCviB,KAAK,CAAC2L,IAAI,CAAC;MAAExe,MAAM,EAAE;KAAG,EAAE,UAAC64B,CAAC,EAAEoB,QAAQ;MACrC,IAAMvN,GAAG,GAAGwN,eAAO,CAACmG,SAAS,EAAEpG,QAAQ,CAAC;MACxC,IAAME,YAAY,GAAGC,eAAO,CAAC1N,GAAG,CAAC,GAAGhoB,MAAM,CAACuxB,eAAe,GAAG,EAAE;MAC/D,OACE72B;QACEC,GAAG,EAAE46B,QAAQ;QACbjvB,SAAS,EAAE0C,4BAAY,CAAChJ,MAAM,CAACsxB,aAAa,EAAEmE,YAAY;SAE1D/6B,oBAACsqB,oBAAI;QAAC2Q,MAAM,EAAC,SAAS;QAAC3jB,IAAI,EAAE,GAAG;QAAEvJ,KAAK,EAAE;UAAEtJ,YAAY,EAAE;;SACtDzF,cAAM,CAACsuB,GAAG,EAAE,IAAI,CAAC,CACb,EACPttB,oBAACmnB,qBAAK,QAAEnoB,cAAM,CAACsuB,GAAG,EAAE,KAAK,CAAC,CAAS,CAC/B;KAET,CAAC,CACD;GAEN,EAAE,CAAC2T,SAAS,EAAE37B,MAAM,CAAC,CAAC;EAEvB,IAAM41B,mBAAmB,GAAGl7B,iBAAiB,CAAC;IAC5C,IAAMs5B,UAAU,GAAGD,aAAa,CAAC4H,SAAS,CAAClI,WAAW,EAAE,CAAC;IACzD,OACE/4B,0CACEA;MAAK4L,SAAS,EAAEtG,MAAM,CAACmxB;OACrBz2B,oBAACmnB,qBAAK,kBAAgB,CAClB,EACL1T,KAAK,CAAC2L,IAAI,CAAC;MAAExe,MAAM,EAAE;KAAG,EAAE,UAAC64B,CAAC,EAAEoB,QAAQ;MACrC,IAAMM,OAAO,GAAGn8B,cAAM,CAAC87B,eAAO,CAACmG,SAAS,EAAEpG,QAAQ,CAAC,EAAE,YAAY,CAAC;MAClE,IAAMO,SAAS,GAAG9B,UAAU,CAACx7B,IAAI,CAAC,UAACwvB,GAAG;QAAA,OAAKA,GAAG,CAAC5uB,IAAI,KAAKy8B,OAAO;QAAC;MAChE,IAAMvB,aAAa,GAAG,CAAAwB,SAAS,oBAATA,SAAS,CAAExB,aAAa,KAAI,EAAE;MAEpD,OACE55B;QAAKC,GAAG,EAAE46B,QAAQ;QAAEjvB,SAAS,EAAEtG,MAAM,CAACoxB;SACnCkD,aAAa,CAACjnB,GAAG,CAAC,UAAC+S,KAAK;QAAA,OACvB1lB;UACEC,GAAG,EAAEylB,KAAK,CAACxT,EAAE;UACbtG,SAAS,EAAEtG,MAAM,CAACqxB,YAAY;UAC9B5oB,KAAK,EAAE;YACLkoB,UAAU,QAAK4E,QAAQ,GAAG,CAAC,CAAE;YAC7BhX,eAAe,EAAEwO,aAAa,CAAC3M,KAAK,CAACjU,KAAK;;WAG5CzR,oBAACmnB,qBAAK;UAACvb,SAAS,EAAEtG,MAAM,CAAC8tB;WAAa1N,KAAK,CAACjU,KAAK,CAAS,CACtD;OACP,CAAC,CACE;KAET,CAAC,CACD;GAEN,EAAE,CAACwvB,SAAS,EAAE37B,MAAM,EAAE+zB,aAAa,EAAEhH,aAAa,CAAC,CAAC;EAErD,IAAMgJ,cAAc,GAAGr7B,iBAAiB,CAAC;IACvC,IAAMs5B,UAAU,GAAGD,aAAa,CAAC4H,SAAS,CAAClI,WAAW,EAAE,CAAC;IAEzD,OAAOtlB,KAAK,CAAC2L,IAAI,CAAC;MAAExe,MAAM,EAAE;KAAG,EAAE,UAAC64B,CAAC,EAAEoB,QAAQ;MAC3C,IAAMM,OAAO,GAAGn8B,cAAM,CAAC87B,eAAO,CAACmG,SAAS,EAAEpG,QAAQ,CAAC,EAAE,YAAY,CAAC;MAClE,IAAMO,SAAS,GAAG9B,UAAU,CAACx7B,IAAI,CAAC,UAACwvB,GAAG;QAAA,OAAKA,GAAG,CAAC5uB,IAAI,KAAKy8B,OAAO;QAAC;MAEhE,OACEn7B,0CACGo7B,SAAS,oBAATA,SAAS,CAAElB,SAAS,CAACvnB,GAAG,CAAC,UAAC2oB,QAAQ,EAAEtB,SAAS;QAC5C,IAAMxC,UAAU,GAAG8D,QAAQ,CAACzI,MAAM,CAACjyB,MAAM,CAAC;QAE1C,OACEZ;UACEC,GAAG,EAAE+5B,SAAS;UACdpuB,SAAS,EAAEtG,MAAM,CAACyxB,OAAO;UACzBhpB,KAAK,EAAE;YACLqoB,OAAO,EAAE4D,SAAS,GAAG;;WAGtBsB,QAAQ,CAACzI,MAAM,CAAClgB,GAAG,CAAC,UAAC+S,KAAK,EAAE6R,UAAU;UACrC,IAAMtI,SAAS,GAAG,IAAI/vB,IAAI,CAACwmB,KAAK,CAAC8G,KAAK,CAAC;UACvC,IAAM0C,OAAO,GAAG,IAAIhwB,IAAI,CAACwmB,KAAK,CAAC+G,GAAG,CAAC;;UAEnC,IAAA8O,aAAA,GAAiCvM,YAAY,CAC3CC,SAAS,EACTC,OAAO,CACR;YAHOS,SAAS,GAAA4L,aAAA,CAAT5L,SAAS;YAAEJ,SAAS,GAAAgM,aAAA,CAAThM,SAAS;;UAK5B,IAAIyK,SAAS,KAAKzK,SAAS,EAAE;YAC3B,IAAMqF,YAAY,GAAGlP,KAAK,oBAALA,KAAK,CAAEsS,kBAAkB;;YAE9C,IAAIh4B,oBAAoB,CAAC40B,YAAY,CAAC,EAAE;cACtC,OAAO50B,kBAAkB,CACvB40B,YAAkC,EAClC,EAAE,CACH;;;YAGH,OACE50B,oBAAC43B,aAAa;cACZ33B,GAAG,EAAEylB,KAAK,CAACxT,EAAE;cACbwT,KAAK,EAAEA,KAAK;cACZ8R,UAAU,EAAEA,UAAU;cACtB7H,SAAS,EAAEA,SAAS;cACpB2H,SAAS,EAAEA,SAAS;cACpBC,UAAU,EAAEA,UAAU;cACtBM,IAAI,EAAC;cACL;;UAGN,OAAO,IAAI,CAAC;SACb,CAAC,CACE;OAET,CAAC,CACD;KAEN,CAAC;GACH,EAAE,CAACoJ,SAAS,EAAE37B,MAAM,EAAE+zB,aAAa,EAAErK,YAAY,EAAEsI,SAAS,CAAC,CAAC;EAE/D,OACEt3B;IAAK4L,SAAS,EAAEtG,MAAM,CAAC8T,SAAS;IAAErL,KAAK,EAAE;MAAEjJ,MAAM,EAAEA;;KAEjD9E;IAAK4M,GAAG,EAAE4tB,WAAW;IAAE5uB,SAAS,EAAEtG,MAAM,CAACuwB;KACvC71B;IAAK4L,SAAS,EAAEtG,MAAM,CAAC6wB;KAAauE,gBAAgB,EAAE,CAAO,EAC5DE,gBAAgB,EAAE,EAClBM,mBAAmB,EAAE,EACrBG,cAAc,EAAE,CACb,CACF;AAEV,CAAC;;AClLD,IAAMgG,UAAU,GAAa,CAC3B,QAAQ,EACR,QAAQ,EACR,SAAS,EACT,WAAW,EACX,UAAU,EACV,QAAQ,EACR,UAAU,CACX;AAED,IAAaC,eAAe,GAAoC,SAAnDA,eAAeA,CAC1Br2B,KAA4B;EAE5B,IAAA+nB,kBAAA,GAAmB/F,iBAAiB,CAAChiB,AAAc,CAAC;IAA5C3F,MAAM,GAAA0tB,kBAAA,CAAN1tB,MAAM;EACd,IAAMk1B,WAAW,GAAGrV,YAAM,CAAiB,IAAI,CAAC;EAChD,IAAAzW,SAAA,GAAkCC,cAAQ,CAAgB,IAAI,CAAC;IAAxD2oB,SAAS,GAAA5oB,SAAA;IAAEsyB,YAAY,GAAAtyB,SAAA;EAC9B,IACEmkB,MAAM,GAOJ5nB,KAAK,CAPP4nB,MAAM;IAAA0O,aAAA,GAOJt2B,KAAK,CANPnG,MAAM;IAANA,MAAM,GAAAy8B,aAAA,cAAG,GAAG,GAAAA,aAAA;IACZvnB,KAAK,GAKH/O,KAAK,CALP+O,KAAK;IACL2lB,WAAW,GAIT10B,KAAK,CAJP00B,WAAW;IACXD,aAAa,GAGXz0B,KAAK,CAHPy0B,aAAa;IACbD,YAAY,GAEVx0B,KAAK,CAFPw0B,YAAY;IACZ+B,YAAY,GACVv2B,KAAK,CADPu2B,YAAY;EAEd,IAAMC,YAAY,GAAGtc,YAAM,CAAS,CAAC,CAAC;;EAGtC,IAAArW,UAAA,GAAsCH,cAAQ,CAC5C,IAAIzP,IAAI,EAAE,CACX;IAFM+1B,WAAW,GAAAnmB,UAAA;IAAE0wB,cAAc,GAAA1wB,UAAA;;EAIlC,IAAA4yB,UAAA,GAAwC/yB,cAAQ,CAC9C6sB,cAAc,CAACG,KAAK,CACrB;IAFMC,YAAY,GAAA8F,UAAA;IAAE7F,eAAe,GAAA6F,UAAA;;EAIpC,IAAAjH,YAAA,GAA6BxC,WAAW,CACtCpF,MAAM,EACNv1B,IAAI,CAACC,cAAc,EAAE,CAACC,eAAe,EAAE,CAACC,QAAQ,CACjD;IAHOi7B,gBAAgB,GAAA+B,YAAA,CAAhB/B,gBAAgB;;EAKxB,IAAMiJ,eAAe,GAAG3hC,iBAAiB,CAAC,UAACtB,IAAU;IACnD,IAAM+2B,KAAK,GAAG/2B,IAAI,CAACqiC,QAAQ,EAAE;IAC7B,IAAMa,eAAe,GAAGC,oBAAY,CAACnjC,IAAI,CAAC;IAC1C,IAAM2gC,cAAc,GAAG6B,mBAAW,CAACU,eAAe,CAAC;IACnD,IAAME,kBAAkB,GAAG,EAAE;;IAE7B,IAAMC,YAAY,GAAGtuB,KAAK,CAAC2L,IAAI,CAC7B;MAAExe,MAAM,EAAEkhC;KAAoB,EAC9B,UAACrI,CAAC,EAAE5mB,KAAK;MACP,IAAMmvB,WAAW,GAAGlH,eAAO,CAACuE,cAAc,EAAExsB,KAAK,CAAC;MAClD,OAAO;QACLya,GAAG,EAAE0U,WAAW,CAACnJ,OAAO,EAAE;QAC1B7D,YAAY,EAAEgN,WAAW,CAACjB,QAAQ,EAAE,KAAKtL,KAAK;QAC9C/2B,IAAI,EAAEsjC;OACP;KACF,CACF;IACD,OAAOD,YAAY;GACpB,EAAE,EAAE,CAAC;;EAGN,IAAME,iBAAiB,GAAGjiC,iBAAiB,CACzC,UAACtB,IAAU;IACT,IAAIghC,aAAa,EAAE;MACjBA,aAAa,CAAChhC,IAAI,CAAC;;IAErB8gC,cAAc,CAAC9gC,IAAI,CAAC;GACrB,EACD,CAACu2B,WAAW,CAAC,CACd;;EAED,IAAMiN,eAAe,GAAGliC,iBAAiB,CACvC,UAACtB,IAAU;IACT,IAAIihC,WAAW,EAAE;MACfA,WAAW,CAACjhC,IAAI,CAAC;;IAEnB8gC,cAAc,CAAC9gC,IAAI,CAAC;GACrB,EACD,CAACu2B,WAAW,CAAC,CACd;;EAED,IAAMkN,gBAAgB,GAAGniC,iBAAiB,CACxC,UAACtB,IAAU;IACT,IAAI+gC,YAAY,EAAE;MAChBA,YAAY,CAAC/gC,IAAI,CAAC;;IAEpB8gC,cAAc,CAAC9gC,IAAI,CAAC;GACrB,EACD,CAACu2B,WAAW,CAAC,CACd;;EAED,IAAMmN,gBAAgB,GAAGpiC,iBAAiB,CACxC,UAAC63B,IAAoB;IACnB,IAAI2J,YAAY,EAAE;MAChBA,YAAY,CAAC3J,IAAI,CAAC;;IAEpBgE,eAAe,CAAChE,IAAI,CAAC;GACtB,EACD,CAAC+D,YAAY,CAAC,CACf;;;EAID,IAAMyG,eAAe,GAAGriC,iBAAiB,CACvC,UAACsiC,OAAqB;;IACpB,IAAQ5jC,IAAI,GAAK4jC,OAAO,CAAhB5jC,IAAI;IACZ,IAAM6jC,WAAW,GAAG7J,gBAAgB,CAClCzD,WAAW,CAACuN,WAAW,EAAE,EACzBvN,WAAW,CAAC8L,QAAQ,EAAE,CACvB;IACD,IAAM0B,SAAS,GAAG/jC,IAAI,CAACq6B,WAAW,EAAE,CAAC33B,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACnD,OAAO,EAAAshC,qBAAA,GAAAH,WAAW,CAACE,SAAS,CAAC,qBAAtBC,qBAAA,CAAwBC,OAAO,CAAC,UAACC,IAAI;MAAA,OAAKA,IAAI;MAAC,KAAI,EAAE;GAC7D,EACD,CAAC3N,WAAW,CAAC,CACd;;EAEDzlB,eAAS,CAAC;IACR,IAAMsE,YAAY,GAAG,SAAfA,YAAYA;;;MAGhB,IAAI0mB,WAAW,CAACttB,OAAO,EAAE;QACvB2G,UAAU,CAAC;UACT,IAAI2mB,WAAW,CAACttB,OAAO,EAAE;YACvB,IAAM21B,mBAAmB,GAAGrI,WAAW,CAACttB,OAAO,CAACk0B,aAAa,OACvD97B,MAAM,CAAC4nB,eAAe,wBAAqB,CAC9B;YAEnB,IAAI2V,mBAAmB,EAAE;cACvB7B,YAAY,CAAC6B,mBAAmB,CAACjZ,YAAY,CAAC;cAC9C6X,YAAY,CAACv0B,OAAO,GAAG21B,mBAAmB,CAACjZ,YAAY;;;SAG5D,EAAE,GAAG,CAAC,CAAC;;KAEX;IACD,IAAMjU,QAAQ,GAAG,IAAIxI,6BAAc,CAAC2G,YAAY,CAAC;IACjD,IAAI0mB,WAAW,CAACttB,OAAO,EAAE;MACvByI,QAAQ,CAAC/H,OAAO,CAAC4sB,WAAW,CAACttB,OAAO,CAAC;;IAEvC4G,YAAY,EAAE;;IAEdtS,MAAM,CAAC+H,gBAAgB,CAAC,QAAQ,EAAEuK,YAAY,CAAC;IAC/C,OAAO;MACL6B,QAAQ,CAAC9H,UAAU,EAAE;MACrBrM,MAAM,CAACukB,mBAAmB,CAAC,QAAQ,EAAEjS,YAAY,CAAC;KACnD;GACF,EAAE,CAAC0mB,WAAW,CAAC,CAAC;;;EAIjB,IAAMsI,eAAe,GAAG9iC,UAAU,CAAC;IACjC,OACEA,oBAACyY,KAAK;MACJ3T,MAAM,EAAEA,MAAM;MACdF,KAAK,EAAE,MAAM;MACbmT,aAAa,EAAC,OAAO;MACrBD,eAAe,EAAC;OAEhB9X;MAAK4L,SAAS,EAAEtG,MAAM,CAAC4nB,eAAe;MAAEtgB,GAAG,EAAE4tB;OAC1C6G,UAAU,CAAC1uB,GAAG,CAAC,UAAC2a,GAAG;MAAA,OAClBttB,oBAACmnB,qBAAK;QAAClnB,GAAG,EAAEqtB,GAAG;QAAE1hB,SAAS,EAAEtG,MAAM,CAAC8nB;SAChCE,GAAG,CACE;KACT,CAAC,EACDqU,eAAe,CAAC1M,WAAW,CAAC,CAACtiB,GAAG,CAAC,UAAC2vB,OAAO,EAAEzvB,KAAK;MAC/C,IAAQya,GAAG,GAAmBgV,OAAO,CAA7BhV,GAAG;QAAE0H,YAAY,GAAKsN,OAAO,CAAxBtN,YAAY;MACzB,IAAMnC,MAAM,GAAGmC,YAAY,GAAGqN,eAAe,CAACC,OAAO,CAAC,GAAG,EAAE;MAC3D,OACEtiC,oBAAC+0B,GAAG;QACF90B,GAAG,EAAE4S,KAAK;QACVya,GAAG,EAAEA,GAAG;QACR5uB,IAAI,EAAE4jC,OAAO,CAAC5jC,IAAI;QAClBs2B,YAAY,EAAEsN,OAAO,CAACtN,YAAY;QAClCnC,MAAM,EAAEA,MAAM;QACdE,YAAY,EAAEuE,SAAS,IAAI;QAC3B;KAEL,CAAC,CACE,CACA;GAEX,CAAC;;EAEF,IAAMyL,cAAc,GAAG/iC,UAAU,CAAC;IAChC,OACEA,0CACG47B,YAAY,KAAKJ,cAAc,CAACmB,IAAI,IACnC38B,oBAACq8B,QAAQ;MAACxJ,MAAM,EAAEA,MAAM;MAAE/E,UAAU,EAAEmH,WAAW;MAAEnwB,MAAM,EAAEA;MAC5D,CACA;GAEN,CAAC;;EAEF,IAAMk+B,aAAa,GAAGhjC,UAAU,CAAC;IAC/B,OACEA,0CACG47B,YAAY,KAAKJ,cAAc,CAACzG,GAAG,IAClC/0B,oBAACs6B,OAAO;MAACxM,UAAU,EAAEmH,WAAW;MAAEpC,MAAM,EAAEA,MAAM;MAAE/tB,MAAM,EAAEA;MAC3D,CACA;GAEN,CAAC;;EAGF,IAAMm+B,aAAa,GAAGjjC,iBAAiB,CAAC;IACtC,QAAQ47B,YAAY;MAClB,KAAKJ,cAAc,CAACG,KAAK;QACvB,OAAO37B,oBAAC8iC,eAAe,OAAG;MAC5B,KAAKtH,cAAc,CAACmB,IAAI;QACtB,OAAO38B,oBAAC+iC,cAAc,OAAG;MAC3B,KAAKvH,cAAc,CAACzG,GAAG;QACrB,OAAO/0B,oBAACgjC,aAAa,OAAG;MAC1B;QACE,OAAOhjC,oBAAC8iC,eAAe,OAAG;;GAE/B,EAAE,CAAClH,YAAY,EAAEkH,eAAe,EAAEC,cAAc,EAAEC,aAAa,CAAC,CAAC;EAElE,OACEhjC,0CACEA,oBAACub,gCAAgB;IAAC9a,KAAK,EAAC;KACtBT,oBAACoa,8BAAc;IAACJ,KAAK,EAAEA,KAAK,WAALA,KAAK,GAAIkpB;KAC9BljC,oBAACyY,KAAK;IAAC3T,MAAM,EAAE,MAAM;IAAEiT,aAAa,EAAC;KACnC/X,oBAACs/B,OAAO;IACN1D,YAAY,EAAEA,YAAY;IAC1B2D,cAAc,EAAE6C,gBAAgB;IAChCnN,WAAW,EAAEA,WAAW;IACxBuK,cAAc,EAAEA,cAAc;IAC9BC,YAAY,EAAE0C,gBAAgB;IAC9BzC,aAAa,EAAEuC,iBAAiB;IAChCtC,WAAW,EAAEuC;IACb,EACFliC,oBAACijC,aAAa,OAAG,CACX,CACO,CACA,CAClB;AAEP,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}